(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){"use strict";require("./noConflict");var _global=_interopRequireDefault(require("core-js/library/fn/global"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}if(_global.default._babelPolyfill&&typeof console!=="undefined"&&console.warn){console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended "+"and may have consequences if different versions of the polyfills are applied sequentially. "+"If you do need to load the polyfill more than once, use @babel/polyfill/noConflict "+"instead to bypass the warning.")}_global.default._babelPolyfill=true},{"./noConflict":2,"core-js/library/fn/global":85}],2:[function(require,module,exports){"use strict";require("core-js/es6");require("core-js/fn/array/includes");require("core-js/fn/array/flat-map");require("core-js/fn/string/pad-start");require("core-js/fn/string/pad-end");require("core-js/fn/string/trim-start");require("core-js/fn/string/trim-end");require("core-js/fn/symbol/async-iterator");require("core-js/fn/object/get-own-property-descriptors");require("core-js/fn/object/values");require("core-js/fn/object/entries");require("core-js/fn/promise/finally");require("core-js/web");require("regenerator-runtime/runtime")},{"core-js/es6":73,"core-js/fn/array/flat-map":74,"core-js/fn/array/includes":75,"core-js/fn/object/entries":76,"core-js/fn/object/get-own-property-descriptors":77,"core-js/fn/object/values":78,"core-js/fn/promise/finally":79,"core-js/fn/string/pad-end":80,"core-js/fn/string/pad-start":81,"core-js/fn/string/trim-end":82,"core-js/fn/string/trim-start":83,"core-js/fn/symbol/async-iterator":84,"core-js/web":376,"regenerator-runtime/runtime":447}],3:[function(require,module,exports){function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]});desc.enumerable=!!desc.enumerable;desc.configurable=!!desc.configurable;if("value"in desc||desc.initializer){desc.writable=true}desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc);if(context&&desc.initializer!==void 0){desc.value=desc.initializer?desc.initializer.call(context):void 0;desc.initializer=undefined}if(desc.initializer===void 0){Object.defineProperty(target,property,desc);desc=null}return desc}module.exports=_applyDecoratedDescriptor},{}],4:[function(require,module,exports){function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}module.exports=_arrayWithHoles},{}],5:[function(require,module,exports){function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}module.exports=_assertThisInitialized},{}],6:[function(require,module,exports){function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}module.exports=_asyncToGenerator},{}],7:[function(require,module,exports){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}module.exports=_classCallCheck},{}],8:[function(require,module,exports){function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}module.exports=_createClass},{}],9:[function(require,module,exports){function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}module.exports=_defineProperty},{}],10:[function(require,module,exports){var superPropBase=require("./superPropBase");function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){module.exports=_get=Reflect.get}else{module.exports=_get=function _get(target,property,receiver){var base=superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}module.exports=_get},{"./superPropBase":19}],11:[function(require,module,exports){function _getPrototypeOf(o){module.exports=_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}module.exports=_getPrototypeOf},{}],12:[function(require,module,exports){var setPrototypeOf=require("./setPrototypeOf");function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)setPrototypeOf(subClass,superClass)}module.exports=_inherits},{"./setPrototypeOf":17}],13:[function(require,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}module.exports=_interopRequireDefault},{}],14:[function(require,module,exports){function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}module.exports=_iterableToArrayLimit},{}],15:[function(require,module,exports){function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}module.exports=_nonIterableRest},{}],16:[function(require,module,exports){var _typeof=require("../helpers/typeof");var assertThisInitialized=require("./assertThisInitialized");function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return assertThisInitialized(self)}module.exports=_possibleConstructorReturn},{"../helpers/typeof":21,"./assertThisInitialized":5}],17:[function(require,module,exports){function _setPrototypeOf(o,p){module.exports=_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}module.exports=_setPrototypeOf},{}],18:[function(require,module,exports){var arrayWithHoles=require("./arrayWithHoles");var iterableToArrayLimit=require("./iterableToArrayLimit");var nonIterableRest=require("./nonIterableRest");function _slicedToArray(arr,i){return arrayWithHoles(arr)||iterableToArrayLimit(arr,i)||nonIterableRest()}module.exports=_slicedToArray},{"./arrayWithHoles":4,"./iterableToArrayLimit":14,"./nonIterableRest":15}],19:[function(require,module,exports){var getPrototypeOf=require("./getPrototypeOf");function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=getPrototypeOf(object);if(object===null)break}return object}module.exports=_superPropBase},{"./getPrototypeOf":11}],20:[function(require,module,exports){function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}module.exports=_taggedTemplateLiteral},{}],21:[function(require,module,exports){function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){module.exports=_typeof=function _typeof(obj){return _typeof2(obj)}}else{module.exports=_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}module.exports=_typeof},{}],22:[function(require,module,exports){module.exports=require("regenerator-runtime")},{"regenerator-runtime":447}],23:[function(require,module,exports){(function(global){"use strict";var objectAssign=require("object-assign");function compare(a,b){if(a===b){return 0}var x=a.length;var y=b.length;for(var i=0,len=Math.min(x,y);i<len;++i){if(a[i]!==b[i]){x=a[i];y=b[i];break}}if(x<y){return-1}if(y<x){return 1}return 0}function isBuffer(b){if(global.Buffer&&typeof global.Buffer.isBuffer==="function"){return global.Buffer.isBuffer(b)}return!!(b!=null&&b._isBuffer)}var util=require("util/");var hasOwn=Object.prototype.hasOwnProperty;var pSlice=Array.prototype.slice;var functionsHaveNames=function(){return function foo(){}.name==="foo"}();function pToString(obj){return Object.prototype.toString.call(obj)}function isView(arrbuf){if(isBuffer(arrbuf)){return false}if(typeof global.ArrayBuffer!=="function"){return false}if(typeof ArrayBuffer.isView==="function"){return ArrayBuffer.isView(arrbuf)}if(!arrbuf){return false}if(arrbuf instanceof DataView){return true}if(arrbuf.buffer&&arrbuf.buffer instanceof ArrayBuffer){return true}return false}var assert=module.exports=ok;var regex=/\s*function\s+([^\(\s]*)\s*/;function getName(func){if(!util.isFunction(func)){return}if(functionsHaveNames){return func.name}var str=func.toString();var match=str.match(regex);return match&&match[1]}assert.AssertionError=function AssertionError(options){this.name="AssertionError";this.actual=options.actual;this.expected=options.expected;this.operator=options.operator;if(options.message){this.message=options.message;this.generatedMessage=false}else{this.message=getMessage(this);this.generatedMessage=true}var stackStartFunction=options.stackStartFunction||fail;if(Error.captureStackTrace){Error.captureStackTrace(this,stackStartFunction)}else{var err=new Error;if(err.stack){var out=err.stack;var fn_name=getName(stackStartFunction);var idx=out.indexOf("\n"+fn_name);if(idx>=0){var next_line=out.indexOf("\n",idx+1);out=out.substring(next_line+1)}this.stack=out}}};util.inherits(assert.AssertionError,Error);function truncate(s,n){if(typeof s==="string"){return s.length<n?s:s.slice(0,n)}else{return s}}function inspect(something){if(functionsHaveNames||!util.isFunction(something)){return util.inspect(something)}var rawname=getName(something);var name=rawname?": "+rawname:"";return"[Function"+name+"]"}function getMessage(self){return truncate(inspect(self.actual),128)+" "+self.operator+" "+truncate(inspect(self.expected),128)}function fail(actual,expected,message,operator,stackStartFunction){throw new assert.AssertionError({message:message,actual:actual,expected:expected,operator:operator,stackStartFunction:stackStartFunction})}assert.fail=fail;function ok(value,message){if(!value)fail(value,true,message,"==",assert.ok)}assert.ok=ok;assert.equal=function equal(actual,expected,message){if(actual!=expected)fail(actual,expected,message,"==",assert.equal)};assert.notEqual=function notEqual(actual,expected,message){if(actual==expected){fail(actual,expected,message,"!=",assert.notEqual)}};assert.deepEqual=function deepEqual(actual,expected,message){if(!_deepEqual(actual,expected,false)){fail(actual,expected,message,"deepEqual",assert.deepEqual)}};assert.deepStrictEqual=function deepStrictEqual(actual,expected,message){if(!_deepEqual(actual,expected,true)){fail(actual,expected,message,"deepStrictEqual",assert.deepStrictEqual)}};function _deepEqual(actual,expected,strict,memos){if(actual===expected){return true}else if(isBuffer(actual)&&isBuffer(expected)){return compare(actual,expected)===0}else if(util.isDate(actual)&&util.isDate(expected)){return actual.getTime()===expected.getTime()}else if(util.isRegExp(actual)&&util.isRegExp(expected)){return actual.source===expected.source&&actual.global===expected.global&&actual.multiline===expected.multiline&&actual.lastIndex===expected.lastIndex&&actual.ignoreCase===expected.ignoreCase}else if((actual===null||typeof actual!=="object")&&(expected===null||typeof expected!=="object")){return strict?actual===expected:actual==expected}else if(isView(actual)&&isView(expected)&&pToString(actual)===pToString(expected)&&!(actual instanceof Float32Array||actual instanceof Float64Array)){return compare(new Uint8Array(actual.buffer),new Uint8Array(expected.buffer))===0}else if(isBuffer(actual)!==isBuffer(expected)){return false}else{memos=memos||{actual:[],expected:[]};var actualIndex=memos.actual.indexOf(actual);if(actualIndex!==-1){if(actualIndex===memos.expected.indexOf(expected)){return true}}memos.actual.push(actual);memos.expected.push(expected);return objEquiv(actual,expected,strict,memos)}}function isArguments(object){return Object.prototype.toString.call(object)=="[object Arguments]"}function objEquiv(a,b,strict,actualVisitedObjects){if(a===null||a===undefined||b===null||b===undefined)return false;if(util.isPrimitive(a)||util.isPrimitive(b))return a===b;if(strict&&Object.getPrototypeOf(a)!==Object.getPrototypeOf(b))return false;var aIsArgs=isArguments(a);var bIsArgs=isArguments(b);if(aIsArgs&&!bIsArgs||!aIsArgs&&bIsArgs)return false;if(aIsArgs){a=pSlice.call(a);b=pSlice.call(b);return _deepEqual(a,b,strict)}var ka=objectKeys(a);var kb=objectKeys(b);var key,i;if(ka.length!==kb.length)return false;ka.sort();kb.sort();for(i=ka.length-1;i>=0;i--){if(ka[i]!==kb[i])return false}for(i=ka.length-1;i>=0;i--){key=ka[i];if(!_deepEqual(a[key],b[key],strict,actualVisitedObjects))return false}return true}assert.notDeepEqual=function notDeepEqual(actual,expected,message){if(_deepEqual(actual,expected,false)){fail(actual,expected,message,"notDeepEqual",assert.notDeepEqual)}};assert.notDeepStrictEqual=notDeepStrictEqual;function notDeepStrictEqual(actual,expected,message){if(_deepEqual(actual,expected,true)){fail(actual,expected,message,"notDeepStrictEqual",notDeepStrictEqual)}}assert.strictEqual=function strictEqual(actual,expected,message){if(actual!==expected){fail(actual,expected,message,"===",assert.strictEqual)}};assert.notStrictEqual=function notStrictEqual(actual,expected,message){if(actual===expected){fail(actual,expected,message,"!==",assert.notStrictEqual)}};function expectedException(actual,expected){if(!actual||!expected){return false}if(Object.prototype.toString.call(expected)=="[object RegExp]"){return expected.test(actual)}try{if(actual instanceof expected){return true}}catch(e){}if(Error.isPrototypeOf(expected)){return false}return expected.call({},actual)===true}function _tryBlock(block){var error;try{block()}catch(e){error=e}return error}function _throws(shouldThrow,block,expected,message){var actual;if(typeof block!=="function"){throw new TypeError('"block" argument must be a function')}if(typeof expected==="string"){message=expected;expected=null}actual=_tryBlock(block);message=(expected&&expected.name?" ("+expected.name+").":".")+(message?" "+message:".");if(shouldThrow&&!actual){fail(actual,expected,"Missing expected exception"+message)}var userProvidedMessage=typeof message==="string";var isUnwantedException=!shouldThrow&&util.isError(actual);var isUnexpectedException=!shouldThrow&&actual&&!expected;if(isUnwantedException&&userProvidedMessage&&expectedException(actual,expected)||isUnexpectedException){fail(actual,expected,"Got unwanted exception"+message)}if(shouldThrow&&actual&&expected&&!expectedException(actual,expected)||!shouldThrow&&actual){throw actual}}assert.throws=function(block,error,message){_throws(true,block,error,message)};assert.doesNotThrow=function(block,error,message){_throws(false,block,error,message)};assert.ifError=function(err){if(err)throw err};function strict(value,message){if(!value)fail(value,true,message,"==",strict)}assert.strict=objectAssign(strict,assert,{equal:assert.strictEqual,deepEqual:assert.deepStrictEqual,notEqual:assert.notStrictEqual,notDeepEqual:assert.notDeepStrictEqual});assert.strict.strict=assert.strict;var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj){if(hasOwn.call(obj,key))keys.push(key)}return keys}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"object-assign":422,"util/":26}],24:[function(require,module,exports){if(typeof Object.create==="function"){module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}})}}else{module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype;ctor.prototype=new TempCtor;ctor.prototype.constructor=ctor}}},{}],25:[function(require,module,exports){module.exports=function isBuffer(arg){return arg&&typeof arg==="object"&&typeof arg.copy==="function"&&typeof arg.fill==="function"&&typeof arg.readUInt8==="function"}},{}],26:[function(require,module,exports){(function(process,global){var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){var objects=[];for(var i=0;i<arguments.length;i++){objects.push(inspect(arguments[i]))}return objects.join(" ")}var i=1;var args=arguments;var len=args.length;var str=String(f).replace(formatRegExp,function(x){if(x==="%%")return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}});for(var x=args[i];i<len;x=args[++i]){if(isNull(x)||!isObject(x)){str+=" "+x}else{str+=" "+inspect(x)}}return str};exports.deprecate=function(fn,msg){if(isUndefined(global.process)){return function(){return exports.deprecate(fn,msg).apply(this,arguments)}}if(process.noDeprecation===true){return fn}var warned=false;function deprecated(){if(!warned){if(process.throwDeprecation){throw new Error(msg)}else if(process.traceDeprecation){console.trace(msg)}else{console.error(msg)}warned=true}return fn.apply(this,arguments)}return deprecated};var debugs={};var debugEnviron;exports.debuglog=function(set){if(isUndefined(debugEnviron))debugEnviron=process.env.NODE_DEBUG||"";set=set.toUpperCase();if(!debugs[set]){if(new RegExp("\\b"+set+"\\b","i").test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else{debugs[set]=function(){}}}return debugs[set]};function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};if(arguments.length>=3)ctx.depth=arguments[2];if(arguments.length>=4)ctx.colors=arguments[3];if(isBoolean(opts)){ctx.showHidden=opts}else if(opts){exports._extend(ctx,opts)}if(isUndefined(ctx.showHidden))ctx.showHidden=false;if(isUndefined(ctx.depth))ctx.depth=2;if(isUndefined(ctx.colors))ctx.colors=false;if(isUndefined(ctx.customInspect))ctx.customInspect=true;if(ctx.colors)ctx.stylize=stylizeWithColor;return formatValue(ctx,obj,ctx.depth)}exports.inspect=inspect;inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];if(style){return"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m"}else{return str}}function stylizeNoColor(str,styleType){return str}function arrayToHash(array){var hash={};array.forEach(function(val,idx){hash[val]=true});return hash}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&!(value.constructor&&value.constructor.prototype===value)){var ret=value.inspect(recurseTimes,ctx);if(!isString(ret)){ret=formatValue(ctx,ret,recurseTimes)}return ret}var primitive=formatPrimitive(ctx,value);if(primitive){return primitive}var keys=Object.keys(value);var visibleKeys=arrayToHash(keys);if(ctx.showHidden){keys=Object.getOwnPropertyNames(value)}if(isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0)){return formatError(value)}if(keys.length===0){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}if(isDate(value)){return ctx.stylize(Date.prototype.toString.call(value),"date")}if(isError(value)){return formatError(value)}}var base="",array=false,braces=["{","}"];if(isArray(value)){array=true;braces=["[","]"]}if(isFunction(value)){var n=value.name?": "+value.name:"";base=" [Function"+n+"]"}if(isRegExp(value)){base=" "+RegExp.prototype.toString.call(value)}if(isDate(value)){base=" "+Date.prototype.toUTCString.call(value)}if(isError(value)){base=" "+formatError(value)}if(keys.length===0&&(!array||value.length==0)){return braces[0]+base+braces[1]}if(recurseTimes<0){if(isRegExp(value)){return ctx.stylize(RegExp.prototype.toString.call(value),"regexp")}else{return ctx.stylize("[Object]","special")}}ctx.seen.push(value);var output;if(array){output=formatArray(ctx,value,recurseTimes,visibleKeys,keys)}else{output=keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)})}ctx.seen.pop();return reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}if(isNumber(value))return ctx.stylize(""+value,"number");if(isBoolean(value))return ctx.stylize(""+value,"boolean");if(isNull(value))return ctx.stylize("null","null")}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){var output=[];for(var i=0,l=value.length;i<l;++i){if(hasOwnProperty(value,String(i))){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),true))}else{output.push("")}}keys.forEach(function(key){if(!key.match(/^\d+$/)){output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,true))}});return output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]};if(desc.get){if(desc.set){str=ctx.stylize("[Getter/Setter]","special")}else{str=ctx.stylize("[Getter]","special")}}else{if(desc.set){str=ctx.stylize("[Setter]","special")}}if(!hasOwnProperty(visibleKeys,key)){name="["+key+"]"}if(!str){if(ctx.seen.indexOf(desc.value)<0){if(isNull(recurseTimes)){str=formatValue(ctx,desc.value,null)}else{str=formatValue(ctx,desc.value,recurseTimes-1)}if(str.indexOf("\n")>-1){if(array){str=str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2)}else{str="\n"+str.split("\n").map(function(line){return"   "+line}).join("\n")}}}else{str=ctx.stylize("[Circular]","special")}}if(isUndefined(name)){if(array&&key.match(/^\d+$/)){return str}name=JSON.stringify(""+key);if(name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){name=name.substr(1,name.length-2);name=ctx.stylize(name,"name")}else{name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");name=ctx.stylize(name,"string")}}return name+": "+str}function reduceToSingleString(output,base,braces){var numLinesEst=0;var length=output.reduce(function(prev,cur){numLinesEst++;if(cur.indexOf("\n")>=0)numLinesEst++;return prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(length>60){return braces[0]+(base===""?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1]}return braces[0]+base+" "+output.join(", ")+" "+braces[1]}function isArray(ar){return Array.isArray(ar)}exports.isArray=isArray;function isBoolean(arg){return typeof arg==="boolean"}exports.isBoolean=isBoolean;function isNull(arg){return arg===null}exports.isNull=isNull;function isNullOrUndefined(arg){return arg==null}exports.isNullOrUndefined=isNullOrUndefined;function isNumber(arg){return typeof arg==="number"}exports.isNumber=isNumber;function isString(arg){return typeof arg==="string"}exports.isString=isString;function isSymbol(arg){return typeof arg==="symbol"}exports.isSymbol=isSymbol;function isUndefined(arg){return arg===void 0}exports.isUndefined=isUndefined;function isRegExp(re){return isObject(re)&&objectToString(re)==="[object RegExp]"}exports.isRegExp=isRegExp;function isObject(arg){return typeof arg==="object"&&arg!==null}exports.isObject=isObject;function isDate(d){return isObject(d)&&objectToString(d)==="[object Date]"}exports.isDate=isDate;function isError(e){return isObject(e)&&(objectToString(e)==="[object Error]"||e instanceof Error)}exports.isError=isError;function isFunction(arg){return typeof arg==="function"}exports.isFunction=isFunction;function isPrimitive(arg){return arg===null||typeof arg==="boolean"||typeof arg==="number"||typeof arg==="string"||typeof arg==="symbol"||typeof arg==="undefined"}exports.isPrimitive=isPrimitive;exports.isBuffer=require("./support/isBuffer");function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return n<10?"0"+n.toString(10):n.toString(10)}var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function timestamp(){var d=new Date;var time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))};exports.inherits=require("inherits");exports._extend=function(origin,add){if(!add||!isObject(add))return origin;var keys=Object.keys(add);var i=keys.length;while(i--){origin[keys[i]]=add[keys[i]]}return origin};function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./support/isBuffer":25,_process:431,inherits:24}],27:[function(require,module,exports){"use strict";exports.byteLength=byteLength;exports.toByteArray=toByteArray;exports.fromByteArray=fromByteArray;var lookup=[];var revLookup=[];var Arr=typeof Uint8Array!=="undefined"?Uint8Array:Array;var code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,len=code.length;i<len;++i){lookup[i]=code[i];revLookup[code.charCodeAt(i)]=i}revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(b64){var len=b64.length;if(len%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}var validLen=b64.indexOf("=");if(validLen===-1)validLen=len;var placeHoldersLen=validLen===len?0:4-validLen%4;return[validLen,placeHoldersLen]}function byteLength(b64){var lens=getLens(b64);var validLen=lens[0];var placeHoldersLen=lens[1];return(validLen+placeHoldersLen)*3/4-placeHoldersLen}function _byteLength(b64,validLen,placeHoldersLen){return(validLen+placeHoldersLen)*3/4-placeHoldersLen}function toByteArray(b64){var tmp;var lens=getLens(b64);var validLen=lens[0];var placeHoldersLen=lens[1];var arr=new Arr(_byteLength(b64,validLen,placeHoldersLen));var curByte=0;var len=placeHoldersLen>0?validLen-4:validLen;for(var i=0;i<len;i+=4){tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)];arr[curByte++]=tmp>>16&255;arr[curByte++]=tmp>>8&255;arr[curByte++]=tmp&255}if(placeHoldersLen===2){tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4;arr[curByte++]=tmp&255}if(placeHoldersLen===1){tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2;arr[curByte++]=tmp>>8&255;arr[curByte++]=tmp&255}return arr}function tripletToBase64(num){return lookup[num>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[num&63]}function encodeChunk(uint8,start,end){var tmp;var output=[];for(var i=start;i<end;i+=3){tmp=(uint8[i]<<16&16711680)+(uint8[i+1]<<8&65280)+(uint8[i+2]&255);output.push(tripletToBase64(tmp))}return output.join("")}function fromByteArray(uint8){var tmp;var len=uint8.length;var extraBytes=len%3;var parts=[];var maxChunkLength=16383;for(var i=0,len2=len-extraBytes;i<len2;i+=maxChunkLength){parts.push(encodeChunk(uint8,i,i+maxChunkLength>len2?len2:i+maxChunkLength))}if(extraBytes===1){tmp=uint8[len-1];parts.push(lookup[tmp>>2]+lookup[tmp<<4&63]+"==")}else if(extraBytes===2){tmp=(uint8[len-2]<<8)+uint8[len-1];parts.push(lookup[tmp>>10]+lookup[tmp>>4&63]+lookup[tmp<<2&63]+"=")}return parts.join("")}},{}],28:[function(require,module,exports){},{}],29:[function(require,module,exports){var objectCreate=Object.create||objectCreatePolyfill;var objectKeys=Object.keys||objectKeysPolyfill;var bind=Function.prototype.bind||functionBindPolyfill;function EventEmitter(){if(!this._events||!Object.prototype.hasOwnProperty.call(this,"_events")){this._events=objectCreate(null);this._eventsCount=0}this._maxListeners=this._maxListeners||undefined}module.exports=EventEmitter;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=undefined;EventEmitter.prototype._maxListeners=undefined;var defaultMaxListeners=10;var hasDefineProperty;try{var o={};if(Object.defineProperty)Object.defineProperty(o,"x",{value:0});hasDefineProperty=o.x===0}catch(err){hasDefineProperty=false}if(hasDefineProperty){Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:true,get:function(){return defaultMaxListeners},set:function(arg){if(typeof arg!=="number"||arg<0||arg!==arg)throw new TypeError('"defaultMaxListeners" must be a positive number');defaultMaxListeners=arg}})}else{EventEmitter.defaultMaxListeners=defaultMaxListeners}EventEmitter.prototype.setMaxListeners=function setMaxListeners(n){if(typeof n!=="number"||n<0||isNaN(n))throw new TypeError('"n" argument must be a positive number');this._maxListeners=n;return this};function $getMaxListeners(that){if(that._maxListeners===undefined)return EventEmitter.defaultMaxListeners;return that._maxListeners}EventEmitter.prototype.getMaxListeners=function getMaxListeners(){return $getMaxListeners(this)};function emitNone(handler,isFn,self){if(isFn)handler.call(self);else{var len=handler.length;var listeners=arrayClone(handler,len);for(var i=0;i<len;++i)listeners[i].call(self)}}function emitOne(handler,isFn,self,arg1){if(isFn)handler.call(self,arg1);else{var len=handler.length;var listeners=arrayClone(handler,len);for(var i=0;i<len;++i)listeners[i].call(self,arg1)}}function emitTwo(handler,isFn,self,arg1,arg2){if(isFn)handler.call(self,arg1,arg2);else{var len=handler.length;var listeners=arrayClone(handler,len);for(var i=0;i<len;++i)listeners[i].call(self,arg1,arg2)}}function emitThree(handler,isFn,self,arg1,arg2,arg3){if(isFn)handler.call(self,arg1,arg2,arg3);else{var len=handler.length;var listeners=arrayClone(handler,len);for(var i=0;i<len;++i)listeners[i].call(self,arg1,arg2,arg3)}}function emitMany(handler,isFn,self,args){if(isFn)handler.apply(self,args);else{var len=handler.length;var listeners=arrayClone(handler,len);for(var i=0;i<len;++i)listeners[i].apply(self,args)}}EventEmitter.prototype.emit=function emit(type){var er,handler,len,args,i,events;var doError=type==="error";events=this._events;if(events)doError=doError&&events.error==null;else if(!doError)return false;if(doError){if(arguments.length>1)er=arguments[1];if(er instanceof Error){throw er}else{var err=new Error('Unhandled "error" event. ('+er+")");err.context=er;throw err}return false}handler=events[type];if(!handler)return false;var isFn=typeof handler==="function";len=arguments.length;switch(len){case 1:emitNone(handler,isFn,this);break;case 2:emitOne(handler,isFn,this,arguments[1]);break;case 3:emitTwo(handler,isFn,this,arguments[1],arguments[2]);break;case 4:emitThree(handler,isFn,this,arguments[1],arguments[2],arguments[3]);break;default:args=new Array(len-1);for(i=1;i<len;i++)args[i-1]=arguments[i];emitMany(handler,isFn,this,args)}return true};function _addListener(target,type,listener,prepend){var m;var events;var existing;if(typeof listener!=="function")throw new TypeError('"listener" argument must be a function');events=target._events;if(!events){events=target._events=objectCreate(null);target._eventsCount=0}else{if(events.newListener){target.emit("newListener",type,listener.listener?listener.listener:listener);events=target._events}existing=events[type]}if(!existing){existing=events[type]=listener;++target._eventsCount}else{if(typeof existing==="function"){existing=events[type]=prepend?[listener,existing]:[existing,listener]}else{if(prepend){existing.unshift(listener)}else{existing.push(listener)}}if(!existing.warned){m=$getMaxListeners(target);if(m&&m>0&&existing.length>m){existing.warned=true;var w=new Error("Possible EventEmitter memory leak detected. "+existing.length+' "'+String(type)+'" listeners '+"added. Use emitter.setMaxListeners() to "+"increase limit.");w.name="MaxListenersExceededWarning";w.emitter=target;w.type=type;w.count=existing.length;if(typeof console==="object"&&console.warn){console.warn("%s: %s",w.name,w.message)}}}}return target}EventEmitter.prototype.addListener=function addListener(type,listener){return _addListener(this,type,listener,false)};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.prependListener=function prependListener(type,listener){return _addListener(this,type,listener,true)};function onceWrapper(){if(!this.fired){this.target.removeListener(this.type,this.wrapFn);this.fired=true;switch(arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:var args=new Array(arguments.length);for(var i=0;i<args.length;++i)args[i]=arguments[i];this.listener.apply(this.target,args)}}}function _onceWrap(target,type,listener){var state={fired:false,wrapFn:undefined,target:target,type:type,listener:listener};var wrapped=bind.call(onceWrapper,state);wrapped.listener=listener;state.wrapFn=wrapped;return wrapped}EventEmitter.prototype.once=function once(type,listener){if(typeof listener!=="function")throw new TypeError('"listener" argument must be a function');this.on(type,_onceWrap(this,type,listener));return this};EventEmitter.prototype.prependOnceListener=function prependOnceListener(type,listener){if(typeof listener!=="function")throw new TypeError('"listener" argument must be a function');this.prependListener(type,_onceWrap(this,type,listener));return this};EventEmitter.prototype.removeListener=function removeListener(type,listener){var list,events,position,i,originalListener;if(typeof listener!=="function")throw new TypeError('"listener" argument must be a function');events=this._events;if(!events)return this;list=events[type];if(!list)return this;if(list===listener||list.listener===listener){if(--this._eventsCount===0)this._events=objectCreate(null);else{delete events[type];if(events.removeListener)this.emit("removeListener",type,list.listener||listener)}}else if(typeof list!=="function"){position=-1;for(i=list.length-1;i>=0;i--){if(list[i]===listener||list[i].listener===listener){originalListener=list[i].listener;position=i;break}}if(position<0)return this;if(position===0)list.shift();else spliceOne(list,position);if(list.length===1)events[type]=list[0];if(events.removeListener)this.emit("removeListener",type,originalListener||listener)}return this};EventEmitter.prototype.removeAllListeners=function removeAllListeners(type){var listeners,events,i;events=this._events;if(!events)return this;if(!events.removeListener){if(arguments.length===0){this._events=objectCreate(null);this._eventsCount=0}else if(events[type]){if(--this._eventsCount===0)this._events=objectCreate(null);else delete events[type]}return this}if(arguments.length===0){var keys=objectKeys(events);var key;for(i=0;i<keys.length;++i){key=keys[i];if(key==="removeListener")continue;this.removeAllListeners(key)}this.removeAllListeners("removeListener");this._events=objectCreate(null);this._eventsCount=0;return this}listeners=events[type];if(typeof listeners==="function"){this.removeListener(type,listeners)}else if(listeners){for(i=listeners.length-1;i>=0;i--){this.removeListener(type,listeners[i])}}return this};function _listeners(target,type,unwrap){var events=target._events;if(!events)return[];var evlistener=events[type];if(!evlistener)return[];if(typeof evlistener==="function")return unwrap?[evlistener.listener||evlistener]:[evlistener];return unwrap?unwrapListeners(evlistener):arrayClone(evlistener,evlistener.length)}EventEmitter.prototype.listeners=function listeners(type){return _listeners(this,type,true)};EventEmitter.prototype.rawListeners=function rawListeners(type){return _listeners(this,type,false)};EventEmitter.listenerCount=function(emitter,type){if(typeof emitter.listenerCount==="function"){return emitter.listenerCount(type)}else{return listenerCount.call(emitter,type)}};EventEmitter.prototype.listenerCount=listenerCount;function listenerCount(type){var events=this._events;if(events){var evlistener=events[type];if(typeof evlistener==="function"){return 1}else if(evlistener){return evlistener.length}}return 0}EventEmitter.prototype.eventNames=function eventNames(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};function spliceOne(list,index){for(var i=index,k=i+1,n=list.length;k<n;i+=1,k+=1)list[i]=list[k];list.pop()}function arrayClone(arr,n){var copy=new Array(n);for(var i=0;i<n;++i)copy[i]=arr[i];return copy}function unwrapListeners(arr){var ret=new Array(arr.length);for(var i=0;i<ret.length;++i){ret[i]=arr[i].listener||arr[i]}return ret}function objectCreatePolyfill(proto){var F=function(){};F.prototype=proto;return new F}function objectKeysPolyfill(obj){var keys=[];for(var k in obj)if(Object.prototype.hasOwnProperty.call(obj,k)){keys.push(k)}return k}function functionBindPolyfill(context){var fn=this;return function(){return fn.apply(context,arguments)}}},{}],30:[function(require,module,exports){(function(Buffer){"use strict";var base64=require("base64-js");var ieee754=require("ieee754");exports.Buffer=Buffer;exports.SlowBuffer=SlowBuffer;exports.INSPECT_MAX_BYTES=50;var K_MAX_LENGTH=2147483647;exports.kMaxLength=K_MAX_LENGTH;Buffer.TYPED_ARRAY_SUPPORT=typedArraySupport();if(!Buffer.TYPED_ARRAY_SUPPORT&&typeof console!=="undefined"&&typeof console.error==="function"){console.error("This browser lacks typed array (Uint8Array) support which is required by "+"`buffer` v5.x. Use `buffer` v4.x if you require old browser support.")}function typedArraySupport(){try{var arr=new Uint8Array(1);arr.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return arr.foo()===42}catch(e){return false}}Object.defineProperty(Buffer.prototype,"parent",{enumerable:true,get:function(){if(!Buffer.isBuffer(this))return undefined;return this.buffer}});Object.defineProperty(Buffer.prototype,"offset",{enumerable:true,get:function(){if(!Buffer.isBuffer(this))return undefined;return this.byteOffset}});function createBuffer(length){if(length>K_MAX_LENGTH){throw new RangeError('The value "'+length+'" is invalid for option "size"')}var buf=new Uint8Array(length);buf.__proto__=Buffer.prototype;return buf}function Buffer(arg,encodingOrOffset,length){if(typeof arg==="number"){if(typeof encodingOrOffset==="string"){throw new TypeError('The "string" argument must be of type string. Received type number')}return allocUnsafe(arg)}return from(arg,encodingOrOffset,length)}if(typeof Symbol!=="undefined"&&Symbol.species!=null&&Buffer[Symbol.species]===Buffer){Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:true,enumerable:false,writable:false})}Buffer.poolSize=8192;function from(value,encodingOrOffset,length){if(typeof value==="string"){return fromString(value,encodingOrOffset)}if(ArrayBuffer.isView(value)){return fromArrayLike(value)}if(value==null){throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, "+"or Array-like Object. Received type "+typeof value)}if(isInstance(value,ArrayBuffer)||value&&isInstance(value.buffer,ArrayBuffer)){return fromArrayBuffer(value,encodingOrOffset,length)}if(typeof value==="number"){throw new TypeError('The "value" argument must not be of type number. Received type number')}var valueOf=value.valueOf&&value.valueOf();if(valueOf!=null&&valueOf!==value){return Buffer.from(valueOf,encodingOrOffset,length)}var b=fromObject(value);if(b)return b;if(typeof Symbol!=="undefined"&&Symbol.toPrimitive!=null&&typeof value[Symbol.toPrimitive]==="function"){return Buffer.from(value[Symbol.toPrimitive]("string"),encodingOrOffset,length)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, "+"or Array-like Object. Received type "+typeof value)}Buffer.from=function(value,encodingOrOffset,length){return from(value,encodingOrOffset,length)};Buffer.prototype.__proto__=Uint8Array.prototype;Buffer.__proto__=Uint8Array;function assertSize(size){if(typeof size!=="number"){throw new TypeError('"size" argument must be of type number')}else if(size<0){throw new RangeError('The value "'+size+'" is invalid for option "size"')}}function alloc(size,fill,encoding){assertSize(size);if(size<=0){return createBuffer(size)}if(fill!==undefined){return typeof encoding==="string"?createBuffer(size).fill(fill,encoding):createBuffer(size).fill(fill)}return createBuffer(size)}Buffer.alloc=function(size,fill,encoding){return alloc(size,fill,encoding)};function allocUnsafe(size){assertSize(size);return createBuffer(size<0?0:checked(size)|0)}Buffer.allocUnsafe=function(size){return allocUnsafe(size)};Buffer.allocUnsafeSlow=function(size){return allocUnsafe(size)};function fromString(string,encoding){if(typeof encoding!=="string"||encoding===""){encoding="utf8"}if(!Buffer.isEncoding(encoding)){throw new TypeError("Unknown encoding: "+encoding)}var length=byteLength(string,encoding)|0;var buf=createBuffer(length);var actual=buf.write(string,encoding);if(actual!==length){buf=buf.slice(0,actual)}return buf}function fromArrayLike(array){var length=array.length<0?0:checked(array.length)|0;var buf=createBuffer(length);for(var i=0;i<length;i+=1){buf[i]=array[i]&255}return buf}function fromArrayBuffer(array,byteOffset,length){if(byteOffset<0||array.byteLength<byteOffset){throw new RangeError('"offset" is outside of buffer bounds')}if(array.byteLength<byteOffset+(length||0)){throw new RangeError('"length" is outside of buffer bounds')}var buf;if(byteOffset===undefined&&length===undefined){buf=new Uint8Array(array)}else if(length===undefined){buf=new Uint8Array(array,byteOffset)}else{buf=new Uint8Array(array,byteOffset,length)}buf.__proto__=Buffer.prototype;return buf}function fromObject(obj){if(Buffer.isBuffer(obj)){var len=checked(obj.length)|0;var buf=createBuffer(len);if(buf.length===0){return buf}obj.copy(buf,0,0,len);return buf}if(obj.length!==undefined){if(typeof obj.length!=="number"||numberIsNaN(obj.length)){return createBuffer(0)}return fromArrayLike(obj)}if(obj.type==="Buffer"&&Array.isArray(obj.data)){return fromArrayLike(obj.data)}}function checked(length){if(length>=K_MAX_LENGTH){throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+K_MAX_LENGTH.toString(16)+" bytes")}return length|0}function SlowBuffer(length){if(+length!=length){length=0}return Buffer.alloc(+length)}Buffer.isBuffer=function isBuffer(b){return b!=null&&b._isBuffer===true&&b!==Buffer.prototype};Buffer.compare=function compare(a,b){if(isInstance(a,Uint8Array))a=Buffer.from(a,a.offset,a.byteLength);if(isInstance(b,Uint8Array))b=Buffer.from(b,b.offset,b.byteLength);if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b)){throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array')}if(a===b)return 0;var x=a.length;var y=b.length;for(var i=0,len=Math.min(x,y);i<len;++i){if(a[i]!==b[i]){x=a[i];y=b[i];break}}if(x<y)return-1;if(y<x)return 1;return 0};Buffer.isEncoding=function isEncoding(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};Buffer.concat=function concat(list,length){if(!Array.isArray(list)){throw new TypeError('"list" argument must be an Array of Buffers')}if(list.length===0){return Buffer.alloc(0)}var i;if(length===undefined){length=0;for(i=0;i<list.length;++i){length+=list[i].length}}var buffer=Buffer.allocUnsafe(length);var pos=0;for(i=0;i<list.length;++i){var buf=list[i];if(isInstance(buf,Uint8Array)){buf=Buffer.from(buf)}if(!Buffer.isBuffer(buf)){throw new TypeError('"list" argument must be an Array of Buffers')}buf.copy(buffer,pos);pos+=buf.length}return buffer};function byteLength(string,encoding){if(Buffer.isBuffer(string)){return string.length}if(ArrayBuffer.isView(string)||isInstance(string,ArrayBuffer)){return string.byteLength}if(typeof string!=="string"){throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. '+"Received type "+typeof string)}var len=string.length;var mustMatch=arguments.length>2&&arguments[2]===true;if(!mustMatch&&len===0)return 0;var loweredCase=false;for(;;){switch(encoding){case"ascii":case"latin1":case"binary":return len;case"utf8":case"utf-8":return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return len*2;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase){return mustMatch?-1:utf8ToBytes(string).length}encoding=(""+encoding).toLowerCase();loweredCase=true}}}Buffer.byteLength=byteLength;function slowToString(encoding,start,end){var loweredCase=false;if(start===undefined||start<0){start=0}if(start>this.length){return""}if(end===undefined||end>this.length){end=this.length}if(end<=0){return""}end>>>=0;start>>>=0;if(end<=start){return""}if(!encoding)encoding="utf8";while(true){switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"latin1":case"binary":return latin1Slice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase();loweredCase=true}}}Buffer.prototype._isBuffer=true;function swap(b,n,m){var i=b[n];b[n]=b[m];b[m]=i}Buffer.prototype.swap16=function swap16(){var len=this.length;if(len%2!==0){throw new RangeError("Buffer size must be a multiple of 16-bits")}for(var i=0;i<len;i+=2){swap(this,i,i+1)}return this};Buffer.prototype.swap32=function swap32(){var len=this.length;if(len%4!==0){throw new RangeError("Buffer size must be a multiple of 32-bits")}for(var i=0;i<len;i+=4){swap(this,i,i+3);swap(this,i+1,i+2)}return this};Buffer.prototype.swap64=function swap64(){var len=this.length;if(len%8!==0){throw new RangeError("Buffer size must be a multiple of 64-bits")}for(var i=0;i<len;i+=8){swap(this,i,i+7);swap(this,i+1,i+6);swap(this,i+2,i+5);swap(this,i+3,i+4)}return this};Buffer.prototype.toString=function toString(){var length=this.length;if(length===0)return"";if(arguments.length===0)return utf8Slice(this,0,length);return slowToString.apply(this,arguments)};Buffer.prototype.toLocaleString=Buffer.prototype.toString;Buffer.prototype.equals=function equals(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");if(this===b)return true;return Buffer.compare(this,b)===0};Buffer.prototype.inspect=function inspect(){var str="";var max=exports.INSPECT_MAX_BYTES;str=this.toString("hex",0,max).replace(/(.{2})/g,"$1 ").trim();if(this.length>max)str+=" ... ";return"<Buffer "+str+">"};Buffer.prototype.compare=function compare(target,start,end,thisStart,thisEnd){if(isInstance(target,Uint8Array)){target=Buffer.from(target,target.offset,target.byteLength)}if(!Buffer.isBuffer(target)){throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. '+"Received type "+typeof target)}if(start===undefined){start=0}if(end===undefined){end=target?target.length:0}if(thisStart===undefined){thisStart=0}if(thisEnd===undefined){thisEnd=this.length}if(start<0||end>target.length||thisStart<0||thisEnd>this.length){throw new RangeError("out of range index")}if(thisStart>=thisEnd&&start>=end){return 0}if(thisStart>=thisEnd){return-1}if(start>=end){return 1}start>>>=0;end>>>=0;thisStart>>>=0;thisEnd>>>=0;if(this===target)return 0;var x=thisEnd-thisStart;var y=end-start;var len=Math.min(x,y);var thisCopy=this.slice(thisStart,thisEnd);var targetCopy=target.slice(start,end);for(var i=0;i<len;++i){if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i];y=targetCopy[i];break}}if(x<y)return-1;if(y<x)return 1;return 0};function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(buffer.length===0)return-1;if(typeof byteOffset==="string"){encoding=byteOffset;byteOffset=0}else if(byteOffset>2147483647){byteOffset=2147483647}else if(byteOffset<-2147483648){byteOffset=-2147483648}byteOffset=+byteOffset;if(numberIsNaN(byteOffset)){byteOffset=dir?0:buffer.length-1}if(byteOffset<0)byteOffset=buffer.length+byteOffset;if(byteOffset>=buffer.length){if(dir)return-1;else byteOffset=buffer.length-1}else if(byteOffset<0){if(dir)byteOffset=0;else return-1}if(typeof val==="string"){val=Buffer.from(val,encoding)}if(Buffer.isBuffer(val)){if(val.length===0){return-1}return arrayIndexOf(buffer,val,byteOffset,encoding,dir)}else if(typeof val==="number"){val=val&255;if(typeof Uint8Array.prototype.indexOf==="function"){if(dir){return Uint8Array.prototype.indexOf.call(buffer,val,byteOffset)}else{return Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset)}}return arrayIndexOf(buffer,[val],byteOffset,encoding,dir)}throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(arr,val,byteOffset,encoding,dir){var indexSize=1;var arrLength=arr.length;var valLength=val.length;if(encoding!==undefined){encoding=String(encoding).toLowerCase();if(encoding==="ucs2"||encoding==="ucs-2"||encoding==="utf16le"||encoding==="utf-16le"){if(arr.length<2||val.length<2){return-1}indexSize=2;arrLength/=2;valLength/=2;byteOffset/=2}}function read(buf,i){if(indexSize===1){return buf[i]}else{return buf.readUInt16BE(i*indexSize)}}var i;if(dir){var foundIndex=-1;for(i=byteOffset;i<arrLength;i++){if(read(arr,i)===read(val,foundIndex===-1?0:i-foundIndex)){if(foundIndex===-1)foundIndex=i;if(i-foundIndex+1===valLength)return foundIndex*indexSize}else{if(foundIndex!==-1)i-=i-foundIndex;foundIndex=-1}}}else{if(byteOffset+valLength>arrLength)byteOffset=arrLength-valLength;for(i=byteOffset;i>=0;i--){var found=true;for(var j=0;j<valLength;j++){if(read(arr,i+j)!==read(val,j)){found=false;break}}if(found)return i}}return-1}Buffer.prototype.includes=function includes(val,byteOffset,encoding){return this.indexOf(val,byteOffset,encoding)!==-1};Buffer.prototype.indexOf=function indexOf(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,true)};Buffer.prototype.lastIndexOf=function lastIndexOf(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,false)};function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;if(!length){length=remaining}else{length=Number(length);if(length>remaining){length=remaining}}var strLen=string.length;if(length>strLen/2){length=strLen/2}for(var i=0;i<length;++i){var parsed=parseInt(string.substr(i*2,2),16);if(numberIsNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(asciiToBytes(string),buf,offset,length)}function latin1Write(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(utf16leToBytes(string,buf.length-offset),buf,offset,length)}Buffer.prototype.write=function write(string,offset,length,encoding){if(offset===undefined){encoding="utf8";length=this.length;offset=0}else if(length===undefined&&typeof offset==="string"){encoding=offset;length=this.length;offset=0}else if(isFinite(offset)){offset=offset>>>0;if(isFinite(length)){length=length>>>0;if(encoding===undefined)encoding="utf8"}else{encoding=length;length=undefined}}else{throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported")}var remaining=this.length-offset;if(length===undefined||length>remaining)length=remaining;if(string.length>0&&(length<0||offset<0)||offset>this.length){throw new RangeError("Attempt to write outside buffer bounds")}if(!encoding)encoding="utf8";var loweredCase=false;for(;;){switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"latin1":case"binary":return latin1Write(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase();loweredCase=true}}};Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function base64Slice(buf,start,end){if(start===0&&end===buf.length){return base64.fromByteArray(buf)}else{return base64.fromByteArray(buf.slice(start,end))}}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);var res=[];var i=start;while(i<end){var firstByte=buf[i];var codePoint=null;var bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end){var secondByte,thirdByte,fourthByte,tempCodePoint;switch(bytesPerSequence){case 1:if(firstByte<128){codePoint=firstByte}break;case 2:secondByte=buf[i+1];if((secondByte&192)===128){tempCodePoint=(firstByte&31)<<6|secondByte&63;if(tempCodePoint>127){codePoint=tempCodePoint}}break;case 3:secondByte=buf[i+1];thirdByte=buf[i+2];if((secondByte&192)===128&&(thirdByte&192)===128){tempCodePoint=(firstByte&15)<<12|(secondByte&63)<<6|thirdByte&63;if(tempCodePoint>2047&&(tempCodePoint<55296||tempCodePoint>57343)){codePoint=tempCodePoint}}break;case 4:secondByte=buf[i+1];thirdByte=buf[i+2];fourthByte=buf[i+3];if((secondByte&192)===128&&(thirdByte&192)===128&&(fourthByte&192)===128){tempCodePoint=(firstByte&15)<<18|(secondByte&63)<<12|(thirdByte&63)<<6|fourthByte&63;if(tempCodePoint>65535&&tempCodePoint<1114112){codePoint=tempCodePoint}}}}if(codePoint===null){codePoint=65533;bytesPerSequence=1}else if(codePoint>65535){codePoint-=65536;res.push(codePoint>>>10&1023|55296);codePoint=56320|codePoint&1023}res.push(codePoint);i+=bytesPerSequence}return decodeCodePointsArray(res)}var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH){return String.fromCharCode.apply(String,codePoints)}var res="";var i=0;while(i<len){res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH))}return res}function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i){ret+=String.fromCharCode(buf[i]&127)}return ret}function latin1Slice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i){ret+=String.fromCharCode(buf[i])}return ret}function hexSlice(buf,start,end){var len=buf.length;if(!start||start<0)start=0;if(!end||end<0||end>len)end=len;var out="";for(var i=start;i<end;++i){out+=toHex(buf[i])}return out}function utf16leSlice(buf,start,end){var bytes=buf.slice(start,end);var res="";for(var i=0;i<bytes.length;i+=2){res+=String.fromCharCode(bytes[i]+bytes[i+1]*256)}return res}Buffer.prototype.slice=function slice(start,end){var len=this.length;start=~~start;end=end===undefined?len:~~end;if(start<0){start+=len;if(start<0)start=0}else if(start>len){start=len}if(end<0){end+=len;if(end<0)end=0}else if(end>len){end=len}if(end<start)end=start;var newBuf=this.subarray(start,end);newBuf.__proto__=Buffer.prototype;return newBuf};function checkOffset(offset,ext,length){if(offset%1!==0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}Buffer.prototype.readUIntLE=function readUIntLE(offset,byteLength,noAssert){offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=256)){val+=this[offset+i]*mul}return val};Buffer.prototype.readUIntBE=function readUIntBE(offset,byteLength,noAssert){offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert){checkOffset(offset,byteLength,this.length)}var val=this[offset+--byteLength];var mul=1;while(byteLength>0&&(mul*=256)){val+=this[offset+--byteLength]*mul}return val};Buffer.prototype.readUInt8=function readUInt8(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,1,this.length);return this[offset]};Buffer.prototype.readUInt16LE=function readUInt16LE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,2,this.length);return this[offset]|this[offset+1]<<8};Buffer.prototype.readUInt16BE=function readUInt16BE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,2,this.length);return this[offset]<<8|this[offset+1]};Buffer.prototype.readUInt32LE=function readUInt32LE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+this[offset+3]*16777216};Buffer.prototype.readUInt32BE=function readUInt32BE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return this[offset]*16777216+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])};Buffer.prototype.readIntLE=function readIntLE(offset,byteLength,noAssert){offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=256)){val+=this[offset+i]*mul}mul*=128;if(val>=mul)val-=Math.pow(2,8*byteLength);return val};Buffer.prototype.readIntBE=function readIntBE(offset,byteLength,noAssert){offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert)checkOffset(offset,byteLength,this.length);var i=byteLength;var mul=1;var val=this[offset+--i];while(i>0&&(mul*=256)){val+=this[offset+--i]*mul}mul*=128;if(val>=mul)val-=Math.pow(2,8*byteLength);return val};Buffer.prototype.readInt8=function readInt8(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,1,this.length);if(!(this[offset]&128))return this[offset];return(255-this[offset]+1)*-1};Buffer.prototype.readInt16LE=function readInt16LE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return val&32768?val|4294901760:val};Buffer.prototype.readInt16BE=function readInt16BE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return val&32768?val|4294901760:val};Buffer.prototype.readInt32LE=function readInt32LE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24};Buffer.prototype.readInt32BE=function readInt32BE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]};Buffer.prototype.readFloatLE=function readFloatLE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return ieee754.read(this,offset,true,23,4)};Buffer.prototype.readFloatBE=function readFloatBE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return ieee754.read(this,offset,false,23,4)};Buffer.prototype.readDoubleLE=function readDoubleLE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,8,this.length);return ieee754.read(this,offset,true,52,8)};Buffer.prototype.readDoubleBE=function readDoubleBE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,8,this.length);return ieee754.read(this,offset,false,52,8)};function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('"buffer" argument must be a Buffer instance');if(value>max||value<min)throw new RangeError('"value" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError("Index out of range")}Buffer.prototype.writeUIntLE=function writeUIntLE(value,offset,byteLength,noAssert){value=+value;offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var mul=1;var i=0;this[offset]=value&255;while(++i<byteLength&&(mul*=256)){this[offset+i]=value/mul&255}return offset+byteLength};Buffer.prototype.writeUIntBE=function writeUIntBE(value,offset,byteLength,noAssert){value=+value;offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var i=byteLength-1;var mul=1;this[offset+i]=value&255;while(--i>=0&&(mul*=256)){this[offset+i]=value/mul&255}return offset+byteLength};Buffer.prototype.writeUInt8=function writeUInt8(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,1,255,0);this[offset]=value&255;return offset+1};Buffer.prototype.writeUInt16LE=function writeUInt16LE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,2,65535,0);this[offset]=value&255;this[offset+1]=value>>>8;return offset+2};Buffer.prototype.writeUInt16BE=function writeUInt16BE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,2,65535,0);this[offset]=value>>>8;this[offset+1]=value&255;return offset+2};Buffer.prototype.writeUInt32LE=function writeUInt32LE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);this[offset+3]=value>>>24;this[offset+2]=value>>>16;this[offset+1]=value>>>8;this[offset]=value&255;return offset+4};Buffer.prototype.writeUInt32BE=function writeUInt32BE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value&255;return offset+4};Buffer.prototype.writeIntLE=function writeIntLE(value,offset,byteLength,noAssert){value=+value;offset=offset>>>0;if(!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0;var mul=1;var sub=0;this[offset]=value&255;while(++i<byteLength&&(mul*=256)){if(value<0&&sub===0&&this[offset+i-1]!==0){sub=1}this[offset+i]=(value/mul>>0)-sub&255}return offset+byteLength};Buffer.prototype.writeIntBE=function writeIntBE(value,offset,byteLength,noAssert){value=+value;offset=offset>>>0;if(!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1;var mul=1;var sub=0;this[offset+i]=value&255;while(--i>=0&&(mul*=256)){if(value<0&&sub===0&&this[offset+i+1]!==0){sub=1}this[offset+i]=(value/mul>>0)-sub&255}return offset+byteLength};Buffer.prototype.writeInt8=function writeInt8(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,1,127,-128);if(value<0)value=255+value+1;this[offset]=value&255;return offset+1};Buffer.prototype.writeInt16LE=function writeInt16LE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,2,32767,-32768);this[offset]=value&255;this[offset+1]=value>>>8;return offset+2};Buffer.prototype.writeInt16BE=function writeInt16BE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,2,32767,-32768);this[offset]=value>>>8;this[offset+1]=value&255;return offset+2};Buffer.prototype.writeInt32LE=function writeInt32LE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,4,2147483647,-2147483648);this[offset]=value&255;this[offset+1]=value>>>8;this[offset+2]=value>>>16;this[offset+3]=value>>>24;return offset+4};Buffer.prototype.writeInt32BE=function writeInt32BE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,4,2147483647,-2147483648);if(value<0)value=4294967295+value+1;this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value&255;return offset+4};function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError("Index out of range");if(offset<0)throw new RangeError("Index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){value=+value;offset=offset>>>0;if(!noAssert){checkIEEE754(buf,value,offset,4,34028234663852886e22,-34028234663852886e22)}ieee754.write(buf,value,offset,littleEndian,23,4);return offset+4}Buffer.prototype.writeFloatLE=function writeFloatLE(value,offset,noAssert){return writeFloat(this,value,offset,true,noAssert)};Buffer.prototype.writeFloatBE=function writeFloatBE(value,offset,noAssert){return writeFloat(this,value,offset,false,noAssert)};function writeDouble(buf,value,offset,littleEndian,noAssert){value=+value;offset=offset>>>0;if(!noAssert){checkIEEE754(buf,value,offset,8,17976931348623157e292,-17976931348623157e292)}ieee754.write(buf,value,offset,littleEndian,52,8);return offset+8}Buffer.prototype.writeDoubleLE=function writeDoubleLE(value,offset,noAssert){return writeDouble(this,value,offset,true,noAssert)};Buffer.prototype.writeDoubleBE=function writeDoubleBE(value,offset,noAssert){return writeDouble(this,value,offset,false,noAssert)};Buffer.prototype.copy=function copy(target,targetStart,start,end){if(!Buffer.isBuffer(target))throw new TypeError("argument should be a Buffer");if(!start)start=0;if(!end&&end!==0)end=this.length;if(targetStart>=target.length)targetStart=target.length;if(!targetStart)targetStart=0;if(end>0&&end<start)end=start;if(end===start)return 0;if(target.length===0||this.length===0)return 0;if(targetStart<0){throw new RangeError("targetStart out of bounds")}if(start<0||start>=this.length)throw new RangeError("Index out of range");if(end<0)throw new RangeError("sourceEnd out of bounds");if(end>this.length)end=this.length;if(target.length-targetStart<end-start){end=target.length-targetStart+start}var len=end-start;if(this===target&&typeof Uint8Array.prototype.copyWithin==="function"){this.copyWithin(targetStart,start,end)}else if(this===target&&start<targetStart&&targetStart<end){for(var i=len-1;i>=0;--i){target[i+targetStart]=this[i+start]}}else{Uint8Array.prototype.set.call(target,this.subarray(start,end),targetStart)}return len};Buffer.prototype.fill=function fill(val,start,end,encoding){if(typeof val==="string"){if(typeof start==="string"){encoding=start;start=0;end=this.length}else if(typeof end==="string"){encoding=end;end=this.length}if(encoding!==undefined&&typeof encoding!=="string"){throw new TypeError("encoding must be a string")}if(typeof encoding==="string"&&!Buffer.isEncoding(encoding)){throw new TypeError("Unknown encoding: "+encoding)}if(val.length===1){var code=val.charCodeAt(0);if(encoding==="utf8"&&code<128||encoding==="latin1"){val=code}}}else if(typeof val==="number"){val=val&255}if(start<0||this.length<start||this.length<end){throw new RangeError("Out of range index")}if(end<=start){return this}start=start>>>0;end=end===undefined?this.length:end>>>0;if(!val)val=0;var i;if(typeof val==="number"){for(i=start;i<end;++i){this[i]=val}}else{var bytes=Buffer.isBuffer(val)?val:Buffer.from(val,encoding);var len=bytes.length;if(len===0){throw new TypeError('The value "'+val+'" is invalid for argument "value"')}for(i=0;i<end-start;++i){this[i+start]=bytes[i%len]}}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;function base64clean(str){str=str.split("=")[0];str=str.trim().replace(INVALID_BASE64_RE,"");if(str.length<2)return"";while(str.length%4!==0){str=str+"="}return str}function toHex(n){if(n<16)return"0"+n.toString(16);return n.toString(16)}function utf8ToBytes(string,units){units=units||Infinity;var codePoint;var length=string.length;var leadSurrogate=null;var bytes=[];for(var i=0;i<length;++i){codePoint=string.charCodeAt(i);if(codePoint>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){if((units-=3)>-1)bytes.push(239,191,189);continue}else if(i+1===length){if((units-=3)>-1)bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){if((units-=3)>-1)bytes.push(239,191,189);leadSurrogate=codePoint;continue}codePoint=(leadSurrogate-55296<<10|codePoint-56320)+65536}else if(leadSurrogate){if((units-=3)>-1)bytes.push(239,191,189)}leadSurrogate=null;if(codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,codePoint&63|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,codePoint&63|128)}else if(codePoint<1114112){if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,codePoint&63|128)}else{throw new Error("Invalid code point")}}return bytes}function asciiToBytes(str){var byteArray=[];for(var i=0;i<str.length;++i){byteArray.push(str.charCodeAt(i)&255)}return byteArray}function utf16leToBytes(str,units){var c,hi,lo;var byteArray=[];for(var i=0;i<str.length;++i){if((units-=2)<0)break;c=str.charCodeAt(i);hi=c>>8;lo=c%256;byteArray.push(lo);byteArray.push(hi)}return byteArray}function base64ToBytes(str){return base64.toByteArray(base64clean(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length;++i){if(i+offset>=dst.length||i>=src.length)break;dst[i+offset]=src[i]}return i}function isInstance(obj,type){return obj instanceof type||obj!=null&&obj.constructor!=null&&obj.constructor.name!=null&&obj.constructor.name===type.name}function numberIsNaN(obj){return obj!==obj}}).call(this,require("buffer").Buffer)},{"base64-js":27,buffer:30,ieee754:390}],31:[function(require,module,exports){var EventEmitter=require("events").EventEmitter;var window=require("global/window");var storage=require("./lib/storage");var logger=require("./lib/logger");var debug=require("./lib/debug");var copy=require("./lib/copy");var help=require("./lib/help");var perf=require("./lib/perf");var log=require("./lib/log");var getAllRoutes=require("wayfarer/get-all-routes");module.exports=expose;function expose(opts){opts=opts||{};store.storeName="choo-devtools";return store;function store(state,emitter,app){var localEmitter=new EventEmitter;if(typeof window!=="undefined"){logger(state,emitter,opts)}emitter.on("DOMContentLoaded",function(){if(typeof window==="undefined")return;window.choo={};window.choo.state=state;window.choo.emit=function(eventName,data){emitter.emit(eventName,data)};window.choo.on=function(eventName,listener){emitter.on(eventName,listener)};debug(state,emitter,app,localEmitter);log(state,emitter,app,localEmitter);perf(state,emitter,app,localEmitter);window.choo.copy=copy;if(app.router&&app.router.router){window.choo.routes=Object.keys(getAllRoutes(app.router.router))}storage();help()})}}},{"./lib/copy":32,"./lib/debug":33,"./lib/help":34,"./lib/log":35,"./lib/logger":36,"./lib/perf":37,"./lib/storage":38,events:29,"global/window":386,"wayfarer/get-all-routes":465}],32:[function(require,module,exports){var stateCopy=require("state-copy");var pluck=require("plucker");module.exports=copy;function copy(state){var isStateString=state&&typeof state==="string";var isChooPath=isStateString&&arguments.length===1&&state.indexOf("state.")===0;if(!state||typeof state==="function")state=window.choo.state;if(isChooPath)[].push.call(arguments,{state:window.choo.state});stateCopy(isStateString?pluck.apply(this,arguments):state)}},{plucker:428,"state-copy":457}],33:[function(require,module,exports){var onChange=require("object-change-callsite");var nanologger=require("nanologger");var assert=require("assert");var enabledMessage="Debugging enabled. To disable run: `choo.debug = false`";var disabledMessage="Debugging disabled. We hope it was helpful! 🙌";module.exports=debug;function debug(state,emitter,app,localEmitter){var log=nanologger("choo-devtools");var enabled=window.localStorage.logLevel==="debug";if(enabled)log.info(enabledMessage);state=onChange(state,function(attr,value,callsite){if(!enabled)return;callsite=callsite.split("\n")[1].replace(/^ +/,"");log.info("state."+attr,value,"\n"+callsite)});app.state=state;Object.defineProperty(window.choo,"debug",{get:function(){window.localStorage.logLevel="debug";localEmitter.emit("debug",true);enabled=true;return enabledMessage},set:function(bool){assert.equal(typeof bool,"boolean","choo-devtools.debug: bool should be type boolean");window.localStorage.logLevel=bool?"debug":"info";enabled=bool;localEmitter.emit("debug",enabled);if(enabled)log.info(enabledMessage);else log.info(disabledMessage)}})}},{assert:23,nanologger:412,"object-change-callsite":423}],34:[function(require,module,exports){module.exports=help;function help(){Object.defineProperty(window.choo,"help",{get:get,set:noop});function get(){setTimeout(function(){print("copy","Serialize the current state to the clipboard.");print("debug","Enable Choo debug mode.");print("emit","Emit an event in the Choo emitter.");print("help","Print usage information.");print("log","Print the last 150 events emitted.");print("on","Listen for an event in the Choo emitter.");print("once","Listen for an event once in the Choo emitter.");print("perf","Print out performance metrics");print("state","Print the Choo state object.");print("storage","Print browser storage information.")},0);return"Choo command overview"}}function print(cmd,desc){var color="#cc99cc";console.log("  %cchoo."+cmd,"color: "+color,"— "+desc)}function noop(){}},{}],35:[function(require,module,exports){var removeItems=require("remove-array-items");var scheduler=require("nanoscheduler")();var nanologger=require("nanologger");var _log=nanologger("choo");var clone=require("clone");var MAX_HISTORY_LENGTH=150;module.exports=log;function log(state,emitter,app,localEmitter){var shouldDebug=window.localStorage.logLevel==="debug";var history=[];var i=0;var shouldWarn=true;localEmitter.on("debug",function(bool){shouldDebug=bool});window.choo._history=history;window.choo.history=showHistory;Object.defineProperty(window.choo,"log",{get:showHistory,set:noop});Object.defineProperty(window.choo,"history",{get:showHistory,set:noop});emitter.on("*",function(name,data){i+=1;var entry=new Event(name,data,state);history.push(entry);scheduler.push(function(){var length=history.length;if(length>MAX_HISTORY_LENGTH){removeItems(history,0,length-MAX_HISTORY_LENGTH)}})});function showHistory(){setTimeout(function(){console.table(history)},0);var events=i===1?"event":"events";var msg=i+" "+events+" recorded, showing the last "+MAX_HISTORY_LENGTH+".";if(shouldDebug===false){msg+=" Enable state capture by calling `choo.debug`."}else{msg+=" Disable state capture by calling `choo.debug = false`."}return msg}function Event(name,data,state){this.name=name;this.data=data===undefined?"<no data>":data;this.state=shouldDebug?tryClone(state):"<disabled>"}function tryClone(state){try{var _state=clone(state);if(!shouldWarn)shouldWarn=true;return _state}catch(ex){if(shouldWarn){_log.warn("Could not clone your app state. Make sure to have a serializable state so it can be cloned");shouldWarn=false}return"<unserializable>"}}}function noop(){}},{clone:44,nanologger:412,nanoscheduler:420,"remove-array-items":448}],36:[function(require,module,exports){var scheduler=require("nanoscheduler")();var nanologger=require("nanologger");var Hooks=require("choo-hooks");module.exports=logger;function logger(state,emitter,opts){var initialRender=true;var hooks=Hooks(emitter);var log=nanologger("choo");hooks.on("log:debug",logger("debug"));hooks.on("log:info",logger("info"));hooks.on("log:warn",logger("warn"));hooks.on("log:error",logger("error"));hooks.on("log:fatal",logger("fatal"));hooks.on("event",function(eventName,data,timing){if(opts.filter&&!opts.filter(eventName,data,timing))return;if(timing){var duration=timing.duration.toFixed();var level=duration<50?"info":"warn";if(data!==undefined)logger(level)(eventName,data,duration+"ms");else logger(level)(eventName,duration+"ms")}else{if(data!==undefined)logger("info")(eventName,data);else logger("info")(eventName)}});hooks.on("use",function(count,duration){logger("debug")("use",{count:count},duration+"ms")});hooks.on("unhandled",function(eventName,data){logger("error")("No listeners for "+eventName)});hooks.on("DOMContentLoaded",function(timing){if(!timing)return logger("info")("DOMContentLoaded");var level=timing.interactive<1e3?"info":"warn";logger(level)("DOMContentLoaded",timing.interactive+"ms to interactive")});hooks.on("render",function(timings){if(!timings||!timings.render)return logger("info")("render");var duration=timings.render.duration.toFixed();var msg="render";if(initialRender){initialRender=false;msg="initial "+msg}var fps=Math.min((600/duration).toFixed(),60);if(fps===60){logger("info")(msg,fps+"fps",duration+"ms")}else{var times={render:timings.render.duration.toFixed()+"ms"};if(timings.morph)times.morph=timings.morph.duration.toFixed()+"ms";logger("warn")(msg,fps+"fps",duration+"ms",times)}});hooks.on("resource-timing-buffer-full",function(){logger("error")("The browser's Resource Resource timing buffer is full. Cannot store any more timing information")});hooks.start();function logger(level){return function(){var args=[];for(var i=0,len=arguments.length;i<len;i++){args.push(arguments[i])}scheduler.push(function(){log[level].apply(log,args)})}}}},{"choo-hooks":39,nanologger:412,nanoscheduler:420}],37:[function(require,module,exports){var onPerformance=require("on-performance");var BAR="█";module.exports=perf;function perf(state,emitter,app,localEmitter){var stats={};window.choo.perf={};var all=new Perf(stats,"all");Object.defineProperty(window.choo.perf,"all",{get:all.get.bind(all),set:noop});var core=new Perf(stats,"core",function(name){return/^choo/.test(name)});Object.defineProperty(window.choo.perf,"core",{get:core.get.bind(core),set:noop});var components=new Perf(stats,"components",function(name){return!/^choo/.test(name)&&!/^bankai/.test(name)});Object.defineProperty(window.choo.perf,"components",{get:components.get.bind(components),set:noop});var events=new Perf(stats,"events",function(name){return/^choo\.emit/.test(name)},function(name){return name.replace(/^choo\.emit\('/,"").replace(/'\)$/,"")});Object.defineProperty(window.choo.perf,"events",{get:events.get.bind(events),set:noop});onPerformance(function(entry){if(entry.entryType!=="measure")return;var name=entry.name.replace(/ .*$/,"");if(!stats[name]){stats[name]={name:name,count:0,entries:[]}}var stat=stats[name];stat.count+=1;stat.entries.push(entry.duration)})}function Perf(stats,name,filter,rename){this.stats=stats;this.name=name;this.filter=filter||function(){return true};this.rename=rename||function(name){return name}}Perf.prototype.get=function(){var filtered=Object.keys(this.stats).filter(this.filter);var self=this;var maxTime=0;var maxMedian=0;var fmt=filtered.map(function(key){var stat=self.stats[key];var totalTime=Number(stat.entries.reduce(function(time,entry){return time+entry},0).toFixed(2));if(totalTime>maxTime)maxTime=totalTime;var median=getMedian(stat.entries);if(median>maxMedian)maxMedian=median;var name=self.rename(stat.name);return new PerfEntry(name,totalTime,median,stat.count)});var barLength=10;fmt.forEach(function(entry){var totalTime=entry["Total Time (ms)"];var median=entry["Median (ms)"];entry[" "]=createBar(totalTime/maxTime*100/barLength);entry["  "]=createBar(median/maxMedian*100/barLength)});function createBar(len){var str="";for(var i=0,max=Math.round(len);i<max;i++){str+=BAR}return str}var res=fmt.sort(function(a,b){return b["Total Time (ms)"]-a["Total Time (ms)"]});console.table(res);return"Showing performance events for '"+this.name+"'"};function PerfEntry(name,totalTime,median,count){this["Name"]=name;this["Total Time (ms)"]=totalTime;this[" "]=0;this["Median (ms)"]=median;this["  "]=0;this["Total Count"]=count}function getMedian(args){if(!args.length)return 0;var numbers=args.slice(0).sort(function(a,b){return a-b});var middle=Math.floor(numbers.length/2);var isEven=numbers.length%2===0;var res=isEven?(numbers[middle]+numbers[middle-1])/2:numbers[middle];return Number(res.toFixed(2))}function noop(){}},{"on-performance":425}],38:[function(require,module,exports){var pretty=require("prettier-bytes");module.exports=storage;function storage(){Object.defineProperty(window.choo,"storage",{get:get,set:noop});function get(){if(navigator.storage){navigator.storage.estimate().then(function(estimate){var value=(estimate.usage/estimate.quota).toFixed();clr("Max storage:",fmt(estimate.quota));clr("Storage used:",fmt(estimate.usage)+" ("+value+"%)");navigator.storage.persisted().then(function(bool){var val=bool?"enabled":"disabled";clr("Persistent storage:",val)})});return"Calculating storage quota…"}else{var protocol=window.location.protocol;return/https/.test(protocol)?"The Storage API is unavailable in this browser. We're sorry!":"The Storage API is unavailable. Serving this site over HTTPS might help enable it!"}}}function clr(msg,arg){var color="#cc99cc";console.log("%c"+msg,"color: "+color,arg)}function fmt(num){return pretty(num).replace(" ","")}function noop(){}},{"prettier-bytes":429}],39:[function(require,module,exports){var onPerformance=require("on-performance");var scheduler=require("nanoscheduler")();var assert=require("assert");module.exports=ChooHooks;function ChooHooks(emitter){if(!(this instanceof ChooHooks))return new ChooHooks(emitter);assert.equal(typeof emitter,"object");this.hasWindow=typeof window!=="undefined";this.hasIdleCallback=this.hasWindow&&window.requestIdleCallback;this.hasPerformance=this.hasWindow&&window.performance&&window.performance.getEntriesByName;this.emitter=emitter;this.listeners={};this.buffer={use:[],render:{},events:{}}}ChooHooks.prototype.on=function(name,handler){this.listeners[name]=handler};ChooHooks.prototype.start=function(){var self=this;if(this.hasPerformance){window.performance.onresourcetimingbufferfull=function(){var listener=self.listeners["resource-timing-buffer-full"];if(listener)listener()}}onPerformance(function(timing){if(!timing)return;if(timing.entryType!=="measure")return;var eventName=timing.name;if(/choo\.morph/.test(eventName)){self.buffer.render.morph=timing}else if(/choo\.route/.test(eventName)){self.buffer.render.route=timing}else if(/choo\.render/.test(eventName)){self.buffer.render.render=timing}else if(/choo\.use/.test(eventName)){self.buffer.use.push(timing)}else if(/choo\.emit/.test(eventName)&&!/log:/.test(eventName)){var eventListener=self.listeners["event"];if(eventListener){var timingName=eventName.match(/choo\.emit\('(.*)'\)/)[1];if(timingName==="render"||timingName==="DOMContentLoaded")return;var traceId=eventName.match(/\[(\d+)\]/)[1];var data=self.buffer.events[traceId];self.buffer.events[traceId]=null;eventListener(timingName,data,timing)}}var rBuf=self.buffer.render;if(rBuf.render&&rBuf.route&&rBuf.morph){var renderListener=self.listeners["render"];if(!renderListener)return;var timings={};while(self.buffer.render.length){var _timing=self.buffer.render.pop();var name=_timing.name;if(/choo\.render/.test(name))timings.render=_timing;else if(/choo\.morph/.test(name))timings.morph=_timing;else timings.route=_timing}rBuf.render=rBuf.route=rBuf.morph=void 0;renderListener(timings)}});this.emitter.on("*",function(eventName,data,uuid){var logLevel=/^log:(\w{4,5})/.exec(eventName);if(!self.hasPerformance&&eventName==="render"){var renderListener=self.listeners["render"];if(renderListener)renderListener()}else if(eventName==="DOMContentLoaded"){self._emitLoaded()}else if(logLevel){logLevel=logLevel[1];var logListener=self.listeners["log:"+logLevel];if(logListener)logListener(eventName,data)}else if(!self.emitter.listeners(eventName).length){var unhandledListener=self.listeners["unhandled"];if(unhandledListener)unhandledListener(eventName,data)}else if(eventName!=="render"){if(self.hasPerformance)self.buffer.events[uuid]=data}})};ChooHooks.prototype._emitLoaded=function(){var self=this;scheduler.push(function clear(){var listener=self.listeners["DOMContentLoaded"];var usesListener=self.listeners["use"];var timing=self.hasWindow&&window.performance&&window.performance.timing;if(listener&&timing){listener({interactive:timing.domInteractive-timing.navigationStart,loaded:timing.domContentLoadedEventEnd-timing.navigationStart})}if(self.hasPerformance){var duration=sumDurations(self.buffer.use);if(usesListener)usesListener(self.buffer.use.length,duration)}else{usesListener()}})};function sumDurations(timings){return timings.reduce(function(sum,timing){return sum+timing.duration},0).toFixed()}},{assert:23,nanoscheduler:420,"on-performance":425}],40:[function(require,module,exports){var assert=require("assert");var LRU=require("nanolru");module.exports=ChooComponentCache;function ChooComponentCache(state,emit,lru){assert.ok(this instanceof ChooComponentCache,"ChooComponentCache should be created with `new`");assert.equal(typeof state,"object","ChooComponentCache: state should be type object");assert.equal(typeof emit,"function","ChooComponentCache: emit should be type function");if(typeof lru==="number")this.cache=new LRU(lru);else this.cache=lru||new LRU(100);this.state=state;this.emit=emit}ChooComponentCache.prototype.render=function(Component,id){assert.equal(typeof Component,"function","ChooComponentCache.render: Component should be type function");assert.ok(typeof id==="string"||typeof id==="number","ChooComponentCache.render: id should be type string or type number");var el=this.cache.get(id);if(!el){var args=[];for(var i=2,len=arguments.length;i<len;i++){args.push(arguments[i])}args.unshift(Component,id,this.state,this.emit);el=newCall.apply(newCall,args);this.cache.set(id,el)}return el};function newCall(Cls){return new(Cls.bind.apply(Cls,arguments))}},{assert:403,nanolru:413}],41:[function(require,module,exports){module.exports=require("nanohtml")},{nanohtml:409}],42:[function(require,module,exports){var scrollToAnchor=require("scroll-to-anchor");var documentReady=require("document-ready");var nanotiming=require("nanotiming");var nanorouter=require("nanorouter");var nanomorph=require("nanomorph");var nanoquery=require("nanoquery");var nanohref=require("nanohref");var nanoraf=require("nanoraf");var nanobus=require("nanobus");var assert=require("assert");var xtend=require("xtend");var Cache=require("./component/cache");module.exports=Choo;var HISTORY_OBJECT={};function Choo(opts){if(!(this instanceof Choo))return new Choo(opts);opts=opts||{};assert.equal(typeof opts,"object","choo: opts should be type object");var self=this;this._events={DOMCONTENTLOADED:"DOMContentLoaded",DOMTITLECHANGE:"DOMTitleChange",REPLACESTATE:"replaceState",PUSHSTATE:"pushState",NAVIGATE:"navigate",POPSTATE:"popState",RENDER:"render"};this._historyEnabled=opts.history===undefined?true:opts.history;this._hrefEnabled=opts.href===undefined?true:opts.href;this._hashEnabled=opts.hash===undefined?true:opts.hash;this._hasWindow=typeof window!=="undefined";this._cache=opts.cache;this._loaded=false;this._stores=[];this._tree=null;var _state={events:this._events,components:{}};if(this._hasWindow){this.state=window.initialState?xtend(window.initialState,_state):_state;delete window.initialState}else{this.state=_state}this.router=nanorouter({curry:true});this.emitter=nanobus("choo.emit");this.emit=this.emitter.emit.bind(this.emitter);if(this._hasWindow)this.state.title=document.title;this.emitter.prependListener(this._events.DOMTITLECHANGE,function(title){assert.equal(typeof title,"string","events.DOMTitleChange: title should be type string");self.state.title=title;if(self._hasWindow)document.title=title})}Choo.prototype.route=function(route,handler){assert.equal(typeof route,"string","choo.route: route should be type string");assert.equal(typeof handler,"function","choo.handler: route should be type function");this.router.on(route,handler)};Choo.prototype.use=function(cb){assert.equal(typeof cb,"function","choo.use: cb should be type function");var self=this;this._stores.push(function(state){var msg="choo.use";msg=cb.storeName?msg+"("+cb.storeName+")":msg;var endTiming=nanotiming(msg);cb(state,self.emitter,self);endTiming()})};Choo.prototype.start=function(){assert.equal(typeof window,"object","choo.start: window was not found. .start() must be called in a browser, use .toString() if running in Node");var self=this;if(this._historyEnabled){this.emitter.prependListener(this._events.NAVIGATE,function(){self._matchRoute();if(self._loaded){self.emitter.emit(self._events.RENDER);setTimeout(scrollToAnchor.bind(null,window.location.hash),0)}});this.emitter.prependListener(this._events.POPSTATE,function(){self.emitter.emit(self._events.NAVIGATE)});this.emitter.prependListener(this._events.PUSHSTATE,function(href){assert.equal(typeof href,"string","events.pushState: href should be type string");window.history.pushState(HISTORY_OBJECT,null,href);self.emitter.emit(self._events.NAVIGATE)});this.emitter.prependListener(this._events.REPLACESTATE,function(href){assert.equal(typeof href,"string","events.replaceState: href should be type string");window.history.replaceState(HISTORY_OBJECT,null,href);self.emitter.emit(self._events.NAVIGATE)});window.onpopstate=function(){self.emitter.emit(self._events.POPSTATE)};if(self._hrefEnabled){nanohref(function(location){var href=location.href;var hash=location.hash;if(href===window.location.href){if(!self._hashEnabled&&hash)scrollToAnchor(hash);return}self.emitter.emit(self._events.PUSHSTATE,href)})}}this._setCache(this.state);this._stores.forEach(function(initStore){initStore(self.state)});this._matchRoute();this._tree=this._prerender(this.state);assert.ok(this._tree,"choo.start: no valid DOM node returned for location "+this.state.href);this.emitter.prependListener(self._events.RENDER,nanoraf(function(){var renderTiming=nanotiming("choo.render");var newTree=self._prerender(self.state);assert.ok(newTree,"choo.render: no valid DOM node returned for location "+self.state.href);assert.equal(self._tree.nodeName,newTree.nodeName,"choo.render: The target node <"+self._tree.nodeName.toLowerCase()+"> is not the same type as the new node <"+newTree.nodeName.toLowerCase()+">.");var morphTiming=nanotiming("choo.morph");nanomorph(self._tree,newTree);morphTiming();renderTiming()}));documentReady(function(){self.emitter.emit(self._events.DOMCONTENTLOADED);self._loaded=true});return this._tree};Choo.prototype.mount=function mount(selector){if(typeof window!=="object"){assert.ok(typeof selector==="string","choo.mount: selector should be type String");this.selector=selector;return this}assert.ok(typeof selector==="string"||typeof selector==="object","choo.mount: selector should be type String or HTMLElement");var self=this;documentReady(function(){var renderTiming=nanotiming("choo.render");var newTree=self.start();if(typeof selector==="string"){self._tree=document.querySelector(selector)}else{self._tree=selector}assert.ok(self._tree,"choo.mount: could not query selector: "+selector);assert.equal(self._tree.nodeName,newTree.nodeName,"choo.mount: The target node <"+self._tree.nodeName.toLowerCase()+"> is not the same type as the new node <"+newTree.nodeName.toLowerCase()+">.");var morphTiming=nanotiming("choo.morph");nanomorph(self._tree,newTree);morphTiming();renderTiming()})};Choo.prototype.toString=function(location,state){this.state=xtend(this.state,state||{});assert.notEqual(typeof window,"object","choo.mount: window was found. .toString() must be called in Node, use .start() or .mount() if running in the browser");assert.equal(typeof location,"string","choo.toString: location should be type string");assert.equal(typeof this.state,"object","choo.toString: state should be type object");var self=this;this._setCache(this.state);this._stores.forEach(function(initStore){initStore(self.state)});this._matchRoute(location);var html=this._prerender(this.state);assert.ok(html,"choo.toString: no valid value returned for the route "+location);assert(!Array.isArray(html),"choo.toString: return value was an array for the route "+location);return typeof html.outerHTML==="string"?html.outerHTML:html.toString()};Choo.prototype._matchRoute=function(locationOverride){var location,queryString;if(locationOverride){location=locationOverride.replace(/\?.+$/,"").replace(/\/$/,"");if(!this._hashEnabled)location=location.replace(/#.+$/,"");queryString=locationOverride}else{location=window.location.pathname.replace(/\/$/,"");if(this._hashEnabled)location+=window.location.hash.replace(/^#/,"/");queryString=window.location.search}var matched=this.router.match(location);this._handler=matched.cb;this.state.href=location;this.state.query=nanoquery(queryString);this.state.route=matched.route;this.state.params=matched.params;return this.state};Choo.prototype._prerender=function(state){var routeTiming=nanotiming("choo.prerender('"+state.route+"')");var res=this._handler(state,this.emit);routeTiming();return res};Choo.prototype._setCache=function(state){var cache=new Cache(state,this.emitter.emit.bind(this.emitter),this._cache);state.cache=renderComponent;function renderComponent(Component,id){assert.equal(typeof Component,"function","choo.state.cache: Component should be type function");var args=[];for(var i=0,len=arguments.length;i<len;i++){args.push(arguments[i])}return cache.render.apply(cache,args)}renderComponent.toJSON=function(){return null}}},{"./component/cache":40,assert:403,"document-ready":381,nanobus:404,nanohref:406,nanomorph:414,nanoquery:417,nanoraf:418,nanorouter:419,nanotiming:421,"scroll-to-anchor":451,xtend:470}],43:[function(require,module,exports){(function(){"use strict";var hasOwn={}.hasOwnProperty;function classNames(){var classes=[];for(var i=0;i<arguments.length;i++){var arg=arguments[i];if(!arg)continue;var argType=typeof arg;if(argType==="string"||argType==="number"){classes.push(arg)}else if(Array.isArray(arg)&&arg.length){var inner=classNames.apply(null,arg);if(inner){classes.push(inner)}}else if(argType==="object"){for(var key in arg){if(hasOwn.call(arg,key)&&arg[key]){classes.push(key)}}}}return classes.join(" ")}if(typeof module!=="undefined"&&module.exports){classNames.default=classNames;module.exports=classNames}else if(typeof define==="function"&&typeof define.amd==="object"&&define.amd){define("classnames",[],function(){return classNames})}else{window.classNames=classNames}})()},{}],44:[function(require,module,exports){(function(Buffer){var clone=function(){"use strict";function _instanceof(obj,type){return type!=null&&obj instanceof type}var nativeMap;try{nativeMap=Map}catch(_){nativeMap=function(){}}var nativeSet;try{nativeSet=Set}catch(_){nativeSet=function(){}}var nativePromise;try{nativePromise=Promise}catch(_){nativePromise=function(){}}function clone(parent,circular,depth,prototype,includeNonEnumerable){if(typeof circular==="object"){depth=circular.depth;prototype=circular.prototype;includeNonEnumerable=circular.includeNonEnumerable;circular=circular.circular}var allParents=[];var allChildren=[];var useBuffer=typeof Buffer!="undefined";if(typeof circular=="undefined")circular=true;if(typeof depth=="undefined")depth=Infinity;function _clone(parent,depth){if(parent===null)return null;if(depth===0)return parent;var child;var proto;if(typeof parent!="object"){return parent}if(_instanceof(parent,nativeMap)){child=new nativeMap}else if(_instanceof(parent,nativeSet)){child=new nativeSet}else if(_instanceof(parent,nativePromise)){child=new nativePromise(function(resolve,reject){parent.then(function(value){resolve(_clone(value,depth-1))},function(err){reject(_clone(err,depth-1))})})}else if(clone.__isArray(parent)){child=[]}else if(clone.__isRegExp(parent)){child=new RegExp(parent.source,__getRegExpFlags(parent));if(parent.lastIndex)child.lastIndex=parent.lastIndex}else if(clone.__isDate(parent)){child=new Date(parent.getTime())}else if(useBuffer&&Buffer.isBuffer(parent)){if(Buffer.allocUnsafe){child=Buffer.allocUnsafe(parent.length)}else{child=new Buffer(parent.length)}parent.copy(child);return child}else if(_instanceof(parent,Error)){child=Object.create(parent)}else{if(typeof prototype=="undefined"){proto=Object.getPrototypeOf(parent);child=Object.create(proto)}else{child=Object.create(prototype);proto=prototype}}if(circular){var index=allParents.indexOf(parent);if(index!=-1){return allChildren[index]}allParents.push(parent);allChildren.push(child)}if(_instanceof(parent,nativeMap)){parent.forEach(function(value,key){var keyChild=_clone(key,depth-1);var valueChild=_clone(value,depth-1);child.set(keyChild,valueChild)})}if(_instanceof(parent,nativeSet)){parent.forEach(function(value){var entryChild=_clone(value,depth-1);child.add(entryChild)})}for(var i in parent){var attrs;if(proto){attrs=Object.getOwnPropertyDescriptor(proto,i)}if(attrs&&attrs.set==null){continue}child[i]=_clone(parent[i],depth-1)}if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(parent);for(var i=0;i<symbols.length;i++){var symbol=symbols[i];var descriptor=Object.getOwnPropertyDescriptor(parent,symbol);if(descriptor&&!descriptor.enumerable&&!includeNonEnumerable){continue}child[symbol]=_clone(parent[symbol],depth-1);if(!descriptor.enumerable){Object.defineProperty(child,symbol,{enumerable:false})}}}if(includeNonEnumerable){var allPropertyNames=Object.getOwnPropertyNames(parent);for(var i=0;i<allPropertyNames.length;i++){var propertyName=allPropertyNames[i];var descriptor=Object.getOwnPropertyDescriptor(parent,propertyName);if(descriptor&&descriptor.enumerable){continue}child[propertyName]=_clone(parent[propertyName],depth-1);Object.defineProperty(child,propertyName,{enumerable:false})}}return child}return _clone(parent,depth)}clone.clonePrototype=function clonePrototype(parent){if(parent===null)return null;var c=function(){};c.prototype=parent;return new c};function __objToStr(o){return Object.prototype.toString.call(o)}clone.__objToStr=__objToStr;function __isDate(o){return typeof o==="object"&&__objToStr(o)==="[object Date]"}clone.__isDate=__isDate;function __isArray(o){return typeof o==="object"&&__objToStr(o)==="[object Array]"}clone.__isArray=__isArray;function __isRegExp(o){return typeof o==="object"&&__objToStr(o)==="[object RegExp]"}clone.__isRegExp=__isRegExp;function __getRegExpFlags(re){var flags="";if(re.global)flags+="g";if(re.ignoreCase)flags+="i";if(re.multiline)flags+="m";return flags}clone.__getRegExpFlags=__getRegExpFlags;return clone}();if(typeof module==="object"&&module.exports){module.exports=clone}}).call(this,require("buffer").Buffer)},{buffer:30}],45:[function(require,module,exports){var cssKeywords=require("color-name");var reverseKeywords={};for(var key in cssKeywords){if(cssKeywords.hasOwnProperty(key)){reverseKeywords[cssKeywords[key]]=key}}var convert=module.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var model in convert){if(convert.hasOwnProperty(model)){if(!("channels"in convert[model])){throw new Error("missing channels property: "+model)}if(!("labels"in convert[model])){throw new Error("missing channel labels property: "+model)}if(convert[model].labels.length!==convert[model].channels){throw new Error("channel and label counts mismatch: "+model)}var channels=convert[model].channels;var labels=convert[model].labels;delete convert[model].channels;delete convert[model].labels;Object.defineProperty(convert[model],"channels",{value:channels});Object.defineProperty(convert[model],"labels",{value:labels})}}convert.rgb.hsl=function(rgb){var r=rgb[0]/255;var g=rgb[1]/255;var b=rgb[2]/255;var min=Math.min(r,g,b);var max=Math.max(r,g,b);var delta=max-min;var h;var s;var l;if(max===min){h=0}else if(r===max){h=(g-b)/delta}else if(g===max){h=2+(b-r)/delta}else if(b===max){h=4+(r-g)/delta}h=Math.min(h*60,360);if(h<0){h+=360}l=(min+max)/2;if(max===min){s=0}else if(l<=.5){s=delta/(max+min)}else{s=delta/(2-max-min)}return[h,s*100,l*100]};convert.rgb.hsv=function(rgb){var rdif;var gdif;var bdif;var h;var s;var r=rgb[0]/255;var g=rgb[1]/255;var b=rgb[2]/255;var v=Math.max(r,g,b);var diff=v-Math.min(r,g,b);var diffc=function(c){return(v-c)/6/diff+1/2};if(diff===0){h=s=0}else{s=diff/v;rdif=diffc(r);gdif=diffc(g);bdif=diffc(b);if(r===v){h=bdif-gdif}else if(g===v){h=1/3+rdif-bdif}else if(b===v){h=2/3+gdif-rdif}if(h<0){h+=1}else if(h>1){h-=1}}return[h*360,s*100,v*100]};convert.rgb.hwb=function(rgb){var r=rgb[0];var g=rgb[1];var b=rgb[2];var h=convert.rgb.hsl(rgb)[0];var w=1/255*Math.min(r,Math.min(g,b));b=1-1/255*Math.max(r,Math.max(g,b));return[h,w*100,b*100]};convert.rgb.cmyk=function(rgb){var r=rgb[0]/255;var g=rgb[1]/255;var b=rgb[2]/255;var c;var m;var y;var k;k=Math.min(1-r,1-g,1-b);c=(1-r-k)/(1-k)||0;m=(1-g-k)/(1-k)||0;y=(1-b-k)/(1-k)||0;return[c*100,m*100,y*100,k*100]};function comparativeDistance(x,y){return Math.pow(x[0]-y[0],2)+Math.pow(x[1]-y[1],2)+Math.pow(x[2]-y[2],2)}convert.rgb.keyword=function(rgb){var reversed=reverseKeywords[rgb];if(reversed){return reversed}var currentClosestDistance=Infinity;var currentClosestKeyword;for(var keyword in cssKeywords){if(cssKeywords.hasOwnProperty(keyword)){var value=cssKeywords[keyword];var distance=comparativeDistance(rgb,value);if(distance<currentClosestDistance){currentClosestDistance=distance;currentClosestKeyword=keyword}}}return currentClosestKeyword};convert.keyword.rgb=function(keyword){return cssKeywords[keyword]};convert.rgb.xyz=function(rgb){var r=rgb[0]/255;var g=rgb[1]/255;var b=rgb[2]/255;r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92;g=g>.04045?Math.pow((g+.055)/1.055,2.4):g/12.92;b=b>.04045?Math.pow((b+.055)/1.055,2.4):b/12.92;var x=r*.4124+g*.3576+b*.1805;var y=r*.2126+g*.7152+b*.0722;var z=r*.0193+g*.1192+b*.9505;return[x*100,y*100,z*100]};convert.rgb.lab=function(rgb){var xyz=convert.rgb.xyz(rgb);var x=xyz[0];var y=xyz[1];var z=xyz[2];var l;var a;var b;x/=95.047;y/=100;z/=108.883;x=x>.008856?Math.pow(x,1/3):7.787*x+16/116;y=y>.008856?Math.pow(y,1/3):7.787*y+16/116;z=z>.008856?Math.pow(z,1/3):7.787*z+16/116;l=116*y-16;a=500*(x-y);b=200*(y-z);return[l,a,b]};convert.hsl.rgb=function(hsl){var h=hsl[0]/360;var s=hsl[1]/100;var l=hsl[2]/100;var t1;var t2;var t3;var rgb;var val;if(s===0){val=l*255;return[val,val,val]}if(l<.5){t2=l*(1+s)}else{t2=l+s-l*s}t1=2*l-t2;rgb=[0,0,0];for(var i=0;i<3;i++){t3=h+1/3*-(i-1);if(t3<0){t3++}if(t3>1){t3--}if(6*t3<1){val=t1+(t2-t1)*6*t3}else if(2*t3<1){val=t2}else if(3*t3<2){val=t1+(t2-t1)*(2/3-t3)*6}else{val=t1}rgb[i]=val*255}return rgb};convert.hsl.hsv=function(hsl){var h=hsl[0];var s=hsl[1]/100;var l=hsl[2]/100;var smin=s;var lmin=Math.max(l,.01);var sv;var v;l*=2;s*=l<=1?l:2-l;smin*=lmin<=1?lmin:2-lmin;v=(l+s)/2;sv=l===0?2*smin/(lmin+smin):2*s/(l+s);return[h,sv*100,v*100]};convert.hsv.rgb=function(hsv){var h=hsv[0]/60;var s=hsv[1]/100;var v=hsv[2]/100;var hi=Math.floor(h)%6;var f=h-Math.floor(h);var p=255*v*(1-s);var q=255*v*(1-s*f);var t=255*v*(1-s*(1-f));v*=255;switch(hi){case 0:return[v,t,p];case 1:return[q,v,p];case 2:return[p,v,t];case 3:return[p,q,v];case 4:return[t,p,v];case 5:return[v,p,q]}};convert.hsv.hsl=function(hsv){var h=hsv[0];var s=hsv[1]/100;var v=hsv[2]/100;var vmin=Math.max(v,.01);var lmin;var sl;var l;l=(2-s)*v;lmin=(2-s)*vmin;sl=s*vmin;sl/=lmin<=1?lmin:2-lmin;sl=sl||0;l/=2;return[h,sl*100,l*100]};convert.hwb.rgb=function(hwb){var h=hwb[0]/360;var wh=hwb[1]/100;var bl=hwb[2]/100;var ratio=wh+bl;var i;var v;var f;var n;if(ratio>1){wh/=ratio;bl/=ratio}i=Math.floor(6*h);v=1-bl;f=6*h-i;if((i&1)!==0){f=1-f}n=wh+f*(v-wh);var r;var g;var b;switch(i){default:case 6:case 0:r=v;g=n;b=wh;break;case 1:r=n;g=v;b=wh;break;case 2:r=wh;g=v;b=n;break;case 3:r=wh;g=n;b=v;break;case 4:r=n;g=wh;b=v;break;case 5:r=v;g=wh;b=n;break}return[r*255,g*255,b*255]};convert.cmyk.rgb=function(cmyk){var c=cmyk[0]/100;var m=cmyk[1]/100;var y=cmyk[2]/100;var k=cmyk[3]/100;var r;var g;var b;r=1-Math.min(1,c*(1-k)+k);g=1-Math.min(1,m*(1-k)+k);b=1-Math.min(1,y*(1-k)+k);return[r*255,g*255,b*255]};convert.xyz.rgb=function(xyz){var x=xyz[0]/100;var y=xyz[1]/100;var z=xyz[2]/100;var r;var g;var b;r=x*3.2406+y*-1.5372+z*-.4986;g=x*-.9689+y*1.8758+z*.0415;b=x*.0557+y*-.204+z*1.057;r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r*12.92;g=g>.0031308?1.055*Math.pow(g,1/2.4)-.055:g*12.92;b=b>.0031308?1.055*Math.pow(b,1/2.4)-.055:b*12.92;r=Math.min(Math.max(0,r),1);g=Math.min(Math.max(0,g),1);b=Math.min(Math.max(0,b),1);return[r*255,g*255,b*255]};convert.xyz.lab=function(xyz){var x=xyz[0];var y=xyz[1];var z=xyz[2];var l;var a;var b;x/=95.047;y/=100;z/=108.883;x=x>.008856?Math.pow(x,1/3):7.787*x+16/116;y=y>.008856?Math.pow(y,1/3):7.787*y+16/116;z=z>.008856?Math.pow(z,1/3):7.787*z+16/116;l=116*y-16;a=500*(x-y);b=200*(y-z);return[l,a,b]};convert.lab.xyz=function(lab){var l=lab[0];var a=lab[1];var b=lab[2];var x;var y;var z;y=(l+16)/116;x=a/500+y;z=y-b/200;var y2=Math.pow(y,3);var x2=Math.pow(x,3);var z2=Math.pow(z,3);y=y2>.008856?y2:(y-16/116)/7.787;x=x2>.008856?x2:(x-16/116)/7.787;z=z2>.008856?z2:(z-16/116)/7.787;x*=95.047;y*=100;z*=108.883;return[x,y,z]};convert.lab.lch=function(lab){var l=lab[0];var a=lab[1];var b=lab[2];var hr;var h;var c;hr=Math.atan2(b,a);h=hr*360/2/Math.PI;if(h<0){h+=360}c=Math.sqrt(a*a+b*b);return[l,c,h]};convert.lch.lab=function(lch){var l=lch[0];var c=lch[1];var h=lch[2];var a;var b;var hr;hr=h/360*2*Math.PI;a=c*Math.cos(hr);b=c*Math.sin(hr);return[l,a,b]};convert.rgb.ansi16=function(args){var r=args[0];var g=args[1];var b=args[2];var value=1 in arguments?arguments[1]:convert.rgb.hsv(args)[2];value=Math.round(value/50);if(value===0){return 30}var ansi=30+(Math.round(b/255)<<2|Math.round(g/255)<<1|Math.round(r/255));if(value===2){ansi+=60}return ansi};convert.hsv.ansi16=function(args){return convert.rgb.ansi16(convert.hsv.rgb(args),args[2])};convert.rgb.ansi256=function(args){var r=args[0];var g=args[1];var b=args[2];if(r===g&&g===b){if(r<8){return 16}if(r>248){return 231}return Math.round((r-8)/247*24)+232}var ansi=16+36*Math.round(r/255*5)+6*Math.round(g/255*5)+Math.round(b/255*5);return ansi};convert.ansi16.rgb=function(args){var color=args%10;if(color===0||color===7){if(args>50){color+=3.5}color=color/10.5*255;return[color,color,color]}var mult=(~~(args>50)+1)*.5;var r=(color&1)*mult*255;var g=(color>>1&1)*mult*255;var b=(color>>2&1)*mult*255;return[r,g,b]};convert.ansi256.rgb=function(args){if(args>=232){var c=(args-232)*10+8;return[c,c,c]}args-=16;var rem;var r=Math.floor(args/36)/5*255;var g=Math.floor((rem=args%36)/6)/5*255;var b=rem%6/5*255;return[r,g,b]};convert.rgb.hex=function(args){var integer=((Math.round(args[0])&255)<<16)+((Math.round(args[1])&255)<<8)+(Math.round(args[2])&255);var string=integer.toString(16).toUpperCase();return"000000".substring(string.length)+string};convert.hex.rgb=function(args){var match=args.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!match){return[0,0,0]}var colorString=match[0];if(match[0].length===3){colorString=colorString.split("").map(function(char){return char+char}).join("")}var integer=parseInt(colorString,16);var r=integer>>16&255;var g=integer>>8&255;var b=integer&255;return[r,g,b]};convert.rgb.hcg=function(rgb){var r=rgb[0]/255;var g=rgb[1]/255;var b=rgb[2]/255;var max=Math.max(Math.max(r,g),b);var min=Math.min(Math.min(r,g),b);var chroma=max-min;var grayscale;var hue;if(chroma<1){grayscale=min/(1-chroma)}else{grayscale=0}if(chroma<=0){hue=0}else if(max===r){hue=(g-b)/chroma%6}else if(max===g){hue=2+(b-r)/chroma}else{hue=4+(r-g)/chroma+4}hue/=6;hue%=1;return[hue*360,chroma*100,grayscale*100]};convert.hsl.hcg=function(hsl){var s=hsl[1]/100;var l=hsl[2]/100;var c=1;var f=0;if(l<.5){c=2*s*l}else{c=2*s*(1-l)}if(c<1){f=(l-.5*c)/(1-c)}return[hsl[0],c*100,f*100]};convert.hsv.hcg=function(hsv){var s=hsv[1]/100;var v=hsv[2]/100;var c=s*v;var f=0;if(c<1){f=(v-c)/(1-c)}return[hsv[0],c*100,f*100]};convert.hcg.rgb=function(hcg){var h=hcg[0]/360;var c=hcg[1]/100;var g=hcg[2]/100;if(c===0){return[g*255,g*255,g*255]}var pure=[0,0,0];var hi=h%1*6;var v=hi%1;var w=1-v;var mg=0;switch(Math.floor(hi)){case 0:pure[0]=1;pure[1]=v;pure[2]=0;break;case 1:pure[0]=w;pure[1]=1;pure[2]=0;break;case 2:pure[0]=0;pure[1]=1;pure[2]=v;break;case 3:pure[0]=0;pure[1]=w;pure[2]=1;break;case 4:pure[0]=v;pure[1]=0;pure[2]=1;break;default:pure[0]=1;pure[1]=0;pure[2]=w}mg=(1-c)*g;return[(c*pure[0]+mg)*255,(c*pure[1]+mg)*255,(c*pure[2]+mg)*255]};convert.hcg.hsv=function(hcg){var c=hcg[1]/100;var g=hcg[2]/100;var v=c+g*(1-c);var f=0;if(v>0){f=c/v}return[hcg[0],f*100,v*100]};convert.hcg.hsl=function(hcg){var c=hcg[1]/100;var g=hcg[2]/100;var l=g*(1-c)+.5*c;var s=0;if(l>0&&l<.5){s=c/(2*l)}else if(l>=.5&&l<1){s=c/(2*(1-l))}return[hcg[0],s*100,l*100]};convert.hcg.hwb=function(hcg){var c=hcg[1]/100;var g=hcg[2]/100;var v=c+g*(1-c);return[hcg[0],(v-c)*100,(1-v)*100]};convert.hwb.hcg=function(hwb){var w=hwb[1]/100;var b=hwb[2]/100;var v=1-b;var c=v-w;var g=0;if(c<1){g=(v-c)/(1-c)}return[hwb[0],c*100,g*100]};convert.apple.rgb=function(apple){return[apple[0]/65535*255,apple[1]/65535*255,apple[2]/65535*255]};convert.rgb.apple=function(rgb){return[rgb[0]/255*65535,rgb[1]/255*65535,rgb[2]/255*65535]};convert.gray.rgb=function(args){return[args[0]/100*255,args[0]/100*255,args[0]/100*255]};convert.gray.hsl=convert.gray.hsv=function(args){return[0,0,args[0]]};convert.gray.hwb=function(gray){return[0,100,gray[0]]};convert.gray.cmyk=function(gray){return[0,0,0,gray[0]]};convert.gray.lab=function(gray){return[gray[0],0,0]};convert.gray.hex=function(gray){var val=Math.round(gray[0]/100*255)&255;var integer=(val<<16)+(val<<8)+val;var string=integer.toString(16).toUpperCase();return"000000".substring(string.length)+string};convert.rgb.gray=function(rgb){var val=(rgb[0]+rgb[1]+rgb[2])/3;return[val/255*100]}},{"color-name":47}],46:[function(require,module,exports){var conversions=require("./conversions");var route=require("./route");var convert={};var models=Object.keys(conversions);function wrapRaw(fn){var wrappedFn=function(args){if(args===undefined||args===null){return args}if(arguments.length>1){args=Array.prototype.slice.call(arguments)}return fn(args)};if("conversion"in fn){wrappedFn.conversion=fn.conversion}return wrappedFn}function wrapRounded(fn){var wrappedFn=function(args){if(args===undefined||args===null){return args}if(arguments.length>1){args=Array.prototype.slice.call(arguments)}var result=fn(args);if(typeof result==="object"){for(var len=result.length,i=0;i<len;i++){result[i]=Math.round(result[i])}}return result};if("conversion"in fn){wrappedFn.conversion=fn.conversion}return wrappedFn}models.forEach(function(fromModel){convert[fromModel]={};Object.defineProperty(convert[fromModel],"channels",{value:conversions[fromModel].channels});Object.defineProperty(convert[fromModel],"labels",{value:conversions[fromModel].labels});var routes=route(fromModel);var routeModels=Object.keys(routes);routeModels.forEach(function(toModel){var fn=routes[toModel];convert[fromModel][toModel]=wrapRounded(fn);convert[fromModel][toModel].raw=wrapRaw(fn)})});module.exports=convert},{"./conversions":45,"./route":48}],47:[function(require,module,exports){"use strict";module.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],48:[function(require,module,exports){var conversions=require("./conversions");function buildGraph(){var graph={};var models=Object.keys(conversions);for(var len=models.length,i=0;i<len;i++){graph[models[i]]={distance:-1,parent:null}}return graph}function deriveBFS(fromModel){var graph=buildGraph();var queue=[fromModel];graph[fromModel].distance=0;while(queue.length){var current=queue.pop();var adjacents=Object.keys(conversions[current]);for(var len=adjacents.length,i=0;i<len;i++){var adjacent=adjacents[i];var node=graph[adjacent];if(node.distance===-1){node.distance=graph[current].distance+1;node.parent=current;queue.unshift(adjacent)}}}return graph}function link(from,to){return function(args){return to(from(args))}}function wrapConversion(toModel,graph){var path=[graph[toModel].parent,toModel];var fn=conversions[graph[toModel].parent][toModel];var cur=graph[toModel].parent;while(graph[cur].parent){path.unshift(graph[cur].parent);fn=link(conversions[graph[cur].parent][cur],fn);cur=graph[cur].parent}fn.conversion=path;return fn}module.exports=function(fromModel){var graph=deriveBFS(fromModel);var conversion={};var models=Object.keys(graph);for(var len=models.length,i=0;i<len;i++){var toModel=models[i];var node=graph[toModel];if(node.parent===null){continue}conversion[toModel]=wrapConversion(toModel,graph)}return conversion}},{"./conversions":45}],49:[function(require,module,exports){arguments[4][47][0].apply(exports,arguments)},{dup:47}],50:[function(require,module,exports){var colorNames=require("color-name");var swizzle=require("simple-swizzle");var reverseNames={};for(var name in colorNames){if(colorNames.hasOwnProperty(name)){reverseNames[colorNames[name]]=name}}var cs=module.exports={to:{},get:{}};cs.get=function(string){var prefix=string.substring(0,3).toLowerCase();var val;var model;switch(prefix){case"hsl":val=cs.get.hsl(string);model="hsl";break;case"hwb":val=cs.get.hwb(string);model="hwb";break;default:val=cs.get.rgb(string);model="rgb";break}if(!val){return null}return{model:model,value:val}};cs.get.rgb=function(string){if(!string){return null}var abbr=/^#([a-f0-9]{3,4})$/i;var hex=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i;var rgba=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/;var per=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/;var keyword=/(\D+)/;var rgb=[0,0,0,1];var match;var i;var hexAlpha;if(match=string.match(hex)){hexAlpha=match[2];match=match[1];for(i=0;i<3;i++){var i2=i*2;rgb[i]=parseInt(match.slice(i2,i2+2),16)}if(hexAlpha){rgb[3]=Math.round(parseInt(hexAlpha,16)/255*100)/100}}else if(match=string.match(abbr)){match=match[1];hexAlpha=match[3];for(i=0;i<3;i++){rgb[i]=parseInt(match[i]+match[i],16)}if(hexAlpha){rgb[3]=Math.round(parseInt(hexAlpha+hexAlpha,16)/255*100)/100}}else if(match=string.match(rgba)){for(i=0;i<3;i++){rgb[i]=parseInt(match[i+1],0)}if(match[4]){rgb[3]=parseFloat(match[4])}}else if(match=string.match(per)){for(i=0;i<3;i++){rgb[i]=Math.round(parseFloat(match[i+1])*2.55)}if(match[4]){rgb[3]=parseFloat(match[4])}}else if(match=string.match(keyword)){if(match[1]==="transparent"){return[0,0,0,0]}rgb=colorNames[match[1]];if(!rgb){return null}rgb[3]=1;return rgb}else{return null}for(i=0;i<3;i++){rgb[i]=clamp(rgb[i],0,255)}rgb[3]=clamp(rgb[3],0,1);return rgb};cs.get.hsl=function(string){if(!string){return null}var hsl=/^hsla?\(\s*([+-]?(?:\d*\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/;var match=string.match(hsl);if(match){var alpha=parseFloat(match[4]);var h=(parseFloat(match[1])+360)%360;var s=clamp(parseFloat(match[2]),0,100);var l=clamp(parseFloat(match[3]),0,100);var a=clamp(isNaN(alpha)?1:alpha,0,1);return[h,s,l,a]}return null};cs.get.hwb=function(string){if(!string){return null}var hwb=/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/;var match=string.match(hwb);if(match){var alpha=parseFloat(match[4]);var h=(parseFloat(match[1])%360+360)%360;var w=clamp(parseFloat(match[2]),0,100);var b=clamp(parseFloat(match[3]),0,100);var a=clamp(isNaN(alpha)?1:alpha,0,1);return[h,w,b,a]}return null};cs.to.hex=function(){var rgba=swizzle(arguments);return"#"+hexDouble(rgba[0])+hexDouble(rgba[1])+hexDouble(rgba[2])+(rgba[3]<1?hexDouble(Math.round(rgba[3]*255)):"")};cs.to.rgb=function(){var rgba=swizzle(arguments);return rgba.length<4||rgba[3]===1?"rgb("+Math.round(rgba[0])+", "+Math.round(rgba[1])+", "+Math.round(rgba[2])+")":"rgba("+Math.round(rgba[0])+", "+Math.round(rgba[1])+", "+Math.round(rgba[2])+", "+rgba[3]+")"};cs.to.rgb.percent=function(){var rgba=swizzle(arguments);var r=Math.round(rgba[0]/255*100);var g=Math.round(rgba[1]/255*100);var b=Math.round(rgba[2]/255*100);return rgba.length<4||rgba[3]===1?"rgb("+r+"%, "+g+"%, "+b+"%)":"rgba("+r+"%, "+g+"%, "+b+"%, "+rgba[3]+")"};cs.to.hsl=function(){var hsla=swizzle(arguments);return hsla.length<4||hsla[3]===1?"hsl("+hsla[0]+", "+hsla[1]+"%, "+hsla[2]+"%)":"hsla("+hsla[0]+", "+hsla[1]+"%, "+hsla[2]+"%, "+hsla[3]+")"};cs.to.hwb=function(){var hwba=swizzle(arguments);var a="";if(hwba.length>=4&&hwba[3]!==1){a=", "+hwba[3]}return"hwb("+hwba[0]+", "+hwba[1]+"%, "+hwba[2]+"%"+a+")"};cs.to.keyword=function(rgb){return reverseNames[rgb.slice(0,3)]};function clamp(num,min,max){return Math.min(Math.max(min,num),max)}function hexDouble(num){var str=num.toString(16).toUpperCase();return str.length<2?"0"+str:str}},{"color-name":49,"simple-swizzle":454}],51:[function(require,module,exports){"use strict";var colorString=require("color-string");var convert=require("color-convert");var _slice=[].slice;var skippedModels=["keyword","gray","hex"];var hashedModelKeys={};Object.keys(convert).forEach(function(model){hashedModelKeys[_slice.call(convert[model].labels).sort().join("")]=model});var limiters={};function Color(obj,model){if(!(this instanceof Color)){return new Color(obj,model)}if(model&&model in skippedModels){model=null}if(model&&!(model in convert)){throw new Error("Unknown model: "+model)}var i;var channels;if(obj==null){this.model="rgb";this.color=[0,0,0];this.valpha=1}else if(obj instanceof Color){this.model=obj.model;this.color=obj.color.slice();this.valpha=obj.valpha}else if(typeof obj==="string"){var result=colorString.get(obj);if(result===null){throw new Error("Unable to parse color from string: "+obj)}this.model=result.model;channels=convert[this.model].channels;this.color=result.value.slice(0,channels);this.valpha=typeof result.value[channels]==="number"?result.value[channels]:1}else if(obj.length){this.model=model||"rgb";channels=convert[this.model].channels;var newArr=_slice.call(obj,0,channels);this.color=zeroArray(newArr,channels);this.valpha=typeof obj[channels]==="number"?obj[channels]:1}else if(typeof obj==="number"){obj&=16777215;this.model="rgb";this.color=[obj>>16&255,obj>>8&255,obj&255];this.valpha=1}else{this.valpha=1;var keys=Object.keys(obj);if("alpha"in obj){keys.splice(keys.indexOf("alpha"),1);this.valpha=typeof obj.alpha==="number"?obj.alpha:0}var hashedKeys=keys.sort().join("");if(!(hashedKeys in hashedModelKeys)){throw new Error("Unable to parse color from object: "+JSON.stringify(obj))}this.model=hashedModelKeys[hashedKeys];var labels=convert[this.model].labels;var color=[];for(i=0;i<labels.length;i++){color.push(obj[labels[i]])}this.color=zeroArray(color)}if(limiters[this.model]){channels=convert[this.model].channels;for(i=0;i<channels;i++){var limit=limiters[this.model][i];if(limit){this.color[i]=limit(this.color[i])}}}this.valpha=Math.max(0,Math.min(1,this.valpha));if(Object.freeze){Object.freeze(this)}}Color.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(places){var self=this.model in colorString.to?this:this.rgb();self=self.round(typeof places==="number"?places:1);var args=self.valpha===1?self.color:self.color.concat(this.valpha);return colorString.to[self.model](args)},percentString:function(places){var self=this.rgb().round(typeof places==="number"?places:1);var args=self.valpha===1?self.color:self.color.concat(this.valpha);return colorString.to.rgb.percent(args)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){var result={};var channels=convert[this.model].channels;var labels=convert[this.model].labels;for(var i=0;i<channels;i++){result[labels[i]]=this.color[i]}if(this.valpha!==1){result.alpha=this.valpha}return result},unitArray:function(){var rgb=this.rgb().color;rgb[0]/=255;rgb[1]/=255;rgb[2]/=255;if(this.valpha!==1){rgb.push(this.valpha)}return rgb},unitObject:function(){var rgb=this.rgb().object();rgb.r/=255;rgb.g/=255;rgb.b/=255;if(this.valpha!==1){rgb.alpha=this.valpha}return rgb},round:function(places){places=Math.max(places||0,0);return new Color(this.color.map(roundToPlace(places)).concat(this.valpha),this.model)},alpha:function(val){if(arguments.length){return new Color(this.color.concat(Math.max(0,Math.min(1,val))),this.model)}return this.valpha},red:getset("rgb",0,maxfn(255)),green:getset("rgb",1,maxfn(255)),blue:getset("rgb",2,maxfn(255)),hue:getset(["hsl","hsv","hsl","hwb","hcg"],0,function(val){return(val%360+360)%360}),saturationl:getset("hsl",1,maxfn(100)),lightness:getset("hsl",2,maxfn(100)),saturationv:getset("hsv",1,maxfn(100)),value:getset("hsv",2,maxfn(100)),chroma:getset("hcg",1,maxfn(100)),gray:getset("hcg",2,maxfn(100)),white:getset("hwb",1,maxfn(100)),wblack:getset("hwb",2,maxfn(100)),cyan:getset("cmyk",0,maxfn(100)),magenta:getset("cmyk",1,maxfn(100)),yellow:getset("cmyk",2,maxfn(100)),black:getset("cmyk",3,maxfn(100)),x:getset("xyz",0,maxfn(100)),y:getset("xyz",1,maxfn(100)),z:getset("xyz",2,maxfn(100)),l:getset("lab",0,maxfn(100)),a:getset("lab",1),b:getset("lab",2),keyword:function(val){if(arguments.length){return new Color(val)}return convert[this.model].keyword(this.color)},hex:function(val){if(arguments.length){return new Color(val)}return colorString.to.hex(this.rgb().round().color)},rgbNumber:function(){var rgb=this.rgb().color;return(rgb[0]&255)<<16|(rgb[1]&255)<<8|rgb[2]&255},luminosity:function(){var rgb=this.rgb().color;var lum=[];for(var i=0;i<rgb.length;i++){var chan=rgb[i]/255;lum[i]=chan<=.03928?chan/12.92:Math.pow((chan+.055)/1.055,2.4)}return.2126*lum[0]+.7152*lum[1]+.0722*lum[2]},contrast:function(color2){var lum1=this.luminosity();var lum2=color2.luminosity();if(lum1>lum2){return(lum1+.05)/(lum2+.05)}return(lum2+.05)/(lum1+.05)},level:function(color2){var contrastRatio=this.contrast(color2);if(contrastRatio>=7.1){return"AAA"}return contrastRatio>=4.5?"AA":""},isDark:function(){var rgb=this.rgb().color;var yiq=(rgb[0]*299+rgb[1]*587+rgb[2]*114)/1e3;return yiq<128},isLight:function(){return!this.isDark()},negate:function(){var rgb=this.rgb();for(var i=0;i<3;i++){rgb.color[i]=255-rgb.color[i]}return rgb},lighten:function(ratio){var hsl=this.hsl();hsl.color[2]+=hsl.color[2]*ratio;return hsl},darken:function(ratio){var hsl=this.hsl();hsl.color[2]-=hsl.color[2]*ratio;return hsl},saturate:function(ratio){var hsl=this.hsl();hsl.color[1]+=hsl.color[1]*ratio;return hsl},desaturate:function(ratio){var hsl=this.hsl();hsl.color[1]-=hsl.color[1]*ratio;return hsl},whiten:function(ratio){var hwb=this.hwb();hwb.color[1]+=hwb.color[1]*ratio;return hwb},blacken:function(ratio){var hwb=this.hwb();hwb.color[2]+=hwb.color[2]*ratio;return hwb},grayscale:function(){var rgb=this.rgb().color;var val=rgb[0]*.3+rgb[1]*.59+rgb[2]*.11;return Color.rgb(val,val,val)},fade:function(ratio){return this.alpha(this.valpha-this.valpha*ratio)},opaquer:function(ratio){return this.alpha(this.valpha+this.valpha*ratio)},rotate:function(degrees){var hsl=this.hsl();var hue=hsl.color[0];hue=(hue+degrees)%360;hue=hue<0?360+hue:hue;hsl.color[0]=hue;return hsl},mix:function(mixinColor,weight){if(!mixinColor||!mixinColor.rgb){throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof mixinColor)}var color1=mixinColor.rgb();var color2=this.rgb();var p=weight===undefined?.5:weight;var w=2*p-1;var a=color1.alpha()-color2.alpha();var w1=((w*a===-1?w:(w+a)/(1+w*a))+1)/2;var w2=1-w1;return Color.rgb(w1*color1.red()+w2*color2.red(),w1*color1.green()+w2*color2.green(),w1*color1.blue()+w2*color2.blue(),color1.alpha()*p+color2.alpha()*(1-p))}};Object.keys(convert).forEach(function(model){if(skippedModels.indexOf(model)!==-1){return}var channels=convert[model].channels;Color.prototype[model]=function(){if(this.model===model){return new Color(this)}if(arguments.length){return new Color(arguments,model)}var newAlpha=typeof arguments[channels]==="number"?channels:this.valpha;return new Color(assertArray(convert[this.model][model].raw(this.color)).concat(newAlpha),model)};Color[model]=function(color){if(typeof color==="number"){color=zeroArray(_slice.call(arguments),channels)}return new Color(color,model)}});function roundTo(num,places){return Number(num.toFixed(places))}function roundToPlace(places){return function(num){return roundTo(num,places)}}function getset(model,channel,modifier){model=Array.isArray(model)?model:[model];model.forEach(function(m){(limiters[m]||(limiters[m]=[]))[channel]=modifier});model=model[0];return function(val){var result;if(arguments.length){if(modifier){val=modifier(val)}result=this[model]();result.color[channel]=val;return result}result=this[model]().color[channel];if(modifier){result=modifier(result)}return result}}function maxfn(max){return function(v){return Math.max(0,Math.min(max,v))}}function assertArray(val){return Array.isArray(val)?val:[val]}function zeroArray(arr,length){for(var i=0;i<length;i++){if(typeof arr[i]!=="number"){arr[i]=0}}return arr}module.exports=Color},{"color-convert":46,"color-string":50}],52:[function(require,module,exports){"use strict";module.exports=function(input){var el=document.createElement("textarea");el.value=input;el.setAttribute("readonly","");el.style.contain="strict";el.style.position="absolute";el.style.left="-9999px";el.style.fontSize="12pt";var selection=document.getSelection();var originalRange=false;if(selection.rangeCount>0){originalRange=selection.getRangeAt(0)}document.body.appendChild(el);el.select();el.selectionStart=0;el.selectionEnd=input.length;var success=false;try{success=document.execCommand("copy")}catch(err){}document.body.removeChild(el);if(originalRange){selection.removeAllRanges();selection.addRange(originalRange)}return success}},{}],53:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=applyDecorators;var defineProperty=Object.defineProperty,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;function applyDecorators(Class,props){var prototype=Class.prototype;for(var key in props){var decorators=props[key];for(var i=0,l=decorators.length;i<l;i++){var decorator=decorators[i];defineProperty(prototype,key,decorator(prototype,key,getOwnPropertyDescriptor(prototype,key)))}}return Class}},{}],54:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=autobind;var _utils=require("./private/utils");function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}var defineProperty=Object.defineProperty,getPrototypeOf=Object.getPrototypeOf;var mapStore=void 0;function getBoundSuper(obj,fn){if(typeof WeakMap==="undefined"){throw new Error("Using @autobind on "+fn.name+"() requires WeakMap support due to its use of super."+fn.name+"()\n      See https://github.com/jayphelps/core-decorators.js/issues/20")}if(!mapStore){mapStore=new WeakMap}if(mapStore.has(obj)===false){mapStore.set(obj,new WeakMap)}var superStore=mapStore.get(obj);if(superStore.has(fn)===false){superStore.set(fn,(0,_utils.bind)(fn,obj))}return superStore.get(fn)}function autobindClass(klass){var descs=(0,_utils.getOwnPropertyDescriptors)(klass.prototype);var keys=(0,_utils.getOwnKeys)(descs);for(var i=0,l=keys.length;i<l;i++){var key=keys[i];var desc=descs[key];if(typeof desc.value!=="function"||key==="constructor"){continue}defineProperty(klass.prototype,key,autobindMethod(klass.prototype,key,desc))}}function autobindMethod(target,key,_ref){var fn=_ref.value,configurable=_ref.configurable,enumerable=_ref.enumerable;if(typeof fn!=="function"){throw new SyntaxError("@autobind can only be used on functions, not: "+fn)}var constructor=target.constructor;return{configurable:configurable,enumerable:enumerable,get:function get(){if(this===target){return fn}if(this.constructor!==constructor&&getPrototypeOf(this).constructor===constructor){return fn}if(this.constructor!==constructor&&key in this.constructor.prototype){return getBoundSuper(this,fn)}var boundFn=(0,_utils.bind)(fn,this);defineProperty(this,key,{configurable:true,writable:true,enumerable:false,value:boundFn});return boundFn},set:(0,_utils.createDefaultSetter)(key)}}function handle(args){if(args.length===1){return autobindClass.apply(undefined,_toConsumableArray(args))}else{return autobindMethod.apply(undefined,_toConsumableArray(args))}}function autobind(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}if(args.length===0){return function(){return handle(arguments)}}else{return handle(args)}}},{"./private/utils":67}],55:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _override=require("./override");Object.defineProperty(exports,"override",{enumerable:true,get:function get(){return _interopRequireDefault(_override).default}});var _deprecate=require("./deprecate");Object.defineProperty(exports,"deprecate",{enumerable:true,get:function get(){return _interopRequireDefault(_deprecate).default}});Object.defineProperty(exports,"deprecated",{enumerable:true,get:function get(){return _interopRequireDefault(_deprecate).default}});var _suppressWarnings=require("./suppress-warnings");Object.defineProperty(exports,"suppressWarnings",{enumerable:true,get:function get(){return _interopRequireDefault(_suppressWarnings).default}});var _memoize=require("./memoize");Object.defineProperty(exports,"memoize",{enumerable:true,get:function get(){return _interopRequireDefault(_memoize).default}});var _autobind=require("./autobind");Object.defineProperty(exports,"autobind",{enumerable:true,get:function get(){return _interopRequireDefault(_autobind).default}});var _readonly=require("./readonly");Object.defineProperty(exports,"readonly",{enumerable:true,get:function get(){return _interopRequireDefault(_readonly).default}});var _enumerable=require("./enumerable");Object.defineProperty(exports,"enumerable",{enumerable:true,get:function get(){return _interopRequireDefault(_enumerable).default}});var _nonenumerable=require("./nonenumerable");Object.defineProperty(exports,"nonenumerable",{enumerable:true,get:function get(){return _interopRequireDefault(_nonenumerable).default}});var _nonconfigurable=require("./nonconfigurable");Object.defineProperty(exports,"nonconfigurable",{enumerable:true,get:function get(){return _interopRequireDefault(_nonconfigurable).default}});var _debounce=require("./debounce");Object.defineProperty(exports,"debounce",{enumerable:true,get:function get(){return _interopRequireDefault(_debounce).default}});var _throttle=require("./throttle");Object.defineProperty(exports,"throttle",{enumerable:true,get:function get(){return _interopRequireDefault(_throttle).default}});var _decorate=require("./decorate");Object.defineProperty(exports,"decorate",{enumerable:true,get:function get(){return _interopRequireDefault(_decorate).default}});var _mixin=require("./mixin");Object.defineProperty(exports,"mixin",{enumerable:true,get:function get(){return _interopRequireDefault(_mixin).default}});Object.defineProperty(exports,"mixins",{enumerable:true,get:function get(){return _interopRequireDefault(_mixin).default}});var _lazyInitialize=require("./lazy-initialize");Object.defineProperty(exports,"lazyInitialize",{enumerable:true,get:function get(){return _interopRequireDefault(_lazyInitialize).default}});var _time=require("./time");Object.defineProperty(exports,"time",{enumerable:true,get:function get(){return _interopRequireDefault(_time).default}});var _extendDescriptor=require("./extendDescriptor");Object.defineProperty(exports,"extendDescriptor",{enumerable:true,get:function get(){return _interopRequireDefault(_extendDescriptor).default}});var _profile=require("./profile");Object.defineProperty(exports,"profile",{enumerable:true,get:function get(){return _interopRequireDefault(_profile).default}});var _applyDecorators=require("./applyDecorators");Object.defineProperty(exports,"applyDecorators",{enumerable:true,get:function get(){return _interopRequireDefault(_applyDecorators).default}});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}},{"./applyDecorators":53,"./autobind":54,"./debounce":56,"./decorate":57,"./deprecate":58,"./enumerable":59,"./extendDescriptor":60,"./lazy-initialize":61,"./memoize":62,"./mixin":63,"./nonconfigurable":64,"./nonenumerable":65,"./override":66,"./profile":68,"./readonly":69,"./suppress-warnings":70,"./throttle":71,"./time":72}],56:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();exports.default=debounce;var _utils=require("./private/utils");var DEFAULT_TIMEOUT=300;function handleDescriptor(target,key,descriptor,_ref){var _ref2=_slicedToArray(_ref,2),_ref2$=_ref2[0],wait=_ref2$===undefined?DEFAULT_TIMEOUT:_ref2$,_ref2$2=_ref2[1],immediate=_ref2$2===undefined?false:_ref2$2;var callback=descriptor.value;if(typeof callback!=="function"){throw new SyntaxError("Only functions can be debounced")}return _extends({},descriptor,{value:function value(){var _this=this;var _metaFor=(0,_utils.metaFor)(this),debounceTimeoutIds=_metaFor.debounceTimeoutIds;var timeout=debounceTimeoutIds[key];var callNow=immediate&&!timeout;var args=arguments;clearTimeout(timeout);debounceTimeoutIds[key]=setTimeout(function(){delete debounceTimeoutIds[key];if(!immediate){callback.apply(_this,args)}},wait);if(callNow){callback.apply(this,args)}}})}function debounce(){(0,_utils.internalDeprecation)("@debounce is deprecated and will be removed shortly. Use @debounce from lodash-decorators.\n\n  https://www.npmjs.com/package/lodash-decorators");for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return(0,_utils.decorate)(handleDescriptor,args)}},{"./private/utils":67}],57:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=decorate;var _utils=require("./private/utils");function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}function _toArray(arr){return Array.isArray(arr)?arr:Array.from(arr)}var defineProperty=Object.defineProperty;function handleDescriptor(target,key,descriptor,_ref){var _ref2=_toArray(_ref),decorator=_ref2[0],args=_ref2.slice(1);var configurable=descriptor.configurable,enumerable=descriptor.enumerable,writable=descriptor.writable;var originalGet=descriptor.get;var originalSet=descriptor.set;var originalValue=descriptor.value;var isGetter=!!originalGet;return{configurable:configurable,enumerable:enumerable,get:function get(){var fn=isGetter?originalGet.call(this):originalValue;var value=decorator.call.apply(decorator,[this,fn].concat(_toConsumableArray(args)));if(isGetter){return value}else{var desc={configurable:configurable,enumerable:enumerable};desc.value=value;desc.writable=writable;defineProperty(this,key,desc);return value}},set:isGetter?originalSet:(0,_utils.createDefaultSetter)()}}function decorate(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return(0,_utils.decorate)(handleDescriptor,args)}},{"./private/utils":67}],58:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();exports.default=deprecate;var _utils=require("./private/utils");var DEFAULT_MSG="This function will be removed in future versions.";function handleDescriptor(target,key,descriptor,_ref){var _ref2=_slicedToArray(_ref,2),_ref2$=_ref2[0],msg=_ref2$===undefined?DEFAULT_MSG:_ref2$,_ref2$2=_ref2[1],options=_ref2$2===undefined?{}:_ref2$2;if(typeof descriptor.value!=="function"){throw new SyntaxError("Only functions can be marked as deprecated")}var methodSignature=target.constructor.name+"#"+key;if(options.url){msg+="\n\n    See "+options.url+" for more details.\n\n"}return _extends({},descriptor,{value:function deprecationWrapper(){(0,_utils.warn)("DEPRECATION "+methodSignature+": "+msg);return descriptor.value.apply(this,arguments)}})}function deprecate(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return(0,_utils.decorate)(handleDescriptor,args)}},{"./private/utils":67}],59:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=enumerable;var _utils=require("./private/utils");function handleDescriptor(target,key,descriptor){descriptor.enumerable=true;return descriptor}function enumerable(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return(0,_utils.decorate)(handleDescriptor,args)}},{"./private/utils":67}],60:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};exports.default=extendDescriptor;var _utils=require("./private/utils");var getPrototypeOf=Object.getPrototypeOf,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;function handleDescriptor(target,key,descriptor){var superKlass=getPrototypeOf(target);var superDesc=getOwnPropertyDescriptor(superKlass,key);return _extends({},superDesc,{value:descriptor.value,initializer:descriptor.initializer,get:descriptor.get||superDesc.get,set:descriptor.set||superDesc.set})}function extendDescriptor(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return(0,_utils.decorate)(handleDescriptor,args)}},{"./private/utils":67}],61:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=lazyInitialize;var _utils=require("./private/utils");var defineProperty=Object.defineProperty;function handleDescriptor(target,key,descriptor){var configurable=descriptor.configurable,enumerable=descriptor.enumerable,initializer=descriptor.initializer,value=descriptor.value;return{configurable:configurable,enumerable:enumerable,get:function get(){if(this===target){return}var ret=initializer?initializer.call(this):value;defineProperty(this,key,{configurable:configurable,enumerable:enumerable,writable:true,value:ret});return ret},set:(0,_utils.createDefaultSetter)(key)}}function lazyInitialize(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return(0,_utils.decorate)(handleDescriptor,args)}},{"./private/utils":67}],62:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};exports.default=memoize;var _utils=require("./private/utils");function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function toObject(cache,value){if(value===Object(value)){return value}return cache[value]||(cache[value]={})}function applyAndCache(context,fn,args,cache,signature){var ret=fn.apply(context,args);cache[signature]=ret;return ret}function metaForDescriptor(descriptor){var fn=void 0,wrapKey=void 0;if(descriptor.value){fn=descriptor.value;wrapKey="value"}else if(descriptor.get){fn=descriptor.get;wrapKey="get"}else if(descriptor.set){fn=descriptor.set;wrapKey="set"}return{fn:fn,wrapKey:wrapKey}}function handleDescriptor(target,key,descriptor){var _metaForDescriptor=metaForDescriptor(descriptor),fn=_metaForDescriptor.fn,wrapKey=_metaForDescriptor.wrapKey;var argumentCache=new WeakMap;var signatureCache=Object.create(null);var primativeRefCache=Object.create(null);var argumentIdCounter=0;return _extends({},descriptor,_defineProperty({},wrapKey,function memoizeWrapper(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}var signature="0";for(var i=0,l=args.length;i<l;i++){var arg=args[i];var argRef=toObject(primativeRefCache,arg);var argKey=argumentCache.get(argRef);if(argKey===undefined){argKey=++argumentIdCounter;argumentCache.set(argRef,argKey)}signature+=argKey}return signatureCache[signature]||applyAndCache(this,fn,arguments,signatureCache,signature)}))}function memoize(){(0,_utils.internalDeprecation)("@memoize is deprecated and will be removed shortly. Use @memoize from lodash-decorators.\n\n  https://www.npmjs.com/package/lodash-decorators");for(var _len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2]}return(0,_utils.decorate)(handleDescriptor,args)}},{"./private/utils":67}],63:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.default=mixin;var _utils=require("./private/utils");var defineProperty=Object.defineProperty,getPrototypeOf=Object.getPrototypeOf;function buggySymbol(symbol){return Object.prototype.toString.call(symbol)==="[object Symbol]"&&(typeof symbol==="undefined"?"undefined":_typeof(symbol))==="object"}function hasProperty(prop,obj){if(buggySymbol(prop)){do{if(obj===Object.prototype){return typeof obj[prop]!=="undefined"}if(obj.hasOwnProperty(prop)){return true}}while(obj=getPrototypeOf(obj));return false}else{return prop in obj}}function handleClass(target,mixins){if(!mixins.length){throw new SyntaxError("@mixin() class "+target.name+" requires at least one mixin as an argument")}for(var i=0,l=mixins.length;i<l;i++){var descs=(0,_utils.getOwnPropertyDescriptors)(mixins[i]);var keys=(0,_utils.getOwnKeys)(descs);for(var j=0,k=keys.length;j<k;j++){var key=keys[j];if(!hasProperty(key,target.prototype)){defineProperty(target.prototype,key,descs[key])}}}}function mixin(){for(var _len=arguments.length,mixins=Array(_len),_key=0;_key<_len;_key++){mixins[_key]=arguments[_key]}(0,_utils.internalDeprecation)("@mixin is deprecated and will be removed shortly. Use @mixin from lodash-decorators.\n\n  https://www.npmjs.com/package/lodash-decorators");if(typeof mixins[0]==="function"){return handleClass(mixins[0],[])}else{return function(target){return handleClass(target,mixins)}}}},{"./private/utils":67}],64:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=nonconfigurable;var _utils=require("./private/utils");function handleDescriptor(target,key,descriptor){descriptor.configurable=false;return descriptor}function nonconfigurable(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return(0,_utils.decorate)(handleDescriptor,args)}},{"./private/utils":67}],65:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=nonenumerable;var _utils=require("./private/utils");function handleDescriptor(target,key,descriptor){descriptor.enumerable=false;return descriptor}function nonenumerable(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return(0,_utils.decorate)(handleDescriptor,args)}},{"./private/utils":67}],66:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();exports.default=override;var _utils=require("./private/utils");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var GENERIC_FUNCTION_ERROR="{child} does not properly override {parent}";var FUNCTION_REGEXP=/^function ([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?(\([^\)]*\))[\s\S]+$/;var SyntaxErrorReporter=function(){_createClass(SyntaxErrorReporter,[{key:"_getTopic",value:function _getTopic(descriptor){if(descriptor===undefined){return null}if("value"in descriptor){return descriptor.value}if("get"in descriptor){return descriptor.get}if("set"in descriptor){return descriptor.set}}},{key:"_extractTopicSignature",value:function _extractTopicSignature(topic){switch(typeof topic==="undefined"?"undefined":_typeof(topic)){case"function":return this._extractFunctionSignature(topic);default:return this.key}}},{key:"_extractFunctionSignature",value:function _extractFunctionSignature(fn){var _this=this;return fn.toString().replace(FUNCTION_REGEXP,function(match){var name=arguments.length>1&&arguments[1]!==undefined?arguments[1]:_this.key;var params=arguments[2];return name+params})}},{key:"key",get:function get(){return this.childDescriptor.key}},{key:"parentNotation",get:function get(){return this.parentKlass.constructor.name+"#"+this.parentPropertySignature}},{key:"childNotation",get:function get(){return this.childKlass.constructor.name+"#"+this.childPropertySignature}},{key:"parentTopic",get:function get(){return this._getTopic(this.parentDescriptor)}},{key:"childTopic",get:function get(){return this._getTopic(this.childDescriptor)}},{key:"parentPropertySignature",get:function get(){return this._extractTopicSignature(this.parentTopic)}},{key:"childPropertySignature",get:function get(){return this._extractTopicSignature(this.childTopic)}}]);function SyntaxErrorReporter(parentKlass,childKlass,parentDescriptor,childDescriptor){_classCallCheck(this,SyntaxErrorReporter);this.parentKlass=parentKlass;this.childKlass=childKlass;this.parentDescriptor=parentDescriptor;this.childDescriptor=childDescriptor}_createClass(SyntaxErrorReporter,[{key:"assert",value:function assert(condition){var msg=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";if(condition!==true){this.error(GENERIC_FUNCTION_ERROR+msg)}}},{key:"error",value:function error(msg){var _this2=this;msg=msg.replace("{parent}",function(m){return _this2.parentNotation}).replace("{child}",function(m){return _this2.childNotation});throw new SyntaxError(msg)}}]);return SyntaxErrorReporter}();function getDescriptorType(descriptor){if(descriptor.hasOwnProperty("value")){return"data"}if(descriptor.hasOwnProperty("get")||descriptor.hasOwnProperty("set")){return"accessor"}return"data"}function checkFunctionSignatures(parent,child,reporter){reporter.assert(parent.length===child.length)}function checkDataDescriptors(parent,child,reporter){var parentValueType=_typeof(parent.value);var childValueType=_typeof(child.value);if(parentValueType==="undefined"&&childValueType==="undefined"){reporter.error("descriptor values are both undefined. (class properties are are not currently supported)'")}if(parentValueType!==childValueType){var isFunctionOverUndefined=childValueType==="function"&&parentValueType===undefined;if(isFunctionOverUndefined||parentValueType!==undefined){reporter.error('value types do not match. {parent} is "'+parentValueType+'", {child} is "'+childValueType+'"')}}switch(childValueType){case"function":checkFunctionSignatures(parent.value,child.value,reporter);break;default:reporter.error('Unexpected error. Please file a bug with: {parent} is "'+parentValueType+'", {child} is "'+childValueType+'"');break}}function checkAccessorDescriptors(parent,child,reporter){var parentHasGetter=typeof parent.get==="function";var childHasGetter=typeof child.get==="function";var parentHasSetter=typeof parent.set==="function";var childHasSetter=typeof child.set==="function";if(parentHasGetter||childHasGetter){if(!parentHasGetter&&parentHasSetter){reporter.error("{parent} is setter but {child} is getter")}if(!childHasGetter&&childHasSetter){reporter.error("{parent} is getter but {child} is setter")}checkFunctionSignatures(parent.get,child.get,reporter)}if(parentHasSetter||childHasSetter){if(!parentHasSetter&&parentHasGetter){reporter.error("{parent} is getter but {child} is setter")}if(!childHasSetter&&childHasGetter){reporter.error("{parent} is setter but {child} is getter")}checkFunctionSignatures(parent.set,child.set,reporter)}}function checkDescriptors(parent,child,reporter){var parentType=getDescriptorType(parent);var childType=getDescriptorType(child);if(parentType!==childType){reporter.error('descriptor types do not match. {parent} is "'+parentType+'", {child} is "'+childType+'"')}switch(childType){case"data":checkDataDescriptors(parent,child,reporter);break;case"accessor":checkAccessorDescriptors(parent,child,reporter);break}}var suggestionTransforms=[function(key){return key.toLowerCase()},function(key){return key.toUpperCase()},function(key){return key+"s"},function(key){return key.slice(0,-1)},function(key){return key.slice(1,key.length)}];function findPossibleAlternatives(superKlass,key){for(var i=0,l=suggestionTransforms.length;i<l;i++){var fn=suggestionTransforms[i];var suggestion=fn(key);if(suggestion in superKlass){return suggestion}}return null}function handleDescriptor(target,key,descriptor){descriptor.key=key;var superKlass=Object.getPrototypeOf(target);var superDescriptor=Object.getOwnPropertyDescriptor(superKlass,key);var reporter=new SyntaxErrorReporter(superKlass,target,superDescriptor,descriptor);if(superDescriptor===undefined){var suggestedKey=findPossibleAlternatives(superKlass,key);var suggestion=suggestedKey?'\n\n  Did you mean "'+suggestedKey+'"?':"";reporter.error("No descriptor matching {child} was found on the prototype chain."+suggestion)}checkDescriptors(superDescriptor,descriptor,reporter);return descriptor}function override(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return(0,_utils.decorate)(handleDescriptor,args)}},{"./private/utils":67}],67:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.warn=exports.getOwnKeys=undefined;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _desc,_value,_class,_descriptor,_descriptor2,_descriptor3,_descriptor4,_descriptor5;exports.isDescriptor=isDescriptor;exports.decorate=decorate;exports.metaFor=metaFor;exports.getOwnPropertyDescriptors=getOwnPropertyDescriptors;exports.createDefaultSetter=createDefaultSetter;exports.bind=bind;exports.internalDeprecation=internalDeprecation;var _lazyInitialize=require("../lazy-initialize");var _lazyInitialize2=_interopRequireDefault(_lazyInitialize);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _initDefineProp(target,property,descriptor,context){if(!descriptor)return;Object.defineProperty(target,property,{enumerable:descriptor.enumerable,configurable:descriptor.configurable,writable:descriptor.writable,value:descriptor.initializer?descriptor.initializer.call(context):void 0})}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};Object["ke"+"ys"](descriptor).forEach(function(key){desc[key]=descriptor[key]});desc.enumerable=!!desc.enumerable;desc.configurable=!!desc.configurable;if("value"in desc||desc.initializer){desc.writable=true}desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc);if(context&&desc.initializer!==void 0){desc.value=desc.initializer?desc.initializer.call(context):void 0;desc.initializer=undefined}if(desc.initializer===void 0){Object["define"+"Property"](target,property,desc);desc=null}return desc}function _initializerWarningHelper(descriptor,context){throw new Error("Decorating class property failed. Please ensure that transform-class-properties is enabled.")}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}var defineProperty=Object.defineProperty,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,getOwnPropertyNames=Object.getOwnPropertyNames,getOwnPropertySymbols=Object.getOwnPropertySymbols;function isDescriptor(desc){if(!desc||!desc.hasOwnProperty){return false}var keys=["value","initializer","get","set"];for(var i=0,l=keys.length;i<l;i++){if(desc.hasOwnProperty(keys[i])){return true}}return false}function decorate(handleDescriptor,entryArgs){if(isDescriptor(entryArgs[entryArgs.length-1])){return handleDescriptor.apply(undefined,_toConsumableArray(entryArgs).concat([[]]))}else{return function(){return handleDescriptor.apply(undefined,_toConsumableArray(Array.prototype.slice.call(arguments)).concat([entryArgs]))}}}var Meta=(_class=function Meta(){_classCallCheck(this,Meta);_initDefineProp(this,"debounceTimeoutIds",_descriptor,this);_initDefineProp(this,"throttleTimeoutIds",_descriptor2,this);_initDefineProp(this,"throttlePreviousTimestamps",_descriptor3,this);_initDefineProp(this,"throttleTrailingArgs",_descriptor4,this);_initDefineProp(this,"profileLastRan",_descriptor5,this)},_descriptor=_applyDecoratedDescriptor(_class.prototype,"debounceTimeoutIds",[_lazyInitialize2.default],{enumerable:true,initializer:function initializer(){return{}}}),_descriptor2=_applyDecoratedDescriptor(_class.prototype,"throttleTimeoutIds",[_lazyInitialize2.default],{enumerable:true,initializer:function initializer(){return{}}}),_descriptor3=_applyDecoratedDescriptor(_class.prototype,"throttlePreviousTimestamps",[_lazyInitialize2.default],{enumerable:true,initializer:function initializer(){return{}}}),_descriptor4=_applyDecoratedDescriptor(_class.prototype,"throttleTrailingArgs",[_lazyInitialize2.default],{enumerable:true,initializer:function initializer(){return null}}),_descriptor5=_applyDecoratedDescriptor(_class.prototype,"profileLastRan",[_lazyInitialize2.default],{enumerable:true,initializer:function initializer(){return null}}),_class);var META_KEY=typeof Symbol==="function"?Symbol("__core_decorators__"):"__core_decorators__";function metaFor(obj){if(obj.hasOwnProperty(META_KEY)===false){defineProperty(obj,META_KEY,{value:new Meta})}return obj[META_KEY]}var getOwnKeys=exports.getOwnKeys=getOwnPropertySymbols?function(object){return getOwnPropertyNames(object).concat(getOwnPropertySymbols(object))}:getOwnPropertyNames;function getOwnPropertyDescriptors(obj){var descs={};getOwnKeys(obj).forEach(function(key){return descs[key]=getOwnPropertyDescriptor(obj,key)});return descs}function createDefaultSetter(key){return function set(newValue){Object.defineProperty(this,key,{configurable:true,writable:true,enumerable:true,value:newValue});return newValue}}function bind(fn,context){if(fn.bind){return fn.bind(context)}else{return function __autobind__(){return fn.apply(context,arguments)}}}var warn=exports.warn=function(){if((typeof console==="undefined"?"undefined":_typeof(console))!=="object"||!console||typeof console.warn!=="function"){return function(){}}else{return bind(console.warn,console)}}();var seenDeprecations={};function internalDeprecation(msg){if(seenDeprecations[msg]!==true){seenDeprecations[msg]=true;warn("DEPRECATION: "+msg)}}},{"../lazy-initialize":61}],68:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.defaultConsole=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();exports.default=profile;var _utils=require("./private/utils");var oc=console;var defaultConsole=exports.defaultConsole={profile:console.profile?(0,_utils.bind)(console.profile,console):function(){},profileEnd:console.profileEnd?(0,_utils.bind)(console.profileEnd,console):function(){},warn:_utils.warn};function handleDescriptor(target,key,descriptor,_ref){var _ref2=_slicedToArray(_ref,3),_ref2$=_ref2[0],prefix=_ref2$===undefined?null:_ref2$,_ref2$2=_ref2[1],onceThrottleOrFunction=_ref2$2===undefined?false:_ref2$2,_ref2$3=_ref2[2],console=_ref2$3===undefined?defaultConsole:_ref2$3;if(!profile.__enabled){if(!profile.__warned){console.warn("console.profile is not supported. All @profile decorators are disabled.");profile.__warned=true}return descriptor}var fn=descriptor.value;if(prefix===null){prefix=target.constructor.name+"."+key}if(typeof fn!=="function"){throw new SyntaxError("@profile can only be used on functions, not: "+fn)}return _extends({},descriptor,{value:function value(){var now=Date.now();var meta=(0,_utils.metaFor)(this);if(onceThrottleOrFunction===true&&!meta.profileLastRan||onceThrottleOrFunction===false||typeof onceThrottleOrFunction==="number"&&now-meta.profileLastRan>onceThrottleOrFunction||typeof onceThrottleOrFunction==="function"&&onceThrottleOrFunction.apply(this,arguments)){console.profile(prefix);meta.profileLastRan=now}try{return fn.apply(this,arguments)}finally{console.profileEnd(prefix)}}})}function profile(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return(0,_utils.decorate)(handleDescriptor,args)}profile.__enabled=!!console.profile;profile.__warned=false},{"./private/utils":67}],69:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=readonly;var _utils=require("./private/utils");function handleDescriptor(target,key,descriptor){descriptor.writable=false;return descriptor}function readonly(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return(0,_utils.decorate)(handleDescriptor,args)}},{"./private/utils":67}],70:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.default=suppressWarnings;var _utils=require("./private/utils");function suppressedWarningNoop(){}function applyWithoutWarnings(context,fn,args){if((typeof console==="undefined"?"undefined":_typeof(console))==="object"){var nativeWarn=console.warn;console.warn=suppressedWarningNoop;var ret=fn.apply(context,args);console.warn=nativeWarn;return ret}else{return fn.apply(context,args)}}function handleDescriptor(target,key,descriptor){return _extends({},descriptor,{value:function suppressWarningsWrapper(){return applyWithoutWarnings(this,descriptor.value,arguments)}})}function suppressWarnings(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return(0,_utils.decorate)(handleDescriptor,args)}},{"./private/utils":67}],71:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();exports.default=throttle;var _utils=require("./private/utils");var DEFAULT_TIMEOUT=300;function handleDescriptor(target,key,descriptor,_ref){var _ref2=_slicedToArray(_ref,2),_ref2$=_ref2[0],wait=_ref2$===undefined?DEFAULT_TIMEOUT:_ref2$,_ref2$2=_ref2[1],options=_ref2$2===undefined?{}:_ref2$2;var callback=descriptor.value;if(typeof callback!=="function"){throw new SyntaxError("Only functions can be throttled")}if(options.leading!==false){options.leading=true}if(options.trailing!==false){options.trailing=true}return _extends({},descriptor,{value:function value(){var _this=this;var meta=(0,_utils.metaFor)(this);var throttleTimeoutIds=meta.throttleTimeoutIds,throttlePreviousTimestamps=meta.throttlePreviousTimestamps;var timeout=throttleTimeoutIds[key];var previous=throttlePreviousTimestamps[key]||0;var now=Date.now();if(options.trailing){meta.throttleTrailingArgs=arguments}if(!previous&&options.leading===false){previous=now}var remaining=wait-(now-previous);if(remaining<=0){clearTimeout(timeout);delete throttleTimeoutIds[key];throttlePreviousTimestamps[key]=now;callback.apply(this,arguments)}else if(!timeout&&options.trailing){throttleTimeoutIds[key]=setTimeout(function(){throttlePreviousTimestamps[key]=options.leading===false?0:Date.now();delete throttleTimeoutIds[key];callback.apply(_this,meta.throttleTrailingArgs);meta.throttleTrailingArgs=null},remaining)}}})}function throttle(){(0,_utils.internalDeprecation)("@throttle is deprecated and will be removed shortly. Use @throttle from lodash-decorators.\n\n  https://www.npmjs.com/package/lodash-decorators");for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return(0,_utils.decorate)(handleDescriptor,args)}},{"./private/utils":67}],72:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.defaultConsole=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"])_i["return"]()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr)){return arr}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();exports.default=time;var _utils=require("./private/utils");var labels={};var defaultConsole=exports.defaultConsole={time:console.time?console.time.bind(console):function(label){labels[label]=new Date},timeEnd:console.timeEnd?console.timeEnd.bind(console):function(label){var timeNow=new Date;var timeTaken=timeNow-labels[label];delete labels[label];console.log(label+": "+timeTaken+"ms")}};var count=0;function handleDescriptor(target,key,descriptor,_ref){var _ref2=_slicedToArray(_ref,2),_ref2$=_ref2[0],prefix=_ref2$===undefined?null:_ref2$,_ref2$2=_ref2[1],console=_ref2$2===undefined?defaultConsole:_ref2$2;var fn=descriptor.value;if(prefix===null){prefix=target.constructor.name+"."+key}if(typeof fn!=="function"){throw new SyntaxError("@time can only be used on functions, not: "+fn)}return _extends({},descriptor,{value:function value(){var label=prefix+"-"+count;count++;console.time(label);try{return fn.apply(this,arguments)}finally{console.timeEnd(label)}}})}function time(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return(0,_utils.decorate)(handleDescriptor,args)}},{"./private/utils":67}],73:[function(require,module,exports){require("../modules/es6.symbol");require("../modules/es6.object.create");require("../modules/es6.object.define-property");require("../modules/es6.object.define-properties");require("../modules/es6.object.get-own-property-descriptor");require("../modules/es6.object.get-prototype-of");require("../modules/es6.object.keys");require("../modules/es6.object.get-own-property-names");require("../modules/es6.object.freeze");require("../modules/es6.object.seal");require("../modules/es6.object.prevent-extensions");require("../modules/es6.object.is-frozen");require("../modules/es6.object.is-sealed");require("../modules/es6.object.is-extensible");require("../modules/es6.object.assign");require("../modules/es6.object.is");require("../modules/es6.object.set-prototype-of");require("../modules/es6.object.to-string");require("../modules/es6.function.bind");require("../modules/es6.function.name");require("../modules/es6.function.has-instance");require("../modules/es6.parse-int");require("../modules/es6.parse-float");require("../modules/es6.number.constructor");require("../modules/es6.number.to-fixed");require("../modules/es6.number.to-precision");require("../modules/es6.number.epsilon");require("../modules/es6.number.is-finite");require("../modules/es6.number.is-integer");require("../modules/es6.number.is-nan");require("../modules/es6.number.is-safe-integer");require("../modules/es6.number.max-safe-integer");require("../modules/es6.number.min-safe-integer");require("../modules/es6.number.parse-float");require("../modules/es6.number.parse-int");require("../modules/es6.math.acosh");require("../modules/es6.math.asinh");require("../modules/es6.math.atanh");require("../modules/es6.math.cbrt");require("../modules/es6.math.clz32");require("../modules/es6.math.cosh");require("../modules/es6.math.expm1");require("../modules/es6.math.fround");require("../modules/es6.math.hypot");require("../modules/es6.math.imul");require("../modules/es6.math.log10");require("../modules/es6.math.log1p");require("../modules/es6.math.log2");require("../modules/es6.math.sign");require("../modules/es6.math.sinh");require("../modules/es6.math.tanh");require("../modules/es6.math.trunc");require("../modules/es6.string.from-code-point");require("../modules/es6.string.raw");require("../modules/es6.string.trim");require("../modules/es6.string.iterator");require("../modules/es6.string.code-point-at");require("../modules/es6.string.ends-with");require("../modules/es6.string.includes");require("../modules/es6.string.repeat");require("../modules/es6.string.starts-with");require("../modules/es6.string.anchor");require("../modules/es6.string.big");require("../modules/es6.string.blink");require("../modules/es6.string.bold");require("../modules/es6.string.fixed");require("../modules/es6.string.fontcolor");require("../modules/es6.string.fontsize");require("../modules/es6.string.italics");require("../modules/es6.string.link");require("../modules/es6.string.small");require("../modules/es6.string.strike");require("../modules/es6.string.sub");require("../modules/es6.string.sup");require("../modules/es6.date.now");require("../modules/es6.date.to-json");require("../modules/es6.date.to-iso-string");require("../modules/es6.date.to-string");require("../modules/es6.date.to-primitive");require("../modules/es6.array.is-array");require("../modules/es6.array.from");require("../modules/es6.array.of");require("../modules/es6.array.join");require("../modules/es6.array.slice");require("../modules/es6.array.sort");require("../modules/es6.array.for-each");require("../modules/es6.array.map");require("../modules/es6.array.filter");require("../modules/es6.array.some");require("../modules/es6.array.every");require("../modules/es6.array.reduce");require("../modules/es6.array.reduce-right");require("../modules/es6.array.index-of");require("../modules/es6.array.last-index-of");require("../modules/es6.array.copy-within");require("../modules/es6.array.fill");require("../modules/es6.array.find");require("../modules/es6.array.find-index");require("../modules/es6.array.species");require("../modules/es6.array.iterator");require("../modules/es6.regexp.constructor");require("../modules/es6.regexp.exec");require("../modules/es6.regexp.to-string");require("../modules/es6.regexp.flags");require("../modules/es6.regexp.match");require("../modules/es6.regexp.replace");require("../modules/es6.regexp.search");require("../modules/es6.regexp.split");require("../modules/es6.promise");require("../modules/es6.map");require("../modules/es6.set");require("../modules/es6.weak-map");require("../modules/es6.weak-set");require("../modules/es6.typed.array-buffer");require("../modules/es6.typed.data-view");require("../modules/es6.typed.int8-array");require("../modules/es6.typed.uint8-array");require("../modules/es6.typed.uint8-clamped-array");require("../modules/es6.typed.int16-array");require("../modules/es6.typed.uint16-array");require("../modules/es6.typed.int32-array");require("../modules/es6.typed.uint32-array");require("../modules/es6.typed.float32-array");require("../modules/es6.typed.float64-array");require("../modules/es6.reflect.apply");require("../modules/es6.reflect.construct");require("../modules/es6.reflect.define-property");require("../modules/es6.reflect.delete-property");require("../modules/es6.reflect.enumerate");require("../modules/es6.reflect.get");require("../modules/es6.reflect.get-own-property-descriptor");require("../modules/es6.reflect.get-prototype-of");require("../modules/es6.reflect.has");require("../modules/es6.reflect.is-extensible");require("../modules/es6.reflect.own-keys");require("../modules/es6.reflect.prevent-extensions");require("../modules/es6.reflect.set");require("../modules/es6.reflect.set-prototype-of");module.exports=require("../modules/_core")},{"../modules/_core":122,"../modules/es6.array.copy-within":224,"../modules/es6.array.every":225,"../modules/es6.array.fill":226,"../modules/es6.array.filter":227,"../modules/es6.array.find":229,"../modules/es6.array.find-index":228,"../modules/es6.array.for-each":230,"../modules/es6.array.from":231,"../modules/es6.array.index-of":232,"../modules/es6.array.is-array":233,"../modules/es6.array.iterator":234,"../modules/es6.array.join":235,"../modules/es6.array.last-index-of":236,"../modules/es6.array.map":237,"../modules/es6.array.of":238,"../modules/es6.array.reduce":240,"../modules/es6.array.reduce-right":239,"../modules/es6.array.slice":241,"../modules/es6.array.some":242,"../modules/es6.array.sort":243,"../modules/es6.array.species":244,"../modules/es6.date.now":245,"../modules/es6.date.to-iso-string":246,"../modules/es6.date.to-json":247,"../modules/es6.date.to-primitive":248,"../modules/es6.date.to-string":249,"../modules/es6.function.bind":250,"../modules/es6.function.has-instance":251,"../modules/es6.function.name":252,"../modules/es6.map":253,"../modules/es6.math.acosh":254,"../modules/es6.math.asinh":255,"../modules/es6.math.atanh":256,"../modules/es6.math.cbrt":257,"../modules/es6.math.clz32":258,"../modules/es6.math.cosh":259,"../modules/es6.math.expm1":260,"../modules/es6.math.fround":261,"../modules/es6.math.hypot":262,"../modules/es6.math.imul":263,"../modules/es6.math.log10":264,"../modules/es6.math.log1p":265,"../modules/es6.math.log2":266,"../modules/es6.math.sign":267,"../modules/es6.math.sinh":268,"../modules/es6.math.tanh":269,"../modules/es6.math.trunc":270,"../modules/es6.number.constructor":271,"../modules/es6.number.epsilon":272,"../modules/es6.number.is-finite":273,"../modules/es6.number.is-integer":274,"../modules/es6.number.is-nan":275,"../modules/es6.number.is-safe-integer":276,"../modules/es6.number.max-safe-integer":277,"../modules/es6.number.min-safe-integer":278,"../modules/es6.number.parse-float":279,"../modules/es6.number.parse-int":280,"../modules/es6.number.to-fixed":281,"../modules/es6.number.to-precision":282,"../modules/es6.object.assign":283,"../modules/es6.object.create":284,"../modules/es6.object.define-properties":285,"../modules/es6.object.define-property":286,"../modules/es6.object.freeze":287,"../modules/es6.object.get-own-property-descriptor":288,"../modules/es6.object.get-own-property-names":289,"../modules/es6.object.get-prototype-of":290,"../modules/es6.object.is":294,"../modules/es6.object.is-extensible":291,"../modules/es6.object.is-frozen":292,"../modules/es6.object.is-sealed":293,"../modules/es6.object.keys":295,"../modules/es6.object.prevent-extensions":296,"../modules/es6.object.seal":297,"../modules/es6.object.set-prototype-of":298,"../modules/es6.object.to-string":299,"../modules/es6.parse-float":300,"../modules/es6.parse-int":301,"../modules/es6.promise":302,"../modules/es6.reflect.apply":303,"../modules/es6.reflect.construct":304,"../modules/es6.reflect.define-property":305,"../modules/es6.reflect.delete-property":306,"../modules/es6.reflect.enumerate":307,"../modules/es6.reflect.get":310,"../modules/es6.reflect.get-own-property-descriptor":308,"../modules/es6.reflect.get-prototype-of":309,"../modules/es6.reflect.has":311,"../modules/es6.reflect.is-extensible":312,"../modules/es6.reflect.own-keys":313,"../modules/es6.reflect.prevent-extensions":314,"../modules/es6.reflect.set":316,"../modules/es6.reflect.set-prototype-of":315,"../modules/es6.regexp.constructor":317,"../modules/es6.regexp.exec":318,"../modules/es6.regexp.flags":319,"../modules/es6.regexp.match":320,"../modules/es6.regexp.replace":321,"../modules/es6.regexp.search":322,"../modules/es6.regexp.split":323,"../modules/es6.regexp.to-string":324,"../modules/es6.set":325,"../modules/es6.string.anchor":326,"../modules/es6.string.big":327,"../modules/es6.string.blink":328,"../modules/es6.string.bold":329,"../modules/es6.string.code-point-at":330,"../modules/es6.string.ends-with":331,"../modules/es6.string.fixed":332,"../modules/es6.string.fontcolor":333,"../modules/es6.string.fontsize":334,"../modules/es6.string.from-code-point":335,"../modules/es6.string.includes":336,"../modules/es6.string.italics":337,"../modules/es6.string.iterator":338,"../modules/es6.string.link":339,"../modules/es6.string.raw":340,"../modules/es6.string.repeat":341,"../modules/es6.string.small":342,"../modules/es6.string.starts-with":343,"../modules/es6.string.strike":344,"../modules/es6.string.sub":345,"../modules/es6.string.sup":346,"../modules/es6.string.trim":347,"../modules/es6.symbol":348,"../modules/es6.typed.array-buffer":349,"../modules/es6.typed.data-view":350,"../modules/es6.typed.float32-array":351,"../modules/es6.typed.float64-array":352,"../modules/es6.typed.int16-array":353,"../modules/es6.typed.int32-array":354,"../modules/es6.typed.int8-array":355,"../modules/es6.typed.uint16-array":356,"../modules/es6.typed.uint32-array":357,"../modules/es6.typed.uint8-array":358,"../modules/es6.typed.uint8-clamped-array":359,"../modules/es6.weak-map":360,"../modules/es6.weak-set":361}],74:[function(require,module,exports){require("../../modules/es7.array.flat-map");module.exports=require("../../modules/_core").Array.flatMap},{"../../modules/_core":122,"../../modules/es7.array.flat-map":362}],75:[function(require,module,exports){require("../../modules/es7.array.includes");module.exports=require("../../modules/_core").Array.includes},{"../../modules/_core":122,"../../modules/es7.array.includes":363}],76:[function(require,module,exports){require("../../modules/es7.object.entries");module.exports=require("../../modules/_core").Object.entries},{"../../modules/_core":122,"../../modules/es7.object.entries":364}],77:[function(require,module,exports){require("../../modules/es7.object.get-own-property-descriptors");module.exports=require("../../modules/_core").Object.getOwnPropertyDescriptors},{"../../modules/_core":122,"../../modules/es7.object.get-own-property-descriptors":365}],78:[function(require,module,exports){require("../../modules/es7.object.values");module.exports=require("../../modules/_core").Object.values},{"../../modules/_core":122,"../../modules/es7.object.values":366}],79:[function(require,module,exports){"use strict";require("../../modules/es6.promise");require("../../modules/es7.promise.finally");module.exports=require("../../modules/_core").Promise["finally"]},{"../../modules/_core":122,"../../modules/es6.promise":302,"../../modules/es7.promise.finally":367}],80:[function(require,module,exports){require("../../modules/es7.string.pad-end");module.exports=require("../../modules/_core").String.padEnd},{"../../modules/_core":122,"../../modules/es7.string.pad-end":368}],81:[function(require,module,exports){require("../../modules/es7.string.pad-start");module.exports=require("../../modules/_core").String.padStart},{"../../modules/_core":122,"../../modules/es7.string.pad-start":369}],82:[function(require,module,exports){require("../../modules/es7.string.trim-right");module.exports=require("../../modules/_core").String.trimRight},{"../../modules/_core":122,"../../modules/es7.string.trim-right":371}],83:[function(require,module,exports){require("../../modules/es7.string.trim-left");module.exports=require("../../modules/_core").String.trimLeft},{"../../modules/_core":122,"../../modules/es7.string.trim-left":370}],84:[function(require,module,exports){require("../../modules/es7.symbol.async-iterator");module.exports=require("../../modules/_wks-ext").f("asyncIterator")},{"../../modules/_wks-ext":221,"../../modules/es7.symbol.async-iterator":372}],85:[function(require,module,exports){require("../modules/es7.global");module.exports=require("../modules/_core").global},{"../modules/_core":88,"../modules/es7.global":102}],86:[function(require,module,exports){module.exports=function(it){if(typeof it!="function")throw TypeError(it+" is not a function!");return it}},{}],87:[function(require,module,exports){var isObject=require("./_is-object");module.exports=function(it){if(!isObject(it))throw TypeError(it+" is not an object!");return it}},{"./_is-object":98}],88:[function(require,module,exports){var core=module.exports={version:"2.6.9"};if(typeof __e=="number")__e=core},{}],89:[function(require,module,exports){var aFunction=require("./_a-function");module.exports=function(fn,that,length){aFunction(fn);if(that===undefined)return fn;switch(length){case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}}},{"./_a-function":86}],90:[function(require,module,exports){module.exports=!require("./_fails")(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},{"./_fails":93}],91:[function(require,module,exports){var isObject=require("./_is-object");var document=require("./_global").document;var is=isObject(document)&&isObject(document.createElement);module.exports=function(it){return is?document.createElement(it):{}}},{"./_global":94,"./_is-object":98}],92:[function(require,module,exports){var global=require("./_global");var core=require("./_core");var ctx=require("./_ctx");var hide=require("./_hide");var has=require("./_has");var PROTOTYPE="prototype";var $export=function(type,name,source){var IS_FORCED=type&$export.F;var IS_GLOBAL=type&$export.G;var IS_STATIC=type&$export.S;var IS_PROTO=type&$export.P;var IS_BIND=type&$export.B;var IS_WRAP=type&$export.W;var exports=IS_GLOBAL?core:core[name]||(core[name]={});var expProto=exports[PROTOTYPE];var target=IS_GLOBAL?global:IS_STATIC?global[name]:(global[name]||{})[PROTOTYPE];var key,own,out;if(IS_GLOBAL)source=name;for(key in source){own=!IS_FORCED&&target&&target[key]!==undefined;if(own&&has(exports,key))continue;out=own?target[key]:source[key];exports[key]=IS_GLOBAL&&typeof target[key]!="function"?source[key]:IS_BIND&&own?ctx(out,global):IS_WRAP&&target[key]==out?function(C){var F=function(a,b,c){if(this instanceof C){switch(arguments.length){case 0:return new C;case 1:return new C(a);case 2:return new C(a,b)}return new C(a,b,c)}return C.apply(this,arguments)};F[PROTOTYPE]=C[PROTOTYPE];return F}(out):IS_PROTO&&typeof out=="function"?ctx(Function.call,out):out;if(IS_PROTO){(exports.virtual||(exports.virtual={}))[key]=out;if(type&$export.R&&expProto&&!expProto[key])hide(expProto,key,out)}}};$export.F=1;$export.G=2;$export.S=4;$export.P=8;$export.B=16;$export.W=32;$export.U=64;$export.R=128;module.exports=$export},{"./_core":88,"./_ctx":89,"./_global":94,"./_has":95,"./_hide":96}],93:[function(require,module,exports){module.exports=function(exec){try{return!!exec()}catch(e){return true}}},{}],94:[function(require,module,exports){var global=module.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();if(typeof __g=="number")__g=global},{}],95:[function(require,module,exports){var hasOwnProperty={}.hasOwnProperty;module.exports=function(it,key){return hasOwnProperty.call(it,key)}},{}],96:[function(require,module,exports){var dP=require("./_object-dp");var createDesc=require("./_property-desc");module.exports=require("./_descriptors")?function(object,key,value){return dP.f(object,key,createDesc(1,value))}:function(object,key,value){object[key]=value;return object}},{"./_descriptors":90,"./_object-dp":99,"./_property-desc":100}],97:[function(require,module,exports){module.exports=!require("./_descriptors")&&!require("./_fails")(function(){return Object.defineProperty(require("./_dom-create")("div"),"a",{get:function(){return 7}}).a!=7})},{"./_descriptors":90,"./_dom-create":91,"./_fails":93}],98:[function(require,module,exports){module.exports=function(it){return typeof it==="object"?it!==null:typeof it==="function"}},{}],99:[function(require,module,exports){var anObject=require("./_an-object");var IE8_DOM_DEFINE=require("./_ie8-dom-define");var toPrimitive=require("./_to-primitive");var dP=Object.defineProperty;exports.f=require("./_descriptors")?Object.defineProperty:function defineProperty(O,P,Attributes){anObject(O);P=toPrimitive(P,true);anObject(Attributes);if(IE8_DOM_DEFINE)try{return dP(O,P,Attributes)}catch(e){}if("get"in Attributes||"set"in Attributes)throw TypeError("Accessors not supported!");if("value"in Attributes)O[P]=Attributes.value;return O}},{"./_an-object":87,"./_descriptors":90,"./_ie8-dom-define":97,"./_to-primitive":101}],100:[function(require,module,exports){module.exports=function(bitmap,value){return{enumerable:!(bitmap&1),configurable:!(bitmap&2),writable:!(bitmap&4),value:value}}},{}],101:[function(require,module,exports){var isObject=require("./_is-object");module.exports=function(it,S){if(!isObject(it))return it;var fn,val;if(S&&typeof(fn=it.toString)=="function"&&!isObject(val=fn.call(it)))return val;if(typeof(fn=it.valueOf)=="function"&&!isObject(val=fn.call(it)))return val;if(!S&&typeof(fn=it.toString)=="function"&&!isObject(val=fn.call(it)))return val;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":98}],102:[function(require,module,exports){var $export=require("./_export");$export($export.G,{global:require("./_global")})},{"./_export":92,"./_global":94}],103:[function(require,module,exports){arguments[4][86][0].apply(exports,arguments)},{dup:86}],104:[function(require,module,exports){var cof=require("./_cof");module.exports=function(it,msg){if(typeof it!="number"&&cof(it)!="Number")throw TypeError(msg);return+it}},{"./_cof":118}],105:[function(require,module,exports){var UNSCOPABLES=require("./_wks")("unscopables");var ArrayProto=Array.prototype;if(ArrayProto[UNSCOPABLES]==undefined)require("./_hide")(ArrayProto,UNSCOPABLES,{});module.exports=function(key){ArrayProto[UNSCOPABLES][key]=true}},{"./_hide":142,"./_wks":222}],106:[function(require,module,exports){"use strict";var at=require("./_string-at")(true);module.exports=function(S,index,unicode){return index+(unicode?at(S,index).length:1)}},{"./_string-at":199}],107:[function(require,module,exports){module.exports=function(it,Constructor,name,forbiddenField){if(!(it instanceof Constructor)||forbiddenField!==undefined&&forbiddenField in it){throw TypeError(name+": incorrect invocation!")}return it}},{}],108:[function(require,module,exports){arguments[4][87][0].apply(exports,arguments)},{"./_is-object":151,dup:87}],109:[function(require,module,exports){"use strict";var toObject=require("./_to-object");var toAbsoluteIndex=require("./_to-absolute-index");var toLength=require("./_to-length");module.exports=[].copyWithin||function copyWithin(target,start){var O=toObject(this);var len=toLength(O.length);var to=toAbsoluteIndex(target,len);var from=toAbsoluteIndex(start,len);var end=arguments.length>2?arguments[2]:undefined;var count=Math.min((end===undefined?len:toAbsoluteIndex(end,len))-from,len-to);var inc=1;if(from<to&&to<from+count){inc=-1;from+=count-1;to+=count-1}while(count-- >0){if(from in O)O[to]=O[from];else delete O[to];to+=inc;from+=inc}return O}},{"./_to-absolute-index":207,"./_to-length":211,"./_to-object":212}],110:[function(require,module,exports){"use strict";var toObject=require("./_to-object");var toAbsoluteIndex=require("./_to-absolute-index");var toLength=require("./_to-length");module.exports=function fill(value){var O=toObject(this);var length=toLength(O.length);var aLen=arguments.length;var index=toAbsoluteIndex(aLen>1?arguments[1]:undefined,length);var end=aLen>2?arguments[2]:undefined;var endPos=end===undefined?length:toAbsoluteIndex(end,length);while(endPos>index)O[index++]=value;return O}},{"./_to-absolute-index":207,"./_to-length":211,"./_to-object":212}],111:[function(require,module,exports){var toIObject=require("./_to-iobject");var toLength=require("./_to-length");var toAbsoluteIndex=require("./_to-absolute-index");module.exports=function(IS_INCLUDES){return function($this,el,fromIndex){var O=toIObject($this);var length=toLength(O.length);var index=toAbsoluteIndex(fromIndex,length);var value;if(IS_INCLUDES&&el!=el)while(length>index){value=O[index++];if(value!=value)return true}else for(;length>index;index++)if(IS_INCLUDES||index in O){if(O[index]===el)return IS_INCLUDES||index||0}return!IS_INCLUDES&&-1}}},{"./_to-absolute-index":207,"./_to-iobject":210,"./_to-length":211}],112:[function(require,module,exports){var ctx=require("./_ctx");var IObject=require("./_iobject");var toObject=require("./_to-object");var toLength=require("./_to-length");var asc=require("./_array-species-create");module.exports=function(TYPE,$create){var IS_MAP=TYPE==1;var IS_FILTER=TYPE==2;var IS_SOME=TYPE==3;var IS_EVERY=TYPE==4;var IS_FIND_INDEX=TYPE==6;var NO_HOLES=TYPE==5||IS_FIND_INDEX;var create=$create||asc;return function($this,callbackfn,that){var O=toObject($this);var self=IObject(O);var f=ctx(callbackfn,that,3);var length=toLength(self.length);var index=0;var result=IS_MAP?create($this,length):IS_FILTER?create($this,0):undefined;var val,res;for(;length>index;index++)if(NO_HOLES||index in self){val=self[index];res=f(val,index,O);if(TYPE){if(IS_MAP)result[index]=res;else if(res)switch(TYPE){case 3:return true;case 5:return val;case 6:return index;case 2:result.push(val)}else if(IS_EVERY)return false}}return IS_FIND_INDEX?-1:IS_SOME||IS_EVERY?IS_EVERY:result}}},{"./_array-species-create":115,"./_ctx":124,"./_iobject":147,"./_to-length":211,"./_to-object":212}],113:[function(require,module,exports){var aFunction=require("./_a-function");var toObject=require("./_to-object");var IObject=require("./_iobject");var toLength=require("./_to-length");module.exports=function(that,callbackfn,aLen,memo,isRight){aFunction(callbackfn);var O=toObject(that);var self=IObject(O);var length=toLength(O.length);var index=isRight?length-1:0;var i=isRight?-1:1;if(aLen<2)for(;;){if(index in self){memo=self[index];index+=i;break}index+=i;if(isRight?index<0:length<=index){throw TypeError("Reduce of empty array with no initial value")}}for(;isRight?index>=0:length>index;index+=i)if(index in self){memo=callbackfn(memo,self[index],index,O)}return memo}},{"./_a-function":103,"./_iobject":147,"./_to-length":211,"./_to-object":212}],114:[function(require,module,exports){var isObject=require("./_is-object");var isArray=require("./_is-array");var SPECIES=require("./_wks")("species");module.exports=function(original){var C;if(isArray(original)){C=original.constructor;if(typeof C=="function"&&(C===Array||isArray(C.prototype)))C=undefined;if(isObject(C)){C=C[SPECIES];if(C===null)C=undefined}}return C===undefined?Array:C}},{"./_is-array":149,"./_is-object":151,"./_wks":222}],115:[function(require,module,exports){var speciesConstructor=require("./_array-species-constructor");module.exports=function(original,length){return new(speciesConstructor(original))(length)}},{"./_array-species-constructor":114}],116:[function(require,module,exports){"use strict";var aFunction=require("./_a-function");var isObject=require("./_is-object");var invoke=require("./_invoke");var arraySlice=[].slice;var factories={};var construct=function(F,len,args){if(!(len in factories)){for(var n=[],i=0;i<len;i++)n[i]="a["+i+"]";factories[len]=Function("F,a","return new F("+n.join(",")+")")}return factories[len](F,args)};module.exports=Function.bind||function bind(that){var fn=aFunction(this);var partArgs=arraySlice.call(arguments,1);var bound=function(){var args=partArgs.concat(arraySlice.call(arguments));return this instanceof bound?construct(fn,args.length,args):invoke(fn,args,that)};if(isObject(fn.prototype))bound.prototype=fn.prototype;return bound}},{"./_a-function":103,"./_invoke":146,"./_is-object":151}],117:[function(require,module,exports){var cof=require("./_cof");var TAG=require("./_wks")("toStringTag");var ARG=cof(function(){return arguments}())=="Arguments";var tryGet=function(it,key){try{return it[key]}catch(e){}};module.exports=function(it){var O,T,B;return it===undefined?"Undefined":it===null?"Null":typeof(T=tryGet(O=Object(it),TAG))=="string"?T:ARG?cof(O):(B=cof(O))=="Object"&&typeof O.callee=="function"?"Arguments":B}},{"./_cof":118,"./_wks":222}],118:[function(require,module,exports){var toString={}.toString;module.exports=function(it){return toString.call(it).slice(8,-1)}},{}],119:[function(require,module,exports){"use strict";var dP=require("./_object-dp").f;var create=require("./_object-create");var redefineAll=require("./_redefine-all");var ctx=require("./_ctx");var anInstance=require("./_an-instance");var forOf=require("./_for-of");var $iterDefine=require("./_iter-define");var step=require("./_iter-step");var setSpecies=require("./_set-species");var DESCRIPTORS=require("./_descriptors");var fastKey=require("./_meta").fastKey;var validate=require("./_validate-collection");var SIZE=DESCRIPTORS?"_s":"size";var getEntry=function(that,key){var index=fastKey(key);var entry;if(index!=="F")return that._i[index];for(entry=that._f;entry;entry=entry.n){if(entry.k==key)return entry}};module.exports={getConstructor:function(wrapper,NAME,IS_MAP,ADDER){var C=wrapper(function(that,iterable){anInstance(that,C,NAME,"_i");that._t=NAME;that._i=create(null);that._f=undefined;that._l=undefined;that[SIZE]=0;if(iterable!=undefined)forOf(iterable,IS_MAP,that[ADDER],that)});redefineAll(C.prototype,{clear:function clear(){for(var that=validate(this,NAME),data=that._i,entry=that._f;entry;entry=entry.n){entry.r=true;if(entry.p)entry.p=entry.p.n=undefined;delete data[entry.i]}that._f=that._l=undefined;that[SIZE]=0},delete:function(key){var that=validate(this,NAME);var entry=getEntry(that,key);if(entry){var next=entry.n;var prev=entry.p;delete that._i[entry.i];entry.r=true;if(prev)prev.n=next;if(next)next.p=prev;if(that._f==entry)that._f=next;if(that._l==entry)that._l=prev;that[SIZE]--}return!!entry},forEach:function forEach(callbackfn){validate(this,NAME);var f=ctx(callbackfn,arguments.length>1?arguments[1]:undefined,3);var entry;while(entry=entry?entry.n:this._f){f(entry.v,entry.k,this);while(entry&&entry.r)entry=entry.p}},has:function has(key){return!!getEntry(validate(this,NAME),key)}});if(DESCRIPTORS)dP(C.prototype,"size",{get:function(){return validate(this,NAME)[SIZE]}});return C},def:function(that,key,value){var entry=getEntry(that,key);var prev,index;if(entry){entry.v=value}else{that._l=entry={i:index=fastKey(key,true),k:key,v:value,p:prev=that._l,n:undefined,r:false};if(!that._f)that._f=entry;if(prev)prev.n=entry;that[SIZE]++;if(index!=="F")that._i[index]=entry}return that},getEntry:getEntry,setStrong:function(C,NAME,IS_MAP){$iterDefine(C,NAME,function(iterated,kind){this._t=validate(iterated,NAME);this._k=kind;this._l=undefined},function(){var that=this;var kind=that._k;var entry=that._l;while(entry&&entry.r)entry=entry.p;if(!that._t||!(that._l=entry=entry?entry.n:that._t._f)){that._t=undefined;return step(1)}if(kind=="keys")return step(0,entry.k);if(kind=="values")return step(0,entry.v);return step(0,[entry.k,entry.v])},IS_MAP?"entries":"values",!IS_MAP,true);setSpecies(NAME)}}},{"./_an-instance":107,"./_ctx":124,"./_descriptors":128,"./_for-of":138,"./_iter-define":155,"./_iter-step":157,"./_meta":164,"./_object-create":168,"./_object-dp":169,"./_redefine-all":187,"./_set-species":193,"./_validate-collection":219}],120:[function(require,module,exports){"use strict";var redefineAll=require("./_redefine-all");var getWeak=require("./_meta").getWeak;var anObject=require("./_an-object");var isObject=require("./_is-object");var anInstance=require("./_an-instance");var forOf=require("./_for-of");var createArrayMethod=require("./_array-methods");var $has=require("./_has");var validate=require("./_validate-collection");var arrayFind=createArrayMethod(5);var arrayFindIndex=createArrayMethod(6);var id=0;var uncaughtFrozenStore=function(that){return that._l||(that._l=new UncaughtFrozenStore)};var UncaughtFrozenStore=function(){this.a=[]};var findUncaughtFrozen=function(store,key){return arrayFind(store.a,function(it){return it[0]===key})};UncaughtFrozenStore.prototype={get:function(key){var entry=findUncaughtFrozen(this,key);if(entry)return entry[1]},has:function(key){return!!findUncaughtFrozen(this,key)},set:function(key,value){var entry=findUncaughtFrozen(this,key);if(entry)entry[1]=value;else this.a.push([key,value])},delete:function(key){var index=arrayFindIndex(this.a,function(it){return it[0]===key});if(~index)this.a.splice(index,1);return!!~index}};module.exports={getConstructor:function(wrapper,NAME,IS_MAP,ADDER){var C=wrapper(function(that,iterable){anInstance(that,C,NAME,"_i");that._t=NAME;that._i=id++;that._l=undefined;if(iterable!=undefined)forOf(iterable,IS_MAP,that[ADDER],that)});redefineAll(C.prototype,{delete:function(key){if(!isObject(key))return false;var data=getWeak(key);if(data===true)return uncaughtFrozenStore(validate(this,NAME))["delete"](key);return data&&$has(data,this._i)&&delete data[this._i]},has:function has(key){if(!isObject(key))return false;var data=getWeak(key);if(data===true)return uncaughtFrozenStore(validate(this,NAME)).has(key);return data&&$has(data,this._i)}});return C},def:function(that,key,value){var data=getWeak(anObject(key),true);if(data===true)uncaughtFrozenStore(that).set(key,value);else data[that._i]=value;return that},ufstore:uncaughtFrozenStore}},{"./_an-instance":107,"./_an-object":108,"./_array-methods":112,"./_for-of":138,"./_has":141,"./_is-object":151,"./_meta":164,"./_redefine-all":187,"./_validate-collection":219}],121:[function(require,module,exports){"use strict";var global=require("./_global");var $export=require("./_export");var redefine=require("./_redefine");var redefineAll=require("./_redefine-all");var meta=require("./_meta");var forOf=require("./_for-of");var anInstance=require("./_an-instance");var isObject=require("./_is-object");var fails=require("./_fails");var $iterDetect=require("./_iter-detect");var setToStringTag=require("./_set-to-string-tag");var inheritIfRequired=require("./_inherit-if-required");module.exports=function(NAME,wrapper,methods,common,IS_MAP,IS_WEAK){var Base=global[NAME];var C=Base;var ADDER=IS_MAP?"set":"add";var proto=C&&C.prototype;var O={};var fixMethod=function(KEY){var fn=proto[KEY];redefine(proto,KEY,KEY=="delete"?function(a){return IS_WEAK&&!isObject(a)?false:fn.call(this,a===0?0:a)}:KEY=="has"?function has(a){return IS_WEAK&&!isObject(a)?false:fn.call(this,a===0?0:a)}:KEY=="get"?function get(a){return IS_WEAK&&!isObject(a)?undefined:fn.call(this,a===0?0:a)}:KEY=="add"?function add(a){fn.call(this,a===0?0:a);return this}:function set(a,b){fn.call(this,a===0?0:a,b);return this})};if(typeof C!="function"||!(IS_WEAK||proto.forEach&&!fails(function(){(new C).entries().next()}))){C=common.getConstructor(wrapper,NAME,IS_MAP,ADDER);redefineAll(C.prototype,methods);meta.NEED=true}else{var instance=new C;var HASNT_CHAINING=instance[ADDER](IS_WEAK?{}:-0,1)!=instance;var THROWS_ON_PRIMITIVES=fails(function(){instance.has(1)});var ACCEPT_ITERABLES=$iterDetect(function(iter){new C(iter)});var BUGGY_ZERO=!IS_WEAK&&fails(function(){var $instance=new C;var index=5;while(index--)$instance[ADDER](index,index);return!$instance.has(-0)});if(!ACCEPT_ITERABLES){C=wrapper(function(target,iterable){anInstance(target,C,NAME);var that=inheritIfRequired(new Base,target,C);if(iterable!=undefined)forOf(iterable,IS_MAP,that[ADDER],that);return that});C.prototype=proto;proto.constructor=C}if(THROWS_ON_PRIMITIVES||BUGGY_ZERO){fixMethod("delete");fixMethod("has");IS_MAP&&fixMethod("get")}if(BUGGY_ZERO||HASNT_CHAINING)fixMethod(ADDER);if(IS_WEAK&&proto.clear)delete proto.clear}setToStringTag(C,NAME);O[NAME]=C;$export($export.G+$export.W+$export.F*(C!=Base),O);if(!IS_WEAK)common.setStrong(C,NAME,IS_MAP);return C}},{"./_an-instance":107,"./_export":132,"./_fails":134,"./_for-of":138,"./_global":140,"./_inherit-if-required":145,"./_is-object":151,"./_iter-detect":156,"./_meta":164,"./_redefine":188,"./_redefine-all":187,"./_set-to-string-tag":194}],122:[function(require,module,exports){arguments[4][88][0].apply(exports,arguments)},{dup:88}],123:[function(require,module,exports){"use strict";var $defineProperty=require("./_object-dp");var createDesc=require("./_property-desc");module.exports=function(object,index,value){if(index in object)$defineProperty.f(object,index,createDesc(0,value));else object[index]=value}},{"./_object-dp":169,"./_property-desc":186}],124:[function(require,module,exports){arguments[4][89][0].apply(exports,arguments)},{"./_a-function":103,dup:89}],125:[function(require,module,exports){"use strict";var fails=require("./_fails");var getTime=Date.prototype.getTime;var $toISOString=Date.prototype.toISOString;var lz=function(num){return num>9?num:"0"+num};module.exports=fails(function(){return $toISOString.call(new Date(-5e13-1))!="0385-07-25T07:06:39.999Z"})||!fails(function(){$toISOString.call(new Date(NaN))})?function toISOString(){if(!isFinite(getTime.call(this)))throw RangeError("Invalid time value");var d=this;var y=d.getUTCFullYear();var m=d.getUTCMilliseconds();var s=y<0?"-":y>9999?"+":"";return s+("00000"+Math.abs(y)).slice(s?-6:-4)+"-"+lz(d.getUTCMonth()+1)+"-"+lz(d.getUTCDate())+"T"+lz(d.getUTCHours())+":"+lz(d.getUTCMinutes())+":"+lz(d.getUTCSeconds())+"."+(m>99?m:"0"+lz(m))+"Z"}:$toISOString},{"./_fails":134}],126:[function(require,module,exports){"use strict";var anObject=require("./_an-object");var toPrimitive=require("./_to-primitive");var NUMBER="number";module.exports=function(hint){if(hint!=="string"&&hint!==NUMBER&&hint!=="default")throw TypeError("Incorrect hint");return toPrimitive(anObject(this),hint!=NUMBER)}},{"./_an-object":108,"./_to-primitive":213}],127:[function(require,module,exports){module.exports=function(it){if(it==undefined)throw TypeError("Can't call method on  "+it);return it}},{}],128:[function(require,module,exports){arguments[4][90][0].apply(exports,arguments)},{"./_fails":134,dup:90}],129:[function(require,module,exports){arguments[4][91][0].apply(exports,arguments)},{"./_global":140,"./_is-object":151,dup:91}],130:[function(require,module,exports){module.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],131:[function(require,module,exports){var getKeys=require("./_object-keys");var gOPS=require("./_object-gops");var pIE=require("./_object-pie");module.exports=function(it){var result=getKeys(it);var getSymbols=gOPS.f;if(getSymbols){var symbols=getSymbols(it);var isEnum=pIE.f;var i=0;var key;while(symbols.length>i)if(isEnum.call(it,key=symbols[i++]))result.push(key)}return result}},{"./_object-gops":174,"./_object-keys":177,"./_object-pie":178}],132:[function(require,module,exports){var global=require("./_global");var core=require("./_core");var hide=require("./_hide");var redefine=require("./_redefine");var ctx=require("./_ctx");var PROTOTYPE="prototype";var $export=function(type,name,source){var IS_FORCED=type&$export.F;var IS_GLOBAL=type&$export.G;var IS_STATIC=type&$export.S;var IS_PROTO=type&$export.P;var IS_BIND=type&$export.B;var target=IS_GLOBAL?global:IS_STATIC?global[name]||(global[name]={}):(global[name]||{})[PROTOTYPE];var exports=IS_GLOBAL?core:core[name]||(core[name]={});var expProto=exports[PROTOTYPE]||(exports[PROTOTYPE]={});var key,own,out,exp;if(IS_GLOBAL)source=name;for(key in source){own=!IS_FORCED&&target&&target[key]!==undefined;out=(own?target:source)[key];exp=IS_BIND&&own?ctx(out,global):IS_PROTO&&typeof out=="function"?ctx(Function.call,out):out;if(target)redefine(target,key,out,type&$export.U);if(exports[key]!=out)hide(exports,key,exp);if(IS_PROTO&&expProto[key]!=out)expProto[key]=out}};global.core=core;$export.F=1;$export.G=2;$export.S=4;$export.P=8;$export.B=16;$export.W=32;$export.U=64;$export.R=128;module.exports=$export},{"./_core":122,"./_ctx":124,"./_global":140,"./_hide":142,"./_redefine":188}],133:[function(require,module,exports){var MATCH=require("./_wks")("match");module.exports=function(KEY){var re=/./;try{"/./"[KEY](re)}catch(e){try{re[MATCH]=false;return!"/./"[KEY](re)}catch(f){}}return true}},{"./_wks":222}],134:[function(require,module,exports){arguments[4][93][0].apply(exports,arguments)},{dup:93}],135:[function(require,module,exports){"use strict";require("./es6.regexp.exec");var redefine=require("./_redefine");var hide=require("./_hide");var fails=require("./_fails");var defined=require("./_defined");var wks=require("./_wks");var regexpExec=require("./_regexp-exec");var SPECIES=wks("species");var REPLACE_SUPPORTS_NAMED_GROUPS=!fails(function(){var re=/./;re.exec=function(){var result=[];result.groups={a:"7"};return result};return"".replace(re,"$<a>")!=="7"});var SPLIT_WORKS_WITH_OVERWRITTEN_EXEC=function(){var re=/(?:)/;var originalExec=re.exec;re.exec=function(){return originalExec.apply(this,arguments)};var result="ab".split(re);return result.length===2&&result[0]==="a"&&result[1]==="b"}();module.exports=function(KEY,length,exec){var SYMBOL=wks(KEY);var DELEGATES_TO_SYMBOL=!fails(function(){var O={};O[SYMBOL]=function(){return 7};return""[KEY](O)!=7});var DELEGATES_TO_EXEC=DELEGATES_TO_SYMBOL?!fails(function(){var execCalled=false;var re=/a/;re.exec=function(){execCalled=true;return null};if(KEY==="split"){re.constructor={};re.constructor[SPECIES]=function(){return re}}re[SYMBOL]("");return!execCalled}):undefined;if(!DELEGATES_TO_SYMBOL||!DELEGATES_TO_EXEC||KEY==="replace"&&!REPLACE_SUPPORTS_NAMED_GROUPS||KEY==="split"&&!SPLIT_WORKS_WITH_OVERWRITTEN_EXEC){var nativeRegExpMethod=/./[SYMBOL];var fns=exec(defined,SYMBOL,""[KEY],function maybeCallNative(nativeMethod,regexp,str,arg2,forceStringMethod){if(regexp.exec===regexpExec){if(DELEGATES_TO_SYMBOL&&!forceStringMethod){return{done:true,value:nativeRegExpMethod.call(regexp,str,arg2)}}return{done:true,value:nativeMethod.call(str,regexp,arg2)}}return{done:false}});var strfn=fns[0];var rxfn=fns[1];redefine(String.prototype,KEY,strfn);hide(RegExp.prototype,SYMBOL,length==2?function(string,arg){return rxfn.call(string,this,arg)}:function(string){return rxfn.call(string,this)})}}},{"./_defined":127,"./_fails":134,"./_hide":142,"./_redefine":188,"./_regexp-exec":190,"./_wks":222,"./es6.regexp.exec":318}],136:[function(require,module,exports){"use strict";var anObject=require("./_an-object");module.exports=function(){var that=anObject(this);var result="";if(that.global)result+="g";if(that.ignoreCase)result+="i";if(that.multiline)result+="m";if(that.unicode)result+="u";if(that.sticky)result+="y";return result}},{"./_an-object":108}],137:[function(require,module,exports){"use strict";var isArray=require("./_is-array");var isObject=require("./_is-object");var toLength=require("./_to-length");var ctx=require("./_ctx");var IS_CONCAT_SPREADABLE=require("./_wks")("isConcatSpreadable");function flattenIntoArray(target,original,source,sourceLen,start,depth,mapper,thisArg){var targetIndex=start;var sourceIndex=0;var mapFn=mapper?ctx(mapper,thisArg,3):false;var element,spreadable;while(sourceIndex<sourceLen){if(sourceIndex in source){element=mapFn?mapFn(source[sourceIndex],sourceIndex,original):source[sourceIndex];spreadable=false;if(isObject(element)){spreadable=element[IS_CONCAT_SPREADABLE];spreadable=spreadable!==undefined?!!spreadable:isArray(element)}if(spreadable&&depth>0){targetIndex=flattenIntoArray(target,original,element,toLength(element.length),targetIndex,depth-1)-1}else{if(targetIndex>=9007199254740991)throw TypeError();target[targetIndex]=element}targetIndex++}sourceIndex++}return targetIndex}module.exports=flattenIntoArray},{"./_ctx":124,"./_is-array":149,"./_is-object":151,"./_to-length":211,"./_wks":222}],138:[function(require,module,exports){var ctx=require("./_ctx");var call=require("./_iter-call");var isArrayIter=require("./_is-array-iter");var anObject=require("./_an-object");var toLength=require("./_to-length");var getIterFn=require("./core.get-iterator-method");var BREAK={};var RETURN={};var exports=module.exports=function(iterable,entries,fn,that,ITERATOR){var iterFn=ITERATOR?function(){return iterable}:getIterFn(iterable);var f=ctx(fn,that,entries?2:1);var index=0;var length,step,iterator,result;if(typeof iterFn!="function")throw TypeError(iterable+" is not iterable!");if(isArrayIter(iterFn))for(length=toLength(iterable.length);length>index;index++){result=entries?f(anObject(step=iterable[index])[0],step[1]):f(iterable[index]);if(result===BREAK||result===RETURN)return result}else for(iterator=iterFn.call(iterable);!(step=iterator.next()).done;){result=call(iterator,f,step.value,entries);if(result===BREAK||result===RETURN)return result}};exports.BREAK=BREAK;exports.RETURN=RETURN},{"./_an-object":108,"./_ctx":124,"./_is-array-iter":148,"./_iter-call":153,"./_to-length":211,"./core.get-iterator-method":223}],139:[function(require,module,exports){module.exports=require("./_shared")("native-function-to-string",Function.toString)},{"./_shared":196}],140:[function(require,module,exports){arguments[4][94][0].apply(exports,arguments)},{dup:94}],141:[function(require,module,exports){arguments[4][95][0].apply(exports,arguments)},{dup:95}],142:[function(require,module,exports){arguments[4][96][0].apply(exports,arguments)},{"./_descriptors":128,"./_object-dp":169,"./_property-desc":186,dup:96}],143:[function(require,module,exports){var document=require("./_global").document;module.exports=document&&document.documentElement},{"./_global":140}],144:[function(require,module,exports){arguments[4][97][0].apply(exports,arguments)},{"./_descriptors":128,"./_dom-create":129,"./_fails":134,dup:97}],145:[function(require,module,exports){var isObject=require("./_is-object");var setPrototypeOf=require("./_set-proto").set;module.exports=function(that,target,C){var S=target.constructor;var P;if(S!==C&&typeof S=="function"&&(P=S.prototype)!==C.prototype&&isObject(P)&&setPrototypeOf){setPrototypeOf(that,P)}return that}},{"./_is-object":151,"./_set-proto":192}],146:[function(require,module,exports){module.exports=function(fn,args,that){var un=that===undefined;switch(args.length){case 0:return un?fn():fn.call(that);case 1:return un?fn(args[0]):fn.call(that,args[0]);case 2:return un?fn(args[0],args[1]):fn.call(that,args[0],args[1]);case 3:return un?fn(args[0],args[1],args[2]):fn.call(that,args[0],args[1],args[2]);case 4:return un?fn(args[0],args[1],args[2],args[3]):fn.call(that,args[0],args[1],args[2],args[3])}return fn.apply(that,args)}},{}],147:[function(require,module,exports){var cof=require("./_cof");module.exports=Object("z").propertyIsEnumerable(0)?Object:function(it){return cof(it)=="String"?it.split(""):Object(it)}},{"./_cof":118}],148:[function(require,module,exports){var Iterators=require("./_iterators");var ITERATOR=require("./_wks")("iterator");var ArrayProto=Array.prototype;module.exports=function(it){return it!==undefined&&(Iterators.Array===it||ArrayProto[ITERATOR]===it)}},{"./_iterators":158,"./_wks":222}],149:[function(require,module,exports){var cof=require("./_cof");module.exports=Array.isArray||function isArray(arg){return cof(arg)=="Array"}},{"./_cof":118}],150:[function(require,module,exports){var isObject=require("./_is-object");var floor=Math.floor;module.exports=function isInteger(it){return!isObject(it)&&isFinite(it)&&floor(it)===it}},{"./_is-object":151}],151:[function(require,module,exports){arguments[4][98][0].apply(exports,arguments)},{dup:98}],152:[function(require,module,exports){var isObject=require("./_is-object");var cof=require("./_cof");var MATCH=require("./_wks")("match");module.exports=function(it){var isRegExp;return isObject(it)&&((isRegExp=it[MATCH])!==undefined?!!isRegExp:cof(it)=="RegExp")}},{"./_cof":118,"./_is-object":151,"./_wks":222}],153:[function(require,module,exports){var anObject=require("./_an-object");module.exports=function(iterator,fn,value,entries){try{return entries?fn(anObject(value)[0],value[1]):fn(value)}catch(e){var ret=iterator["return"];if(ret!==undefined)anObject(ret.call(iterator));throw e}}},{"./_an-object":108}],154:[function(require,module,exports){"use strict";var create=require("./_object-create");var descriptor=require("./_property-desc");var setToStringTag=require("./_set-to-string-tag");var IteratorPrototype={};require("./_hide")(IteratorPrototype,require("./_wks")("iterator"),function(){return this});module.exports=function(Constructor,NAME,next){Constructor.prototype=create(IteratorPrototype,{next:descriptor(1,next)});setToStringTag(Constructor,NAME+" Iterator")}},{"./_hide":142,"./_object-create":168,"./_property-desc":186,"./_set-to-string-tag":194,"./_wks":222}],155:[function(require,module,exports){"use strict";var LIBRARY=require("./_library");var $export=require("./_export");var redefine=require("./_redefine");var hide=require("./_hide");var Iterators=require("./_iterators");var $iterCreate=require("./_iter-create");var setToStringTag=require("./_set-to-string-tag");var getPrototypeOf=require("./_object-gpo");var ITERATOR=require("./_wks")("iterator");var BUGGY=!([].keys&&"next"in[].keys());var FF_ITERATOR="@@iterator";var KEYS="keys";var VALUES="values";var returnThis=function(){return this};module.exports=function(Base,NAME,Constructor,next,DEFAULT,IS_SET,FORCED){$iterCreate(Constructor,NAME,next);var getMethod=function(kind){if(!BUGGY&&kind in proto)return proto[kind];switch(kind){case KEYS:return function keys(){return new Constructor(this,kind)};case VALUES:return function values(){return new Constructor(this,kind)}}return function entries(){return new Constructor(this,kind)}};var TAG=NAME+" Iterator";var DEF_VALUES=DEFAULT==VALUES;var VALUES_BUG=false;var proto=Base.prototype;var $native=proto[ITERATOR]||proto[FF_ITERATOR]||DEFAULT&&proto[DEFAULT];var $default=$native||getMethod(DEFAULT);var $entries=DEFAULT?!DEF_VALUES?$default:getMethod("entries"):undefined;var $anyNative=NAME=="Array"?proto.entries||$native:$native;var methods,key,IteratorPrototype;if($anyNative){IteratorPrototype=getPrototypeOf($anyNative.call(new Base));if(IteratorPrototype!==Object.prototype&&IteratorPrototype.next){setToStringTag(IteratorPrototype,TAG,true);if(!LIBRARY&&typeof IteratorPrototype[ITERATOR]!="function")hide(IteratorPrototype,ITERATOR,returnThis)}}if(DEF_VALUES&&$native&&$native.name!==VALUES){VALUES_BUG=true;$default=function values(){return $native.call(this)}}if((!LIBRARY||FORCED)&&(BUGGY||VALUES_BUG||!proto[ITERATOR])){hide(proto,ITERATOR,$default)}Iterators[NAME]=$default;Iterators[TAG]=returnThis;if(DEFAULT){methods={values:DEF_VALUES?$default:getMethod(VALUES),keys:IS_SET?$default:getMethod(KEYS),entries:$entries};if(FORCED)for(key in methods){if(!(key in proto))redefine(proto,key,methods[key])}else $export($export.P+$export.F*(BUGGY||VALUES_BUG),NAME,methods)}return methods}},{"./_export":132,"./_hide":142,"./_iter-create":154,"./_iterators":158,"./_library":159,"./_object-gpo":175,"./_redefine":188,"./_set-to-string-tag":194,"./_wks":222}],156:[function(require,module,exports){var ITERATOR=require("./_wks")("iterator");var SAFE_CLOSING=false;try{var riter=[7][ITERATOR]();riter["return"]=function(){SAFE_CLOSING=true};Array.from(riter,function(){throw 2})}catch(e){}module.exports=function(exec,skipClosing){if(!skipClosing&&!SAFE_CLOSING)return false;var safe=false;try{var arr=[7];var iter=arr[ITERATOR]();iter.next=function(){return{done:safe=true}};arr[ITERATOR]=function(){return iter};exec(arr)}catch(e){}return safe}},{"./_wks":222}],157:[function(require,module,exports){module.exports=function(done,value){return{value:value,done:!!done}}},{}],158:[function(require,module,exports){module.exports={}},{}],159:[function(require,module,exports){module.exports=false},{}],160:[function(require,module,exports){var $expm1=Math.expm1;module.exports=!$expm1||$expm1(10)>22025.465794806718||$expm1(10)<22025.465794806718||$expm1(-2e-17)!=-2e-17?function expm1(x){return(x=+x)==0?x:x>-1e-6&&x<1e-6?x+x*x/2:Math.exp(x)-1}:$expm1},{}],161:[function(require,module,exports){var sign=require("./_math-sign");var pow=Math.pow;var EPSILON=pow(2,-52);var EPSILON32=pow(2,-23);var MAX32=pow(2,127)*(2-EPSILON32);var MIN32=pow(2,-126);var roundTiesToEven=function(n){return n+1/EPSILON-1/EPSILON};module.exports=Math.fround||function fround(x){var $abs=Math.abs(x);var $sign=sign(x);var a,result;if($abs<MIN32)return $sign*roundTiesToEven($abs/MIN32/EPSILON32)*MIN32*EPSILON32;a=(1+EPSILON32/EPSILON)*$abs;result=a-(a-$abs);if(result>MAX32||result!=result)return $sign*Infinity;return $sign*result}},{"./_math-sign":163}],162:[function(require,module,exports){module.exports=Math.log1p||function log1p(x){return(x=+x)>-1e-8&&x<1e-8?x-x*x/2:Math.log(1+x)}},{}],163:[function(require,module,exports){module.exports=Math.sign||function sign(x){return(x=+x)==0||x!=x?x:x<0?-1:1}},{}],164:[function(require,module,exports){var META=require("./_uid")("meta");var isObject=require("./_is-object");var has=require("./_has");var setDesc=require("./_object-dp").f;var id=0;var isExtensible=Object.isExtensible||function(){return true};var FREEZE=!require("./_fails")(function(){return isExtensible(Object.preventExtensions({}))});var setMeta=function(it){setDesc(it,META,{value:{i:"O"+ ++id,w:{}}})};var fastKey=function(it,create){if(!isObject(it))return typeof it=="symbol"?it:(typeof it=="string"?"S":"P")+it;if(!has(it,META)){if(!isExtensible(it))return"F";if(!create)return"E";setMeta(it)}return it[META].i};var getWeak=function(it,create){if(!has(it,META)){if(!isExtensible(it))return true;if(!create)return false;setMeta(it)}return it[META].w};var onFreeze=function(it){if(FREEZE&&meta.NEED&&isExtensible(it)&&!has(it,META))setMeta(it);return it};var meta=module.exports={KEY:META,NEED:false,fastKey:fastKey,getWeak:getWeak,onFreeze:onFreeze}},{"./_fails":134,"./_has":141,"./_is-object":151,"./_object-dp":169,"./_uid":217}],165:[function(require,module,exports){var global=require("./_global");var macrotask=require("./_task").set;var Observer=global.MutationObserver||global.WebKitMutationObserver;var process=global.process;var Promise=global.Promise;var isNode=require("./_cof")(process)=="process";module.exports=function(){var head,last,notify;var flush=function(){var parent,fn;if(isNode&&(parent=process.domain))parent.exit();while(head){fn=head.fn;head=head.next;try{fn()}catch(e){if(head)notify();else last=undefined;throw e}}last=undefined;if(parent)parent.enter()};if(isNode){notify=function(){process.nextTick(flush)}}else if(Observer&&!(global.navigator&&global.navigator.standalone)){var toggle=true;var node=document.createTextNode("");new Observer(flush).observe(node,{characterData:true});notify=function(){node.data=toggle=!toggle}}else if(Promise&&Promise.resolve){var promise=Promise.resolve(undefined);notify=function(){promise.then(flush)}}else{notify=function(){macrotask.call(global,flush)}}return function(fn){var task={fn:fn,next:undefined};if(last)last.next=task;if(!head){head=task;notify()}last=task}}},{"./_cof":118,"./_global":140,"./_task":206}],166:[function(require,module,exports){"use strict";var aFunction=require("./_a-function");function PromiseCapability(C){var resolve,reject;this.promise=new C(function($$resolve,$$reject){if(resolve!==undefined||reject!==undefined)throw TypeError("Bad Promise constructor");resolve=$$resolve;reject=$$reject});this.resolve=aFunction(resolve);this.reject=aFunction(reject)}module.exports.f=function(C){return new PromiseCapability(C)}},{"./_a-function":103}],167:[function(require,module,exports){"use strict";var DESCRIPTORS=require("./_descriptors");var getKeys=require("./_object-keys");var gOPS=require("./_object-gops");var pIE=require("./_object-pie");var toObject=require("./_to-object");var IObject=require("./_iobject");var $assign=Object.assign;module.exports=!$assign||require("./_fails")(function(){var A={};var B={};var S=Symbol();var K="abcdefghijklmnopqrst";A[S]=7;K.split("").forEach(function(k){B[k]=k});return $assign({},A)[S]!=7||Object.keys($assign({},B)).join("")!=K})?function assign(target,source){var T=toObject(target);var aLen=arguments.length;var index=1;var getSymbols=gOPS.f;var isEnum=pIE.f;while(aLen>index){var S=IObject(arguments[index++]);var keys=getSymbols?getKeys(S).concat(getSymbols(S)):getKeys(S);var length=keys.length;var j=0;var key;while(length>j){key=keys[j++];if(!DESCRIPTORS||isEnum.call(S,key))T[key]=S[key]}}return T}:$assign},{"./_descriptors":128,"./_fails":134,"./_iobject":147,"./_object-gops":174,"./_object-keys":177,"./_object-pie":178,"./_to-object":212}],168:[function(require,module,exports){var anObject=require("./_an-object");var dPs=require("./_object-dps");var enumBugKeys=require("./_enum-bug-keys");var IE_PROTO=require("./_shared-key")("IE_PROTO");var Empty=function(){};var PROTOTYPE="prototype";var createDict=function(){var iframe=require("./_dom-create")("iframe");var i=enumBugKeys.length;var lt="<";var gt=">";var iframeDocument;iframe.style.display="none";require("./_html").appendChild(iframe);iframe.src="javascript:";iframeDocument=iframe.contentWindow.document;iframeDocument.open();iframeDocument.write(lt+"script"+gt+"document.F=Object"+lt+"/script"+gt);iframeDocument.close();createDict=iframeDocument.F;while(i--)delete createDict[PROTOTYPE][enumBugKeys[i]];return createDict()};module.exports=Object.create||function create(O,Properties){var result;if(O!==null){Empty[PROTOTYPE]=anObject(O);result=new Empty;Empty[PROTOTYPE]=null;result[IE_PROTO]=O}else result=createDict();return Properties===undefined?result:dPs(result,Properties)}},{"./_an-object":108,"./_dom-create":129,"./_enum-bug-keys":130,"./_html":143,"./_object-dps":170,"./_shared-key":195}],169:[function(require,module,exports){arguments[4][99][0].apply(exports,arguments)},{"./_an-object":108,"./_descriptors":128,"./_ie8-dom-define":144,"./_to-primitive":213,dup:99}],170:[function(require,module,exports){var dP=require("./_object-dp");var anObject=require("./_an-object");var getKeys=require("./_object-keys");module.exports=require("./_descriptors")?Object.defineProperties:function defineProperties(O,Properties){anObject(O);var keys=getKeys(Properties);var length=keys.length;var i=0;var P;while(length>i)dP.f(O,P=keys[i++],Properties[P]);return O}},{"./_an-object":108,"./_descriptors":128,"./_object-dp":169,"./_object-keys":177}],171:[function(require,module,exports){var pIE=require("./_object-pie");var createDesc=require("./_property-desc");var toIObject=require("./_to-iobject");var toPrimitive=require("./_to-primitive");var has=require("./_has");var IE8_DOM_DEFINE=require("./_ie8-dom-define");var gOPD=Object.getOwnPropertyDescriptor;exports.f=require("./_descriptors")?gOPD:function getOwnPropertyDescriptor(O,P){O=toIObject(O);P=toPrimitive(P,true);if(IE8_DOM_DEFINE)try{return gOPD(O,P)}catch(e){}if(has(O,P))return createDesc(!pIE.f.call(O,P),O[P])}},{"./_descriptors":128,"./_has":141,"./_ie8-dom-define":144,"./_object-pie":178,"./_property-desc":186,"./_to-iobject":210,"./_to-primitive":213}],172:[function(require,module,exports){var toIObject=require("./_to-iobject");var gOPN=require("./_object-gopn").f;var toString={}.toString;var windowNames=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];var getWindowNames=function(it){try{return gOPN(it)}catch(e){return windowNames.slice()}};module.exports.f=function getOwnPropertyNames(it){return windowNames&&toString.call(it)=="[object Window]"?getWindowNames(it):gOPN(toIObject(it))}},{"./_object-gopn":173,"./_to-iobject":210}],173:[function(require,module,exports){var $keys=require("./_object-keys-internal");var hiddenKeys=require("./_enum-bug-keys").concat("length","prototype");exports.f=Object.getOwnPropertyNames||function getOwnPropertyNames(O){return $keys(O,hiddenKeys)}},{"./_enum-bug-keys":130,"./_object-keys-internal":176}],174:[function(require,module,exports){exports.f=Object.getOwnPropertySymbols},{}],175:[function(require,module,exports){var has=require("./_has");var toObject=require("./_to-object");var IE_PROTO=require("./_shared-key")("IE_PROTO");var ObjectProto=Object.prototype;module.exports=Object.getPrototypeOf||function(O){O=toObject(O);if(has(O,IE_PROTO))return O[IE_PROTO];if(typeof O.constructor=="function"&&O instanceof O.constructor){return O.constructor.prototype}return O instanceof Object?ObjectProto:null}},{"./_has":141,"./_shared-key":195,"./_to-object":212}],176:[function(require,module,exports){var has=require("./_has");var toIObject=require("./_to-iobject");var arrayIndexOf=require("./_array-includes")(false);var IE_PROTO=require("./_shared-key")("IE_PROTO");module.exports=function(object,names){var O=toIObject(object);var i=0;var result=[];var key;for(key in O)if(key!=IE_PROTO)has(O,key)&&result.push(key);while(names.length>i)if(has(O,key=names[i++])){~arrayIndexOf(result,key)||result.push(key)}return result}},{"./_array-includes":111,"./_has":141,"./_shared-key":195,"./_to-iobject":210}],177:[function(require,module,exports){var $keys=require("./_object-keys-internal");var enumBugKeys=require("./_enum-bug-keys");module.exports=Object.keys||function keys(O){return $keys(O,enumBugKeys)}},{"./_enum-bug-keys":130,"./_object-keys-internal":176}],178:[function(require,module,exports){exports.f={}.propertyIsEnumerable},{}],179:[function(require,module,exports){var $export=require("./_export");var core=require("./_core");var fails=require("./_fails");module.exports=function(KEY,exec){var fn=(core.Object||{})[KEY]||Object[KEY];var exp={};exp[KEY]=exec(fn);$export($export.S+$export.F*fails(function(){fn(1)}),"Object",exp)}},{"./_core":122,"./_export":132,"./_fails":134}],180:[function(require,module,exports){var DESCRIPTORS=require("./_descriptors");var getKeys=require("./_object-keys");var toIObject=require("./_to-iobject");var isEnum=require("./_object-pie").f;module.exports=function(isEntries){return function(it){var O=toIObject(it);var keys=getKeys(O);var length=keys.length;var i=0;var result=[];var key;while(length>i){key=keys[i++];if(!DESCRIPTORS||isEnum.call(O,key)){result.push(isEntries?[key,O[key]]:O[key])}}return result}}},{"./_descriptors":128,"./_object-keys":177,"./_object-pie":178,"./_to-iobject":210}],181:[function(require,module,exports){var gOPN=require("./_object-gopn");var gOPS=require("./_object-gops");var anObject=require("./_an-object");var Reflect=require("./_global").Reflect;module.exports=Reflect&&Reflect.ownKeys||function ownKeys(it){var keys=gOPN.f(anObject(it));var getSymbols=gOPS.f;return getSymbols?keys.concat(getSymbols(it)):keys}},{"./_an-object":108,"./_global":140,"./_object-gopn":173,"./_object-gops":174}],182:[function(require,module,exports){var $parseFloat=require("./_global").parseFloat;var $trim=require("./_string-trim").trim;module.exports=1/$parseFloat(require("./_string-ws")+"-0")!==-Infinity?function parseFloat(str){var string=$trim(String(str),3);var result=$parseFloat(string);return result===0&&string.charAt(0)=="-"?-0:result}:$parseFloat},{"./_global":140,"./_string-trim":204,"./_string-ws":205}],183:[function(require,module,exports){var $parseInt=require("./_global").parseInt;var $trim=require("./_string-trim").trim;var ws=require("./_string-ws");var hex=/^[-+]?0[xX]/;module.exports=$parseInt(ws+"08")!==8||$parseInt(ws+"0x16")!==22?function parseInt(str,radix){var string=$trim(String(str),3);return $parseInt(string,radix>>>0||(hex.test(string)?16:10))}:$parseInt},{"./_global":140,"./_string-trim":204,"./_string-ws":205}],184:[function(require,module,exports){module.exports=function(exec){try{return{e:false,v:exec()}}catch(e){return{e:true,v:e}}}},{}],185:[function(require,module,exports){var anObject=require("./_an-object");var isObject=require("./_is-object");var newPromiseCapability=require("./_new-promise-capability");module.exports=function(C,x){anObject(C);if(isObject(x)&&x.constructor===C)return x;var promiseCapability=newPromiseCapability.f(C);var resolve=promiseCapability.resolve;resolve(x);return promiseCapability.promise}},{"./_an-object":108,"./_is-object":151,"./_new-promise-capability":166}],186:[function(require,module,exports){arguments[4][100][0].apply(exports,arguments)},{dup:100}],187:[function(require,module,exports){var redefine=require("./_redefine");module.exports=function(target,src,safe){for(var key in src)redefine(target,key,src[key],safe);return target}},{"./_redefine":188}],188:[function(require,module,exports){var global=require("./_global");var hide=require("./_hide");var has=require("./_has");var SRC=require("./_uid")("src");var $toString=require("./_function-to-string");var TO_STRING="toString";var TPL=(""+$toString).split(TO_STRING);require("./_core").inspectSource=function(it){return $toString.call(it)};(module.exports=function(O,key,val,safe){var isFunction=typeof val=="function";if(isFunction)has(val,"name")||hide(val,"name",key);if(O[key]===val)return;if(isFunction)has(val,SRC)||hide(val,SRC,O[key]?""+O[key]:TPL.join(String(key)));if(O===global){O[key]=val}else if(!safe){delete O[key];hide(O,key,val)}else if(O[key]){O[key]=val}else{hide(O,key,val)}})(Function.prototype,TO_STRING,function toString(){return typeof this=="function"&&this[SRC]||$toString.call(this)})},{"./_core":122,"./_function-to-string":139,"./_global":140,"./_has":141,"./_hide":142,"./_uid":217}],189:[function(require,module,exports){"use strict";var classof=require("./_classof");var builtinExec=RegExp.prototype.exec;module.exports=function(R,S){var exec=R.exec;if(typeof exec==="function"){var result=exec.call(R,S);if(typeof result!=="object"){throw new TypeError("RegExp exec method returned something other than an Object or null")}return result}if(classof(R)!=="RegExp"){throw new TypeError("RegExp#exec called on incompatible receiver")}return builtinExec.call(R,S)}},{"./_classof":117}],190:[function(require,module,exports){"use strict";var regexpFlags=require("./_flags");var nativeExec=RegExp.prototype.exec;var nativeReplace=String.prototype.replace;var patchedExec=nativeExec;var LAST_INDEX="lastIndex";var UPDATES_LAST_INDEX_WRONG=function(){var re1=/a/,re2=/b*/g;nativeExec.call(re1,"a");nativeExec.call(re2,"a");return re1[LAST_INDEX]!==0||re2[LAST_INDEX]!==0}();var NPCG_INCLUDED=/()??/.exec("")[1]!==undefined;var PATCH=UPDATES_LAST_INDEX_WRONG||NPCG_INCLUDED;if(PATCH){patchedExec=function exec(str){var re=this;var lastIndex,reCopy,match,i;if(NPCG_INCLUDED){reCopy=new RegExp("^"+re.source+"$(?!\\s)",regexpFlags.call(re))}if(UPDATES_LAST_INDEX_WRONG)lastIndex=re[LAST_INDEX];match=nativeExec.call(re,str);if(UPDATES_LAST_INDEX_WRONG&&match){re[LAST_INDEX]=re.global?match.index+match[0].length:lastIndex}if(NPCG_INCLUDED&&match&&match.length>1){nativeReplace.call(match[0],reCopy,function(){for(i=1;i<arguments.length-2;i++){if(arguments[i]===undefined)match[i]=undefined}})}return match}}module.exports=patchedExec},{"./_flags":136}],191:[function(require,module,exports){module.exports=Object.is||function is(x,y){return x===y?x!==0||1/x===1/y:x!=x&&y!=y}},{}],192:[function(require,module,exports){var isObject=require("./_is-object");var anObject=require("./_an-object");var check=function(O,proto){anObject(O);if(!isObject(proto)&&proto!==null)throw TypeError(proto+": can't set as prototype!")};module.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(test,buggy,set){try{set=require("./_ctx")(Function.call,require("./_object-gopd").f(Object.prototype,"__proto__").set,2);set(test,[]);buggy=!(test instanceof Array)}catch(e){buggy=true}return function setPrototypeOf(O,proto){check(O,proto);if(buggy)O.__proto__=proto;else set(O,proto);return O}}({},false):undefined),check:check}},{"./_an-object":108,"./_ctx":124,"./_is-object":151,"./_object-gopd":171}],193:[function(require,module,exports){"use strict";var global=require("./_global");var dP=require("./_object-dp");var DESCRIPTORS=require("./_descriptors");var SPECIES=require("./_wks")("species");module.exports=function(KEY){var C=global[KEY];if(DESCRIPTORS&&C&&!C[SPECIES])dP.f(C,SPECIES,{configurable:true,get:function(){return this}})}},{"./_descriptors":128,"./_global":140,"./_object-dp":169,"./_wks":222}],194:[function(require,module,exports){var def=require("./_object-dp").f;var has=require("./_has");var TAG=require("./_wks")("toStringTag");module.exports=function(it,tag,stat){if(it&&!has(it=stat?it:it.prototype,TAG))def(it,TAG,{configurable:true,value:tag})}},{"./_has":141,"./_object-dp":169,"./_wks":222}],195:[function(require,module,exports){var shared=require("./_shared")("keys");var uid=require("./_uid");module.exports=function(key){return shared[key]||(shared[key]=uid(key))}},{"./_shared":196,"./_uid":217}],196:[function(require,module,exports){var core=require("./_core");var global=require("./_global");var SHARED="__core-js_shared__";var store=global[SHARED]||(global[SHARED]={});(module.exports=function(key,value){return store[key]||(store[key]=value!==undefined?value:{})})("versions",[]).push({version:core.version,mode:require("./_library")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},{"./_core":122,"./_global":140,"./_library":159}],197:[function(require,module,exports){var anObject=require("./_an-object");var aFunction=require("./_a-function");var SPECIES=require("./_wks")("species");module.exports=function(O,D){var C=anObject(O).constructor;var S;return C===undefined||(S=anObject(C)[SPECIES])==undefined?D:aFunction(S)}},{"./_a-function":103,"./_an-object":108,"./_wks":222}],198:[function(require,module,exports){"use strict";var fails=require("./_fails");module.exports=function(method,arg){return!!method&&fails(function(){arg?method.call(null,function(){},1):method.call(null)})}},{"./_fails":134}],199:[function(require,module,exports){var toInteger=require("./_to-integer");var defined=require("./_defined");module.exports=function(TO_STRING){return function(that,pos){var s=String(defined(that));var i=toInteger(pos);var l=s.length;var a,b;if(i<0||i>=l)return TO_STRING?"":undefined;a=s.charCodeAt(i);return a<55296||a>56319||i+1===l||(b=s.charCodeAt(i+1))<56320||b>57343?TO_STRING?s.charAt(i):a:TO_STRING?s.slice(i,i+2):(a-55296<<10)+(b-56320)+65536}}},{"./_defined":127,"./_to-integer":209}],200:[function(require,module,exports){var isRegExp=require("./_is-regexp");var defined=require("./_defined");module.exports=function(that,searchString,NAME){if(isRegExp(searchString))throw TypeError("String#"+NAME+" doesn't accept regex!");return String(defined(that))}},{"./_defined":127,"./_is-regexp":152}],201:[function(require,module,exports){var $export=require("./_export");var fails=require("./_fails");var defined=require("./_defined");var quot=/"/g;var createHTML=function(string,tag,attribute,value){var S=String(defined(string));var p1="<"+tag;if(attribute!=="")p1+=" "+attribute+'="'+String(value).replace(quot,"&quot;")+'"';return p1+">"+S+"</"+tag+">"};module.exports=function(NAME,exec){var O={};O[NAME]=exec(createHTML);$export($export.P+$export.F*fails(function(){var test=""[NAME]('"');return test!==test.toLowerCase()||test.split('"').length>3}),"String",O)}},{"./_defined":127,"./_export":132,"./_fails":134}],202:[function(require,module,exports){var toLength=require("./_to-length");var repeat=require("./_string-repeat");var defined=require("./_defined");module.exports=function(that,maxLength,fillString,left){var S=String(defined(that));var stringLength=S.length;var fillStr=fillString===undefined?" ":String(fillString);var intMaxLength=toLength(maxLength);if(intMaxLength<=stringLength||fillStr=="")return S;var fillLen=intMaxLength-stringLength;var stringFiller=repeat.call(fillStr,Math.ceil(fillLen/fillStr.length));if(stringFiller.length>fillLen)stringFiller=stringFiller.slice(0,fillLen);return left?stringFiller+S:S+stringFiller}},{"./_defined":127,"./_string-repeat":203,"./_to-length":211}],203:[function(require,module,exports){"use strict";var toInteger=require("./_to-integer");var defined=require("./_defined");module.exports=function repeat(count){var str=String(defined(this));var res="";var n=toInteger(count);if(n<0||n==Infinity)throw RangeError("Count can't be negative");for(;n>0;(n>>>=1)&&(str+=str))if(n&1)res+=str;return res}},{"./_defined":127,"./_to-integer":209}],204:[function(require,module,exports){var $export=require("./_export");var defined=require("./_defined");var fails=require("./_fails");var spaces=require("./_string-ws");var space="["+spaces+"]";var non="​";var ltrim=RegExp("^"+space+space+"*");var rtrim=RegExp(space+space+"*$");var exporter=function(KEY,exec,ALIAS){var exp={};var FORCE=fails(function(){return!!spaces[KEY]()||non[KEY]()!=non});var fn=exp[KEY]=FORCE?exec(trim):spaces[KEY];if(ALIAS)exp[ALIAS]=fn;$export($export.P+$export.F*FORCE,"String",exp)};var trim=exporter.trim=function(string,TYPE){string=String(defined(string));if(TYPE&1)string=string.replace(ltrim,"");if(TYPE&2)string=string.replace(rtrim,"");return string};module.exports=exporter},{"./_defined":127,"./_export":132,"./_fails":134,"./_string-ws":205}],205:[function(require,module,exports){module.exports="\t\n\v\f\r   ᠎    "+"         　\u2028\u2029\ufeff"},{}],206:[function(require,module,exports){var ctx=require("./_ctx");var invoke=require("./_invoke");var html=require("./_html");var cel=require("./_dom-create");var global=require("./_global");var process=global.process;var setTask=global.setImmediate;var clearTask=global.clearImmediate;var MessageChannel=global.MessageChannel;var Dispatch=global.Dispatch;var counter=0;var queue={};var ONREADYSTATECHANGE="onreadystatechange";var defer,channel,port;var run=function(){var id=+this;if(queue.hasOwnProperty(id)){var fn=queue[id];delete queue[id];fn()}};var listener=function(event){run.call(event.data)};if(!setTask||!clearTask){setTask=function setImmediate(fn){var args=[];var i=1;while(arguments.length>i)args.push(arguments[i++]);queue[++counter]=function(){invoke(typeof fn=="function"?fn:Function(fn),args)};defer(counter);return counter};clearTask=function clearImmediate(id){delete queue[id]};if(require("./_cof")(process)=="process"){defer=function(id){process.nextTick(ctx(run,id,1))}}else if(Dispatch&&Dispatch.now){defer=function(id){Dispatch.now(ctx(run,id,1))}}else if(MessageChannel){channel=new MessageChannel;port=channel.port2;channel.port1.onmessage=listener;defer=ctx(port.postMessage,port,1)}else if(global.addEventListener&&typeof postMessage=="function"&&!global.importScripts){defer=function(id){global.postMessage(id+"","*")};global.addEventListener("message",listener,false)}else if(ONREADYSTATECHANGE in cel("script")){defer=function(id){html.appendChild(cel("script"))[ONREADYSTATECHANGE]=function(){html.removeChild(this);run.call(id)}}}else{defer=function(id){setTimeout(ctx(run,id,1),0)}}}module.exports={set:setTask,clear:clearTask}},{"./_cof":118,"./_ctx":124,"./_dom-create":129,"./_global":140,"./_html":143,"./_invoke":146}],207:[function(require,module,exports){var toInteger=require("./_to-integer");var max=Math.max;var min=Math.min;module.exports=function(index,length){index=toInteger(index);return index<0?max(index+length,0):min(index,length)}},{"./_to-integer":209}],208:[function(require,module,exports){var toInteger=require("./_to-integer");var toLength=require("./_to-length");module.exports=function(it){if(it===undefined)return 0;var number=toInteger(it);var length=toLength(number);if(number!==length)throw RangeError("Wrong length!");return length}},{"./_to-integer":209,"./_to-length":211}],209:[function(require,module,exports){var ceil=Math.ceil;var floor=Math.floor;module.exports=function(it){return isNaN(it=+it)?0:(it>0?floor:ceil)(it)}},{}],210:[function(require,module,exports){var IObject=require("./_iobject");var defined=require("./_defined");module.exports=function(it){return IObject(defined(it))}},{"./_defined":127,"./_iobject":147}],211:[function(require,module,exports){var toInteger=require("./_to-integer");var min=Math.min;module.exports=function(it){return it>0?min(toInteger(it),9007199254740991):0}},{"./_to-integer":209}],212:[function(require,module,exports){var defined=require("./_defined");module.exports=function(it){return Object(defined(it))}},{"./_defined":127}],213:[function(require,module,exports){arguments[4][101][0].apply(exports,arguments)},{"./_is-object":151,dup:101}],214:[function(require,module,exports){"use strict";if(require("./_descriptors")){var LIBRARY=require("./_library");var global=require("./_global");var fails=require("./_fails");var $export=require("./_export");var $typed=require("./_typed");var $buffer=require("./_typed-buffer");var ctx=require("./_ctx");var anInstance=require("./_an-instance");var propertyDesc=require("./_property-desc");var hide=require("./_hide");var redefineAll=require("./_redefine-all");var toInteger=require("./_to-integer");var toLength=require("./_to-length");var toIndex=require("./_to-index");var toAbsoluteIndex=require("./_to-absolute-index");var toPrimitive=require("./_to-primitive");var has=require("./_has");var classof=require("./_classof");var isObject=require("./_is-object");var toObject=require("./_to-object");var isArrayIter=require("./_is-array-iter");var create=require("./_object-create");var getPrototypeOf=require("./_object-gpo");var gOPN=require("./_object-gopn").f;var getIterFn=require("./core.get-iterator-method");var uid=require("./_uid");var wks=require("./_wks");var createArrayMethod=require("./_array-methods");var createArrayIncludes=require("./_array-includes");var speciesConstructor=require("./_species-constructor");var ArrayIterators=require("./es6.array.iterator");var Iterators=require("./_iterators");var $iterDetect=require("./_iter-detect");var setSpecies=require("./_set-species");var arrayFill=require("./_array-fill");var arrayCopyWithin=require("./_array-copy-within");var $DP=require("./_object-dp");var $GOPD=require("./_object-gopd");var dP=$DP.f;var gOPD=$GOPD.f;var RangeError=global.RangeError;var TypeError=global.TypeError;var Uint8Array=global.Uint8Array;var ARRAY_BUFFER="ArrayBuffer";var SHARED_BUFFER="Shared"+ARRAY_BUFFER;var BYTES_PER_ELEMENT="BYTES_PER_ELEMENT";var PROTOTYPE="prototype";var ArrayProto=Array[PROTOTYPE];var $ArrayBuffer=$buffer.ArrayBuffer;var $DataView=$buffer.DataView;var arrayForEach=createArrayMethod(0);var arrayFilter=createArrayMethod(2);var arraySome=createArrayMethod(3);var arrayEvery=createArrayMethod(4);var arrayFind=createArrayMethod(5);var arrayFindIndex=createArrayMethod(6);var arrayIncludes=createArrayIncludes(true);var arrayIndexOf=createArrayIncludes(false);var arrayValues=ArrayIterators.values;var arrayKeys=ArrayIterators.keys;var arrayEntries=ArrayIterators.entries;var arrayLastIndexOf=ArrayProto.lastIndexOf;var arrayReduce=ArrayProto.reduce;var arrayReduceRight=ArrayProto.reduceRight;var arrayJoin=ArrayProto.join;var arraySort=ArrayProto.sort;var arraySlice=ArrayProto.slice;var arrayToString=ArrayProto.toString;var arrayToLocaleString=ArrayProto.toLocaleString;var ITERATOR=wks("iterator");var TAG=wks("toStringTag");var TYPED_CONSTRUCTOR=uid("typed_constructor");var DEF_CONSTRUCTOR=uid("def_constructor");var ALL_CONSTRUCTORS=$typed.CONSTR;var TYPED_ARRAY=$typed.TYPED;var VIEW=$typed.VIEW;var WRONG_LENGTH="Wrong length!";var $map=createArrayMethod(1,function(O,length){return allocate(speciesConstructor(O,O[DEF_CONSTRUCTOR]),length)});var LITTLE_ENDIAN=fails(function(){return new Uint8Array(new Uint16Array([1]).buffer)[0]===1});var FORCED_SET=!!Uint8Array&&!!Uint8Array[PROTOTYPE].set&&fails(function(){new Uint8Array(1).set({})});var toOffset=function(it,BYTES){var offset=toInteger(it);if(offset<0||offset%BYTES)throw RangeError("Wrong offset!");return offset};var validate=function(it){if(isObject(it)&&TYPED_ARRAY in it)return it;throw TypeError(it+" is not a typed array!")};var allocate=function(C,length){if(!(isObject(C)&&TYPED_CONSTRUCTOR in C)){throw TypeError("It is not a typed array constructor!")}return new C(length)};var speciesFromList=function(O,list){return fromList(speciesConstructor(O,O[DEF_CONSTRUCTOR]),list)};var fromList=function(C,list){var index=0;var length=list.length;var result=allocate(C,length);while(length>index)result[index]=list[index++];return result};var addGetter=function(it,key,internal){dP(it,key,{get:function(){return this._d[internal]}})};var $from=function from(source){var O=toObject(source);var aLen=arguments.length;var mapfn=aLen>1?arguments[1]:undefined;var mapping=mapfn!==undefined;var iterFn=getIterFn(O);var i,length,values,result,step,iterator;if(iterFn!=undefined&&!isArrayIter(iterFn)){for(iterator=iterFn.call(O),values=[],i=0;!(step=iterator.next()).done;i++){values.push(step.value)}O=values}if(mapping&&aLen>2)mapfn=ctx(mapfn,arguments[2],2);for(i=0,length=toLength(O.length),result=allocate(this,length);length>i;i++){result[i]=mapping?mapfn(O[i],i):O[i]}return result};var $of=function of(){var index=0;var length=arguments.length;var result=allocate(this,length);while(length>index)result[index]=arguments[index++];return result};var TO_LOCALE_BUG=!!Uint8Array&&fails(function(){arrayToLocaleString.call(new Uint8Array(1))});var $toLocaleString=function toLocaleString(){return arrayToLocaleString.apply(TO_LOCALE_BUG?arraySlice.call(validate(this)):validate(this),arguments)};var proto={copyWithin:function copyWithin(target,start){return arrayCopyWithin.call(validate(this),target,start,arguments.length>2?arguments[2]:undefined)},every:function every(callbackfn){return arrayEvery(validate(this),callbackfn,arguments.length>1?arguments[1]:undefined)},fill:function fill(value){return arrayFill.apply(validate(this),arguments)},filter:function filter(callbackfn){return speciesFromList(this,arrayFilter(validate(this),callbackfn,arguments.length>1?arguments[1]:undefined))},find:function find(predicate){return arrayFind(validate(this),predicate,arguments.length>1?arguments[1]:undefined)},findIndex:function findIndex(predicate){return arrayFindIndex(validate(this),predicate,arguments.length>1?arguments[1]:undefined)},forEach:function forEach(callbackfn){arrayForEach(validate(this),callbackfn,arguments.length>1?arguments[1]:undefined)},indexOf:function indexOf(searchElement){return arrayIndexOf(validate(this),searchElement,arguments.length>1?arguments[1]:undefined)},includes:function includes(searchElement){return arrayIncludes(validate(this),searchElement,arguments.length>1?arguments[1]:undefined)},join:function join(separator){return arrayJoin.apply(validate(this),arguments)},lastIndexOf:function lastIndexOf(searchElement){return arrayLastIndexOf.apply(validate(this),arguments)},map:function map(mapfn){return $map(validate(this),mapfn,arguments.length>1?arguments[1]:undefined)},reduce:function reduce(callbackfn){return arrayReduce.apply(validate(this),arguments)},reduceRight:function reduceRight(callbackfn){return arrayReduceRight.apply(validate(this),arguments)},reverse:function reverse(){var that=this;var length=validate(that).length;var middle=Math.floor(length/2);var index=0;var value;while(index<middle){value=that[index];that[index++]=that[--length];that[length]=value}return that},some:function some(callbackfn){return arraySome(validate(this),callbackfn,arguments.length>1?arguments[1]:undefined)},sort:function sort(comparefn){return arraySort.call(validate(this),comparefn)},subarray:function subarray(begin,end){var O=validate(this);var length=O.length;var $begin=toAbsoluteIndex(begin,length);return new(speciesConstructor(O,O[DEF_CONSTRUCTOR]))(O.buffer,O.byteOffset+$begin*O.BYTES_PER_ELEMENT,toLength((end===undefined?length:toAbsoluteIndex(end,length))-$begin))}};var $slice=function slice(start,end){return speciesFromList(this,arraySlice.call(validate(this),start,end))};var $set=function set(arrayLike){validate(this);var offset=toOffset(arguments[1],1);var length=this.length;var src=toObject(arrayLike);var len=toLength(src.length);var index=0;if(len+offset>length)throw RangeError(WRONG_LENGTH);while(index<len)this[offset+index]=src[index++]};var $iterators={entries:function entries(){return arrayEntries.call(validate(this))},keys:function keys(){return arrayKeys.call(validate(this))},values:function values(){return arrayValues.call(validate(this))}};var isTAIndex=function(target,key){return isObject(target)&&target[TYPED_ARRAY]&&typeof key!="symbol"&&key in target&&String(+key)==String(key)};var $getDesc=function getOwnPropertyDescriptor(target,key){return isTAIndex(target,key=toPrimitive(key,true))?propertyDesc(2,target[key]):gOPD(target,key)};var $setDesc=function defineProperty(target,key,desc){if(isTAIndex(target,key=toPrimitive(key,true))&&isObject(desc)&&has(desc,"value")&&!has(desc,"get")&&!has(desc,"set")&&!desc.configurable&&(!has(desc,"writable")||desc.writable)&&(!has(desc,"enumerable")||desc.enumerable)){target[key]=desc.value;return target}return dP(target,key,desc)};if(!ALL_CONSTRUCTORS){$GOPD.f=$getDesc;$DP.f=$setDesc}$export($export.S+$export.F*!ALL_CONSTRUCTORS,"Object",{getOwnPropertyDescriptor:$getDesc,defineProperty:$setDesc});if(fails(function(){arrayToString.call({})})){arrayToString=arrayToLocaleString=function toString(){return arrayJoin.call(this)}}var $TypedArrayPrototype$=redefineAll({},proto);redefineAll($TypedArrayPrototype$,$iterators);hide($TypedArrayPrototype$,ITERATOR,$iterators.values);redefineAll($TypedArrayPrototype$,{slice:$slice,set:$set,constructor:function(){},toString:arrayToString,toLocaleString:$toLocaleString});addGetter($TypedArrayPrototype$,"buffer","b");addGetter($TypedArrayPrototype$,"byteOffset","o");addGetter($TypedArrayPrototype$,"byteLength","l");addGetter($TypedArrayPrototype$,"length","e");dP($TypedArrayPrototype$,TAG,{get:function(){return this[TYPED_ARRAY]}});module.exports=function(KEY,BYTES,wrapper,CLAMPED){CLAMPED=!!CLAMPED;var NAME=KEY+(CLAMPED?"Clamped":"")+"Array";var GETTER="get"+KEY;var SETTER="set"+KEY;var TypedArray=global[NAME];var Base=TypedArray||{};var TAC=TypedArray&&getPrototypeOf(TypedArray);var FORCED=!TypedArray||!$typed.ABV;var O={};var TypedArrayPrototype=TypedArray&&TypedArray[PROTOTYPE];var getter=function(that,index){var data=that._d;return data.v[GETTER](index*BYTES+data.o,LITTLE_ENDIAN)};var setter=function(that,index,value){var data=that._d;if(CLAMPED)value=(value=Math.round(value))<0?0:value>255?255:value&255;data.v[SETTER](index*BYTES+data.o,value,LITTLE_ENDIAN)};var addElement=function(that,index){dP(that,index,{get:function(){return getter(this,index)},set:function(value){return setter(this,index,value)},enumerable:true})};if(FORCED){TypedArray=wrapper(function(that,data,$offset,$length){anInstance(that,TypedArray,NAME,"_d");var index=0;var offset=0;var buffer,byteLength,length,klass;if(!isObject(data)){length=toIndex(data);byteLength=length*BYTES;buffer=new $ArrayBuffer(byteLength)}else if(data instanceof $ArrayBuffer||(klass=classof(data))==ARRAY_BUFFER||klass==SHARED_BUFFER){buffer=data;offset=toOffset($offset,BYTES);var $len=data.byteLength;if($length===undefined){if($len%BYTES)throw RangeError(WRONG_LENGTH);byteLength=$len-offset;if(byteLength<0)throw RangeError(WRONG_LENGTH)}else{byteLength=toLength($length)*BYTES;if(byteLength+offset>$len)throw RangeError(WRONG_LENGTH)}length=byteLength/BYTES}else if(TYPED_ARRAY in data){return fromList(TypedArray,data)}else{return $from.call(TypedArray,data)}hide(that,"_d",{b:buffer,o:offset,l:byteLength,e:length,v:new $DataView(buffer)});while(index<length)addElement(that,index++)});TypedArrayPrototype=TypedArray[PROTOTYPE]=create($TypedArrayPrototype$);hide(TypedArrayPrototype,"constructor",TypedArray)}else if(!fails(function(){TypedArray(1)})||!fails(function(){new TypedArray(-1)})||!$iterDetect(function(iter){new TypedArray;new TypedArray(null);new TypedArray(1.5);new TypedArray(iter)},true)){TypedArray=wrapper(function(that,data,$offset,$length){anInstance(that,TypedArray,NAME);var klass;if(!isObject(data))return new Base(toIndex(data));if(data instanceof $ArrayBuffer||(klass=classof(data))==ARRAY_BUFFER||klass==SHARED_BUFFER){return $length!==undefined?new Base(data,toOffset($offset,BYTES),$length):$offset!==undefined?new Base(data,toOffset($offset,BYTES)):new Base(data)}if(TYPED_ARRAY in data)return fromList(TypedArray,data);return $from.call(TypedArray,data)});arrayForEach(TAC!==Function.prototype?gOPN(Base).concat(gOPN(TAC)):gOPN(Base),function(key){if(!(key in TypedArray))hide(TypedArray,key,Base[key])});TypedArray[PROTOTYPE]=TypedArrayPrototype;if(!LIBRARY)TypedArrayPrototype.constructor=TypedArray}var $nativeIterator=TypedArrayPrototype[ITERATOR];var CORRECT_ITER_NAME=!!$nativeIterator&&($nativeIterator.name=="values"||$nativeIterator.name==undefined);var $iterator=$iterators.values;hide(TypedArray,TYPED_CONSTRUCTOR,true);hide(TypedArrayPrototype,TYPED_ARRAY,NAME);hide(TypedArrayPrototype,VIEW,true);hide(TypedArrayPrototype,DEF_CONSTRUCTOR,TypedArray);if(CLAMPED?new TypedArray(1)[TAG]!=NAME:!(TAG in TypedArrayPrototype)){dP(TypedArrayPrototype,TAG,{get:function(){return NAME}})}O[NAME]=TypedArray;$export($export.G+$export.W+$export.F*(TypedArray!=Base),O);$export($export.S,NAME,{BYTES_PER_ELEMENT:BYTES});$export($export.S+$export.F*fails(function(){Base.of.call(TypedArray,1)}),NAME,{from:$from,of:$of});if(!(BYTES_PER_ELEMENT in TypedArrayPrototype))hide(TypedArrayPrototype,BYTES_PER_ELEMENT,BYTES);$export($export.P,NAME,proto);setSpecies(NAME);$export($export.P+$export.F*FORCED_SET,NAME,{set:$set});$export($export.P+$export.F*!CORRECT_ITER_NAME,NAME,$iterators);if(!LIBRARY&&TypedArrayPrototype.toString!=arrayToString)TypedArrayPrototype.toString=arrayToString;$export($export.P+$export.F*fails(function(){new TypedArray(1).slice()}),NAME,{slice:$slice});$export($export.P+$export.F*(fails(function(){return[1,2].toLocaleString()!=new TypedArray([1,2]).toLocaleString()})||!fails(function(){TypedArrayPrototype.toLocaleString.call([1,2])})),NAME,{toLocaleString:$toLocaleString});Iterators[NAME]=CORRECT_ITER_NAME?$nativeIterator:$iterator;if(!LIBRARY&&!CORRECT_ITER_NAME)hide(TypedArrayPrototype,ITERATOR,$iterator)}}else module.exports=function(){}},{"./_an-instance":107,"./_array-copy-within":109,"./_array-fill":110,"./_array-includes":111,"./_array-methods":112,"./_classof":117,"./_ctx":124,"./_descriptors":128,"./_export":132,"./_fails":134,"./_global":140,"./_has":141,"./_hide":142,"./_is-array-iter":148,"./_is-object":151,"./_iter-detect":156,"./_iterators":158,"./_library":159,"./_object-create":168,"./_object-dp":169,"./_object-gopd":171,"./_object-gopn":173,"./_object-gpo":175,"./_property-desc":186,"./_redefine-all":187,"./_set-species":193,"./_species-constructor":197,"./_to-absolute-index":207,"./_to-index":208,"./_to-integer":209,"./_to-length":211,"./_to-object":212,"./_to-primitive":213,"./_typed":216,"./_typed-buffer":215,"./_uid":217,"./_wks":222,"./core.get-iterator-method":223,"./es6.array.iterator":234}],215:[function(require,module,exports){"use strict";var global=require("./_global");var DESCRIPTORS=require("./_descriptors");var LIBRARY=require("./_library");var $typed=require("./_typed");var hide=require("./_hide");var redefineAll=require("./_redefine-all");var fails=require("./_fails");var anInstance=require("./_an-instance");var toInteger=require("./_to-integer");var toLength=require("./_to-length");var toIndex=require("./_to-index");var gOPN=require("./_object-gopn").f;var dP=require("./_object-dp").f;var arrayFill=require("./_array-fill");var setToStringTag=require("./_set-to-string-tag");var ARRAY_BUFFER="ArrayBuffer";var DATA_VIEW="DataView";var PROTOTYPE="prototype";var WRONG_LENGTH="Wrong length!";var WRONG_INDEX="Wrong index!";var $ArrayBuffer=global[ARRAY_BUFFER];var $DataView=global[DATA_VIEW];var Math=global.Math;var RangeError=global.RangeError;var Infinity=global.Infinity;var BaseBuffer=$ArrayBuffer;var abs=Math.abs;var pow=Math.pow;var floor=Math.floor;var log=Math.log;var LN2=Math.LN2;var BUFFER="buffer";var BYTE_LENGTH="byteLength";var BYTE_OFFSET="byteOffset";var $BUFFER=DESCRIPTORS?"_b":BUFFER;var $LENGTH=DESCRIPTORS?"_l":BYTE_LENGTH;var $OFFSET=DESCRIPTORS?"_o":BYTE_OFFSET;function packIEEE754(value,mLen,nBytes){var buffer=new Array(nBytes);var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var rt=mLen===23?pow(2,-24)-pow(2,-77):0;var i=0;var s=value<0||value===0&&1/value<0?1:0;var e,m,c;value=abs(value);if(value!=value||value===Infinity){m=value!=value?1:0;e=eMax}else{e=floor(log(value)/LN2);if(value*(c=pow(2,-e))<1){e--;c*=2}if(e+eBias>=1){value+=rt/c}else{value+=rt*pow(2,1-eBias)}if(value*c>=2){e++;c/=2}if(e+eBias>=eMax){m=0;e=eMax}else if(e+eBias>=1){m=(value*c-1)*pow(2,mLen);e=e+eBias}else{m=value*pow(2,eBias-1)*pow(2,mLen);e=0}}for(;mLen>=8;buffer[i++]=m&255,m/=256,mLen-=8);e=e<<mLen|m;eLen+=mLen;for(;eLen>0;buffer[i++]=e&255,e/=256,eLen-=8);buffer[--i]|=s*128;return buffer}function unpackIEEE754(buffer,mLen,nBytes){var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var nBits=eLen-7;var i=nBytes-1;var s=buffer[i--];var e=s&127;var m;s>>=7;for(;nBits>0;e=e*256+buffer[i],i--,nBits-=8);m=e&(1<<-nBits)-1;e>>=-nBits;nBits+=mLen;for(;nBits>0;m=m*256+buffer[i],i--,nBits-=8);if(e===0){e=1-eBias}else if(e===eMax){return m?NaN:s?-Infinity:Infinity}else{m=m+pow(2,mLen);e=e-eBias}return(s?-1:1)*m*pow(2,e-mLen)}function unpackI32(bytes){return bytes[3]<<24|bytes[2]<<16|bytes[1]<<8|bytes[0]}function packI8(it){return[it&255]}function packI16(it){return[it&255,it>>8&255]}function packI32(it){return[it&255,it>>8&255,it>>16&255,it>>24&255]}function packF64(it){return packIEEE754(it,52,8)}function packF32(it){return packIEEE754(it,23,4)}function addGetter(C,key,internal){dP(C[PROTOTYPE],key,{get:function(){return this[internal]}})}function get(view,bytes,index,isLittleEndian){var numIndex=+index;var intIndex=toIndex(numIndex);if(intIndex+bytes>view[$LENGTH])throw RangeError(WRONG_INDEX);var store=view[$BUFFER]._b;var start=intIndex+view[$OFFSET];var pack=store.slice(start,start+bytes);return isLittleEndian?pack:pack.reverse()}function set(view,bytes,index,conversion,value,isLittleEndian){var numIndex=+index;var intIndex=toIndex(numIndex);if(intIndex+bytes>view[$LENGTH])throw RangeError(WRONG_INDEX);var store=view[$BUFFER]._b;var start=intIndex+view[$OFFSET];var pack=conversion(+value);for(var i=0;i<bytes;i++)store[start+i]=pack[isLittleEndian?i:bytes-i-1]}if(!$typed.ABV){$ArrayBuffer=function ArrayBuffer(length){anInstance(this,$ArrayBuffer,ARRAY_BUFFER);var byteLength=toIndex(length);this._b=arrayFill.call(new Array(byteLength),0);this[$LENGTH]=byteLength};$DataView=function DataView(buffer,byteOffset,byteLength){anInstance(this,$DataView,DATA_VIEW);anInstance(buffer,$ArrayBuffer,DATA_VIEW);var bufferLength=buffer[$LENGTH];var offset=toInteger(byteOffset);if(offset<0||offset>bufferLength)throw RangeError("Wrong offset!");byteLength=byteLength===undefined?bufferLength-offset:toLength(byteLength);if(offset+byteLength>bufferLength)throw RangeError(WRONG_LENGTH);this[$BUFFER]=buffer;this[$OFFSET]=offset;this[$LENGTH]=byteLength};if(DESCRIPTORS){addGetter($ArrayBuffer,BYTE_LENGTH,"_l");addGetter($DataView,BUFFER,"_b");addGetter($DataView,BYTE_LENGTH,"_l");addGetter($DataView,BYTE_OFFSET,"_o")}redefineAll($DataView[PROTOTYPE],{getInt8:function getInt8(byteOffset){return get(this,1,byteOffset)[0]<<24>>24},getUint8:function getUint8(byteOffset){return get(this,1,byteOffset)[0]},getInt16:function getInt16(byteOffset){var bytes=get(this,2,byteOffset,arguments[1]);return(bytes[1]<<8|bytes[0])<<16>>16},getUint16:function getUint16(byteOffset){var bytes=get(this,2,byteOffset,arguments[1]);return bytes[1]<<8|bytes[0]},getInt32:function getInt32(byteOffset){return unpackI32(get(this,4,byteOffset,arguments[1]))},getUint32:function getUint32(byteOffset){return unpackI32(get(this,4,byteOffset,arguments[1]))>>>0},getFloat32:function getFloat32(byteOffset){return unpackIEEE754(get(this,4,byteOffset,arguments[1]),23,4)},getFloat64:function getFloat64(byteOffset){return unpackIEEE754(get(this,8,byteOffset,arguments[1]),52,8)},setInt8:function setInt8(byteOffset,value){set(this,1,byteOffset,packI8,value)},setUint8:function setUint8(byteOffset,value){set(this,1,byteOffset,packI8,value)},setInt16:function setInt16(byteOffset,value){set(this,2,byteOffset,packI16,value,arguments[2])},setUint16:function setUint16(byteOffset,value){set(this,2,byteOffset,packI16,value,arguments[2])},setInt32:function setInt32(byteOffset,value){set(this,4,byteOffset,packI32,value,arguments[2])},setUint32:function setUint32(byteOffset,value){set(this,4,byteOffset,packI32,value,arguments[2])},setFloat32:function setFloat32(byteOffset,value){set(this,4,byteOffset,packF32,value,arguments[2])},setFloat64:function setFloat64(byteOffset,value){set(this,8,byteOffset,packF64,value,arguments[2])}})}else{if(!fails(function(){$ArrayBuffer(1)})||!fails(function(){new $ArrayBuffer(-1)})||fails(function(){new $ArrayBuffer;new $ArrayBuffer(1.5);new $ArrayBuffer(NaN);return $ArrayBuffer.name!=ARRAY_BUFFER})){$ArrayBuffer=function ArrayBuffer(length){anInstance(this,$ArrayBuffer);return new BaseBuffer(toIndex(length))};var ArrayBufferProto=$ArrayBuffer[PROTOTYPE]=BaseBuffer[PROTOTYPE];for(var keys=gOPN(BaseBuffer),j=0,key;keys.length>j;){if(!((key=keys[j++])in $ArrayBuffer))hide($ArrayBuffer,key,BaseBuffer[key])}if(!LIBRARY)ArrayBufferProto.constructor=$ArrayBuffer}var view=new $DataView(new $ArrayBuffer(2));var $setInt8=$DataView[PROTOTYPE].setInt8;view.setInt8(0,2147483648);view.setInt8(1,2147483649);if(view.getInt8(0)||!view.getInt8(1))redefineAll($DataView[PROTOTYPE],{setInt8:function setInt8(byteOffset,value){$setInt8.call(this,byteOffset,value<<24>>24)},setUint8:function setUint8(byteOffset,value){$setInt8.call(this,byteOffset,value<<24>>24)}},true)}setToStringTag($ArrayBuffer,ARRAY_BUFFER);setToStringTag($DataView,DATA_VIEW);hide($DataView[PROTOTYPE],$typed.VIEW,true);exports[ARRAY_BUFFER]=$ArrayBuffer;exports[DATA_VIEW]=$DataView},{"./_an-instance":107,"./_array-fill":110,"./_descriptors":128,"./_fails":134,"./_global":140,"./_hide":142,"./_library":159,"./_object-dp":169,"./_object-gopn":173,"./_redefine-all":187,"./_set-to-string-tag":194,"./_to-index":208,"./_to-integer":209,"./_to-length":211,"./_typed":216}],216:[function(require,module,exports){var global=require("./_global");var hide=require("./_hide");var uid=require("./_uid");var TYPED=uid("typed_array");var VIEW=uid("view");var ABV=!!(global.ArrayBuffer&&global.DataView);var CONSTR=ABV;var i=0;var l=9;var Typed;var TypedArrayConstructors="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");while(i<l){if(Typed=global[TypedArrayConstructors[i++]]){hide(Typed.prototype,TYPED,true);hide(Typed.prototype,VIEW,true)}else CONSTR=false}module.exports={ABV:ABV,CONSTR:CONSTR,TYPED:TYPED,VIEW:VIEW}},{"./_global":140,"./_hide":142,"./_uid":217}],217:[function(require,module,exports){var id=0;var px=Math.random();module.exports=function(key){return"Symbol(".concat(key===undefined?"":key,")_",(++id+px).toString(36))}},{}],218:[function(require,module,exports){var global=require("./_global");var navigator=global.navigator;module.exports=navigator&&navigator.userAgent||""},{"./_global":140}],219:[function(require,module,exports){var isObject=require("./_is-object");module.exports=function(it,TYPE){if(!isObject(it)||it._t!==TYPE)throw TypeError("Incompatible receiver, "+TYPE+" required!");return it}},{"./_is-object":151}],220:[function(require,module,exports){var global=require("./_global");var core=require("./_core");var LIBRARY=require("./_library");var wksExt=require("./_wks-ext");var defineProperty=require("./_object-dp").f;module.exports=function(name){var $Symbol=core.Symbol||(core.Symbol=LIBRARY?{}:global.Symbol||{});if(name.charAt(0)!="_"&&!(name in $Symbol))defineProperty($Symbol,name,{value:wksExt.f(name)})}},{"./_core":122,"./_global":140,"./_library":159,"./_object-dp":169,"./_wks-ext":221}],221:[function(require,module,exports){exports.f=require("./_wks")},{"./_wks":222}],222:[function(require,module,exports){var store=require("./_shared")("wks");var uid=require("./_uid");var Symbol=require("./_global").Symbol;var USE_SYMBOL=typeof Symbol=="function";var $exports=module.exports=function(name){return store[name]||(store[name]=USE_SYMBOL&&Symbol[name]||(USE_SYMBOL?Symbol:uid)("Symbol."+name))};$exports.store=store},{"./_global":140,"./_shared":196,"./_uid":217}],223:[function(require,module,exports){var classof=require("./_classof");var ITERATOR=require("./_wks")("iterator");var Iterators=require("./_iterators");module.exports=require("./_core").getIteratorMethod=function(it){if(it!=undefined)return it[ITERATOR]||it["@@iterator"]||Iterators[classof(it)]}},{"./_classof":117,"./_core":122,"./_iterators":158,"./_wks":222}],224:[function(require,module,exports){var $export=require("./_export");$export($export.P,"Array",{copyWithin:require("./_array-copy-within")});require("./_add-to-unscopables")("copyWithin")},{"./_add-to-unscopables":105,"./_array-copy-within":109,"./_export":132}],225:[function(require,module,exports){"use strict";var $export=require("./_export");var $every=require("./_array-methods")(4);$export($export.P+$export.F*!require("./_strict-method")([].every,true),"Array",{every:function every(callbackfn){return $every(this,callbackfn,arguments[1])}})},{"./_array-methods":112,"./_export":132,"./_strict-method":198}],226:[function(require,module,exports){var $export=require("./_export");$export($export.P,"Array",{fill:require("./_array-fill")});require("./_add-to-unscopables")("fill")},{"./_add-to-unscopables":105,"./_array-fill":110,"./_export":132}],227:[function(require,module,exports){"use strict";var $export=require("./_export");var $filter=require("./_array-methods")(2);$export($export.P+$export.F*!require("./_strict-method")([].filter,true),"Array",{filter:function filter(callbackfn){return $filter(this,callbackfn,arguments[1])}})},{"./_array-methods":112,"./_export":132,"./_strict-method":198}],228:[function(require,module,exports){"use strict";var $export=require("./_export");var $find=require("./_array-methods")(6);var KEY="findIndex";var forced=true;if(KEY in[])Array(1)[KEY](function(){forced=false});$export($export.P+$export.F*forced,"Array",{findIndex:function findIndex(callbackfn){return $find(this,callbackfn,arguments.length>1?arguments[1]:undefined)}});require("./_add-to-unscopables")(KEY)},{"./_add-to-unscopables":105,"./_array-methods":112,"./_export":132}],229:[function(require,module,exports){"use strict";var $export=require("./_export");var $find=require("./_array-methods")(5);var KEY="find";var forced=true;if(KEY in[])Array(1)[KEY](function(){forced=false});$export($export.P+$export.F*forced,"Array",{find:function find(callbackfn){return $find(this,callbackfn,arguments.length>1?arguments[1]:undefined)}});require("./_add-to-unscopables")(KEY)},{"./_add-to-unscopables":105,"./_array-methods":112,"./_export":132}],230:[function(require,module,exports){"use strict";var $export=require("./_export");var $forEach=require("./_array-methods")(0);var STRICT=require("./_strict-method")([].forEach,true);$export($export.P+$export.F*!STRICT,"Array",{forEach:function forEach(callbackfn){return $forEach(this,callbackfn,arguments[1])}})},{"./_array-methods":112,"./_export":132,"./_strict-method":198}],231:[function(require,module,exports){"use strict";var ctx=require("./_ctx");var $export=require("./_export");var toObject=require("./_to-object");var call=require("./_iter-call");var isArrayIter=require("./_is-array-iter");var toLength=require("./_to-length");var createProperty=require("./_create-property");var getIterFn=require("./core.get-iterator-method");$export($export.S+$export.F*!require("./_iter-detect")(function(iter){Array.from(iter)}),"Array",{from:function from(arrayLike){var O=toObject(arrayLike);var C=typeof this=="function"?this:Array;var aLen=arguments.length;var mapfn=aLen>1?arguments[1]:undefined;var mapping=mapfn!==undefined;var index=0;var iterFn=getIterFn(O);var length,result,step,iterator;if(mapping)mapfn=ctx(mapfn,aLen>2?arguments[2]:undefined,2);if(iterFn!=undefined&&!(C==Array&&isArrayIter(iterFn))){for(iterator=iterFn.call(O),result=new C;!(step=iterator.next()).done;index++){createProperty(result,index,mapping?call(iterator,mapfn,[step.value,index],true):step.value)}}else{length=toLength(O.length);for(result=new C(length);length>index;index++){createProperty(result,index,mapping?mapfn(O[index],index):O[index])}}result.length=index;return result}})},{"./_create-property":123,"./_ctx":124,"./_export":132,"./_is-array-iter":148,"./_iter-call":153,"./_iter-detect":156,"./_to-length":211,"./_to-object":212,"./core.get-iterator-method":223}],232:[function(require,module,exports){"use strict";var $export=require("./_export");var $indexOf=require("./_array-includes")(false);var $native=[].indexOf;var NEGATIVE_ZERO=!!$native&&1/[1].indexOf(1,-0)<0;$export($export.P+$export.F*(NEGATIVE_ZERO||!require("./_strict-method")($native)),"Array",{indexOf:function indexOf(searchElement){return NEGATIVE_ZERO?$native.apply(this,arguments)||0:$indexOf(this,searchElement,arguments[1])}})},{"./_array-includes":111,"./_export":132,"./_strict-method":198}],233:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Array",{isArray:require("./_is-array")})},{"./_export":132,"./_is-array":149}],234:[function(require,module,exports){"use strict";var addToUnscopables=require("./_add-to-unscopables");var step=require("./_iter-step");var Iterators=require("./_iterators");var toIObject=require("./_to-iobject");module.exports=require("./_iter-define")(Array,"Array",function(iterated,kind){this._t=toIObject(iterated);this._i=0;this._k=kind},function(){var O=this._t;var kind=this._k;var index=this._i++;if(!O||index>=O.length){this._t=undefined;return step(1)}if(kind=="keys")return step(0,index);if(kind=="values")return step(0,O[index]);return step(0,[index,O[index]])},"values");Iterators.Arguments=Iterators.Array;addToUnscopables("keys");addToUnscopables("values");addToUnscopables("entries")},{"./_add-to-unscopables":105,"./_iter-define":155,"./_iter-step":157,"./_iterators":158,"./_to-iobject":210}],235:[function(require,module,exports){"use strict";var $export=require("./_export");var toIObject=require("./_to-iobject");var arrayJoin=[].join;$export($export.P+$export.F*(require("./_iobject")!=Object||!require("./_strict-method")(arrayJoin)),"Array",{join:function join(separator){return arrayJoin.call(toIObject(this),separator===undefined?",":separator)}})},{"./_export":132,"./_iobject":147,"./_strict-method":198,"./_to-iobject":210}],236:[function(require,module,exports){"use strict";var $export=require("./_export");var toIObject=require("./_to-iobject");var toInteger=require("./_to-integer");var toLength=require("./_to-length");var $native=[].lastIndexOf;var NEGATIVE_ZERO=!!$native&&1/[1].lastIndexOf(1,-0)<0;$export($export.P+$export.F*(NEGATIVE_ZERO||!require("./_strict-method")($native)),"Array",{lastIndexOf:function lastIndexOf(searchElement){if(NEGATIVE_ZERO)return $native.apply(this,arguments)||0;var O=toIObject(this);var length=toLength(O.length);var index=length-1;if(arguments.length>1)index=Math.min(index,toInteger(arguments[1]));if(index<0)index=length+index;for(;index>=0;index--)if(index in O)if(O[index]===searchElement)return index||0;return-1}})},{"./_export":132,"./_strict-method":198,"./_to-integer":209,"./_to-iobject":210,"./_to-length":211}],237:[function(require,module,exports){"use strict";var $export=require("./_export");var $map=require("./_array-methods")(1);$export($export.P+$export.F*!require("./_strict-method")([].map,true),"Array",{map:function map(callbackfn){return $map(this,callbackfn,arguments[1])}})},{"./_array-methods":112,"./_export":132,"./_strict-method":198}],238:[function(require,module,exports){"use strict";var $export=require("./_export");var createProperty=require("./_create-property");$export($export.S+$export.F*require("./_fails")(function(){function F(){}return!(Array.of.call(F)instanceof F)}),"Array",{of:function of(){var index=0;var aLen=arguments.length;var result=new(typeof this=="function"?this:Array)(aLen);while(aLen>index)createProperty(result,index,arguments[index++]);result.length=aLen;return result}})},{"./_create-property":123,"./_export":132,"./_fails":134}],239:[function(require,module,exports){"use strict";var $export=require("./_export");var $reduce=require("./_array-reduce");$export($export.P+$export.F*!require("./_strict-method")([].reduceRight,true),"Array",{reduceRight:function reduceRight(callbackfn){return $reduce(this,callbackfn,arguments.length,arguments[1],true)}})},{"./_array-reduce":113,"./_export":132,"./_strict-method":198}],240:[function(require,module,exports){"use strict";var $export=require("./_export");var $reduce=require("./_array-reduce");$export($export.P+$export.F*!require("./_strict-method")([].reduce,true),"Array",{reduce:function reduce(callbackfn){return $reduce(this,callbackfn,arguments.length,arguments[1],false)}})},{"./_array-reduce":113,"./_export":132,"./_strict-method":198}],241:[function(require,module,exports){"use strict";var $export=require("./_export");var html=require("./_html");var cof=require("./_cof");var toAbsoluteIndex=require("./_to-absolute-index");var toLength=require("./_to-length");var arraySlice=[].slice;$export($export.P+$export.F*require("./_fails")(function(){if(html)arraySlice.call(html)}),"Array",{slice:function slice(begin,end){var len=toLength(this.length);var klass=cof(this);end=end===undefined?len:end;if(klass=="Array")return arraySlice.call(this,begin,end);var start=toAbsoluteIndex(begin,len);var upTo=toAbsoluteIndex(end,len);var size=toLength(upTo-start);var cloned=new Array(size);var i=0;for(;i<size;i++)cloned[i]=klass=="String"?this.charAt(start+i):this[start+i];return cloned}})},{"./_cof":118,"./_export":132,"./_fails":134,"./_html":143,"./_to-absolute-index":207,"./_to-length":211}],242:[function(require,module,exports){"use strict";var $export=require("./_export");var $some=require("./_array-methods")(3);$export($export.P+$export.F*!require("./_strict-method")([].some,true),"Array",{some:function some(callbackfn){return $some(this,callbackfn,arguments[1])}})},{"./_array-methods":112,"./_export":132,"./_strict-method":198}],243:[function(require,module,exports){"use strict";var $export=require("./_export");var aFunction=require("./_a-function");var toObject=require("./_to-object");var fails=require("./_fails");var $sort=[].sort;var test=[1,2,3];$export($export.P+$export.F*(fails(function(){test.sort(undefined)})||!fails(function(){test.sort(null)})||!require("./_strict-method")($sort)),"Array",{sort:function sort(comparefn){return comparefn===undefined?$sort.call(toObject(this)):$sort.call(toObject(this),aFunction(comparefn))}})},{"./_a-function":103,"./_export":132,"./_fails":134,"./_strict-method":198,"./_to-object":212}],244:[function(require,module,exports){require("./_set-species")("Array")},{"./_set-species":193}],245:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Date",{now:function(){return(new Date).getTime()}})},{"./_export":132}],246:[function(require,module,exports){var $export=require("./_export");var toISOString=require("./_date-to-iso-string");$export($export.P+$export.F*(Date.prototype.toISOString!==toISOString),"Date",{toISOString:toISOString})},{"./_date-to-iso-string":125,"./_export":132}],247:[function(require,module,exports){"use strict";var $export=require("./_export");var toObject=require("./_to-object");var toPrimitive=require("./_to-primitive");$export($export.P+$export.F*require("./_fails")(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1}),"Date",{toJSON:function toJSON(key){var O=toObject(this);var pv=toPrimitive(O);return typeof pv=="number"&&!isFinite(pv)?null:O.toISOString()}})},{"./_export":132,"./_fails":134,"./_to-object":212,"./_to-primitive":213}],248:[function(require,module,exports){var TO_PRIMITIVE=require("./_wks")("toPrimitive");var proto=Date.prototype;if(!(TO_PRIMITIVE in proto))require("./_hide")(proto,TO_PRIMITIVE,require("./_date-to-primitive"))},{"./_date-to-primitive":126,"./_hide":142,"./_wks":222}],249:[function(require,module,exports){var DateProto=Date.prototype;var INVALID_DATE="Invalid Date";var TO_STRING="toString";var $toString=DateProto[TO_STRING];var getTime=DateProto.getTime;if(new Date(NaN)+""!=INVALID_DATE){require("./_redefine")(DateProto,TO_STRING,function toString(){var value=getTime.call(this);return value===value?$toString.call(this):INVALID_DATE})}},{"./_redefine":188}],250:[function(require,module,exports){var $export=require("./_export");$export($export.P,"Function",{bind:require("./_bind")})},{"./_bind":116,"./_export":132}],251:[function(require,module,exports){"use strict";var isObject=require("./_is-object");var getPrototypeOf=require("./_object-gpo");var HAS_INSTANCE=require("./_wks")("hasInstance");var FunctionProto=Function.prototype;if(!(HAS_INSTANCE in FunctionProto))require("./_object-dp").f(FunctionProto,HAS_INSTANCE,{value:function(O){if(typeof this!="function"||!isObject(O))return false;if(!isObject(this.prototype))return O instanceof this;while(O=getPrototypeOf(O))if(this.prototype===O)return true;return false}})},{"./_is-object":151,"./_object-dp":169,"./_object-gpo":175,"./_wks":222}],252:[function(require,module,exports){var dP=require("./_object-dp").f;var FProto=Function.prototype;var nameRE=/^\s*function ([^ (]*)/;var NAME="name";NAME in FProto||require("./_descriptors")&&dP(FProto,NAME,{configurable:true,get:function(){try{return(""+this).match(nameRE)[1]}catch(e){return""}}})},{"./_descriptors":128,"./_object-dp":169}],253:[function(require,module,exports){"use strict";var strong=require("./_collection-strong");var validate=require("./_validate-collection");var MAP="Map";module.exports=require("./_collection")(MAP,function(get){return function Map(){return get(this,arguments.length>0?arguments[0]:undefined)}},{get:function get(key){var entry=strong.getEntry(validate(this,MAP),key);return entry&&entry.v},set:function set(key,value){return strong.def(validate(this,MAP),key===0?0:key,value)}},strong,true)},{"./_collection":121,"./_collection-strong":119,"./_validate-collection":219}],254:[function(require,module,exports){var $export=require("./_export");var log1p=require("./_math-log1p");var sqrt=Math.sqrt;var $acosh=Math.acosh;$export($export.S+$export.F*!($acosh&&Math.floor($acosh(Number.MAX_VALUE))==710&&$acosh(Infinity)==Infinity),"Math",{acosh:function acosh(x){return(x=+x)<1?NaN:x>94906265.62425156?Math.log(x)+Math.LN2:log1p(x-1+sqrt(x-1)*sqrt(x+1))}})},{"./_export":132,"./_math-log1p":162}],255:[function(require,module,exports){var $export=require("./_export");var $asinh=Math.asinh;function asinh(x){return!isFinite(x=+x)||x==0?x:x<0?-asinh(-x):Math.log(x+Math.sqrt(x*x+1))}$export($export.S+$export.F*!($asinh&&1/$asinh(0)>0),"Math",{asinh:asinh})},{"./_export":132}],256:[function(require,module,exports){var $export=require("./_export");var $atanh=Math.atanh;$export($export.S+$export.F*!($atanh&&1/$atanh(-0)<0),"Math",{atanh:function atanh(x){return(x=+x)==0?x:Math.log((1+x)/(1-x))/2}})},{"./_export":132}],257:[function(require,module,exports){var $export=require("./_export");var sign=require("./_math-sign");$export($export.S,"Math",{cbrt:function cbrt(x){return sign(x=+x)*Math.pow(Math.abs(x),1/3)}})},{"./_export":132,"./_math-sign":163}],258:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Math",{clz32:function clz32(x){return(x>>>=0)?31-Math.floor(Math.log(x+.5)*Math.LOG2E):32}})},{"./_export":132}],259:[function(require,module,exports){var $export=require("./_export");var exp=Math.exp;$export($export.S,"Math",{cosh:function cosh(x){return(exp(x=+x)+exp(-x))/2}})},{"./_export":132}],260:[function(require,module,exports){var $export=require("./_export");var $expm1=require("./_math-expm1");$export($export.S+$export.F*($expm1!=Math.expm1),"Math",{expm1:$expm1})},{"./_export":132,"./_math-expm1":160}],261:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Math",{fround:require("./_math-fround")})},{"./_export":132,"./_math-fround":161}],262:[function(require,module,exports){var $export=require("./_export");var abs=Math.abs;$export($export.S,"Math",{hypot:function hypot(value1,value2){var sum=0;var i=0;var aLen=arguments.length;var larg=0;var arg,div;while(i<aLen){arg=abs(arguments[i++]);if(larg<arg){div=larg/arg;sum=sum*div*div+1;larg=arg}else if(arg>0){div=arg/larg;sum+=div*div}else sum+=arg}return larg===Infinity?Infinity:larg*Math.sqrt(sum)}})},{"./_export":132}],263:[function(require,module,exports){var $export=require("./_export");var $imul=Math.imul;$export($export.S+$export.F*require("./_fails")(function(){return $imul(4294967295,5)!=-5||$imul.length!=2}),"Math",{imul:function imul(x,y){var UINT16=65535;var xn=+x;var yn=+y;var xl=UINT16&xn;var yl=UINT16&yn;return 0|xl*yl+((UINT16&xn>>>16)*yl+xl*(UINT16&yn>>>16)<<16>>>0)}})},{"./_export":132,"./_fails":134}],264:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Math",{log10:function log10(x){return Math.log(x)*Math.LOG10E}})},{"./_export":132}],265:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Math",{log1p:require("./_math-log1p")})},{"./_export":132,"./_math-log1p":162}],266:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Math",{log2:function log2(x){return Math.log(x)/Math.LN2}})},{"./_export":132}],267:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Math",{sign:require("./_math-sign")})},{"./_export":132,"./_math-sign":163}],268:[function(require,module,exports){var $export=require("./_export");var expm1=require("./_math-expm1");var exp=Math.exp;$export($export.S+$export.F*require("./_fails")(function(){return!Math.sinh(-2e-17)!=-2e-17}),"Math",{sinh:function sinh(x){return Math.abs(x=+x)<1?(expm1(x)-expm1(-x))/2:(exp(x-1)-exp(-x-1))*(Math.E/2)}})},{"./_export":132,"./_fails":134,"./_math-expm1":160}],269:[function(require,module,exports){var $export=require("./_export");var expm1=require("./_math-expm1");var exp=Math.exp;$export($export.S,"Math",{tanh:function tanh(x){var a=expm1(x=+x);var b=expm1(-x);return a==Infinity?1:b==Infinity?-1:(a-b)/(exp(x)+exp(-x))}})},{"./_export":132,"./_math-expm1":160}],270:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Math",{trunc:function trunc(it){return(it>0?Math.floor:Math.ceil)(it)}})},{"./_export":132}],271:[function(require,module,exports){"use strict";var global=require("./_global");var has=require("./_has");var cof=require("./_cof");var inheritIfRequired=require("./_inherit-if-required");var toPrimitive=require("./_to-primitive");var fails=require("./_fails");var gOPN=require("./_object-gopn").f;var gOPD=require("./_object-gopd").f;var dP=require("./_object-dp").f;var $trim=require("./_string-trim").trim;var NUMBER="Number";var $Number=global[NUMBER];var Base=$Number;var proto=$Number.prototype;var BROKEN_COF=cof(require("./_object-create")(proto))==NUMBER;var TRIM="trim"in String.prototype;var toNumber=function(argument){var it=toPrimitive(argument,false);if(typeof it=="string"&&it.length>2){it=TRIM?it.trim():$trim(it,3);var first=it.charCodeAt(0);var third,radix,maxCode;if(first===43||first===45){third=it.charCodeAt(2);if(third===88||third===120)return NaN}else if(first===48){switch(it.charCodeAt(1)){case 66:case 98:radix=2;maxCode=49;break;case 79:case 111:radix=8;maxCode=55;break;default:return+it}for(var digits=it.slice(2),i=0,l=digits.length,code;i<l;i++){code=digits.charCodeAt(i);if(code<48||code>maxCode)return NaN}return parseInt(digits,radix)}}return+it};if(!$Number(" 0o1")||!$Number("0b1")||$Number("+0x1")){$Number=function Number(value){var it=arguments.length<1?0:value;var that=this;return that instanceof $Number&&(BROKEN_COF?fails(function(){proto.valueOf.call(that)}):cof(that)!=NUMBER)?inheritIfRequired(new Base(toNumber(it)),that,$Number):toNumber(it)};for(var keys=require("./_descriptors")?gOPN(Base):("MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,"+"EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,"+"MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger").split(","),j=0,key;keys.length>j;j++){if(has(Base,key=keys[j])&&!has($Number,key)){dP($Number,key,gOPD(Base,key))}}$Number.prototype=proto;proto.constructor=$Number;require("./_redefine")(global,NUMBER,$Number)}},{"./_cof":118,"./_descriptors":128,"./_fails":134,"./_global":140,"./_has":141,"./_inherit-if-required":145,"./_object-create":168,"./_object-dp":169,"./_object-gopd":171,"./_object-gopn":173,"./_redefine":188,"./_string-trim":204,"./_to-primitive":213}],272:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Number",{EPSILON:Math.pow(2,-52)})},{"./_export":132}],273:[function(require,module,exports){var $export=require("./_export");var _isFinite=require("./_global").isFinite;$export($export.S,"Number",{isFinite:function isFinite(it){return typeof it=="number"&&_isFinite(it)}})},{"./_export":132,"./_global":140}],274:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Number",{isInteger:require("./_is-integer")})},{"./_export":132,"./_is-integer":150}],275:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Number",{isNaN:function isNaN(number){return number!=number}})},{"./_export":132}],276:[function(require,module,exports){var $export=require("./_export");var isInteger=require("./_is-integer");var abs=Math.abs;$export($export.S,"Number",{isSafeInteger:function isSafeInteger(number){return isInteger(number)&&abs(number)<=9007199254740991}})},{"./_export":132,"./_is-integer":150}],277:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},{"./_export":132}],278:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},{"./_export":132}],279:[function(require,module,exports){var $export=require("./_export");var $parseFloat=require("./_parse-float");$export($export.S+$export.F*(Number.parseFloat!=$parseFloat),"Number",{parseFloat:$parseFloat})},{"./_export":132,"./_parse-float":182}],280:[function(require,module,exports){var $export=require("./_export");var $parseInt=require("./_parse-int");$export($export.S+$export.F*(Number.parseInt!=$parseInt),"Number",{parseInt:$parseInt})},{"./_export":132,"./_parse-int":183}],281:[function(require,module,exports){"use strict";var $export=require("./_export");var toInteger=require("./_to-integer");var aNumberValue=require("./_a-number-value");var repeat=require("./_string-repeat");var $toFixed=1..toFixed;var floor=Math.floor;var data=[0,0,0,0,0,0];var ERROR="Number.toFixed: incorrect invocation!";var ZERO="0";var multiply=function(n,c){var i=-1;var c2=c;while(++i<6){c2+=n*data[i];data[i]=c2%1e7;c2=floor(c2/1e7)}};var divide=function(n){var i=6;var c=0;while(--i>=0){c+=data[i];data[i]=floor(c/n);c=c%n*1e7}};var numToString=function(){var i=6;var s="";while(--i>=0){if(s!==""||i===0||data[i]!==0){var t=String(data[i]);s=s===""?t:s+repeat.call(ZERO,7-t.length)+t}}return s};var pow=function(x,n,acc){return n===0?acc:n%2===1?pow(x,n-1,acc*x):pow(x*x,n/2,acc)};var log=function(x){var n=0;var x2=x;while(x2>=4096){n+=12;x2/=4096}while(x2>=2){n+=1;x2/=2}return n};$export($export.P+$export.F*(!!$toFixed&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||(0xde0b6b3a7640080).toFixed(0)!=="1000000000000000128")||!require("./_fails")(function(){$toFixed.call({})})),"Number",{toFixed:function toFixed(fractionDigits){var x=aNumberValue(this,ERROR);var f=toInteger(fractionDigits);var s="";var m=ZERO;var e,z,j,k;if(f<0||f>20)throw RangeError(ERROR);if(x!=x)return"NaN";if(x<=-1e21||x>=1e21)return String(x);if(x<0){s="-";x=-x}if(x>1e-21){e=log(x*pow(2,69,1))-69;z=e<0?x*pow(2,-e,1):x/pow(2,e,1);z*=4503599627370496;e=52-e;if(e>0){multiply(0,z);j=f;while(j>=7){multiply(1e7,0);j-=7}multiply(pow(10,j,1),0);j=e-1;while(j>=23){divide(1<<23);j-=23}divide(1<<j);multiply(1,1);divide(2);m=numToString()}else{multiply(0,z);multiply(1<<-e,0);m=numToString()+repeat.call(ZERO,f)}}if(f>0){k=m.length;m=s+(k<=f?"0."+repeat.call(ZERO,f-k)+m:m.slice(0,k-f)+"."+m.slice(k-f))}else{m=s+m}return m}})},{"./_a-number-value":104,"./_export":132,"./_fails":134,"./_string-repeat":203,"./_to-integer":209}],282:[function(require,module,exports){"use strict";var $export=require("./_export");var $fails=require("./_fails");var aNumberValue=require("./_a-number-value");var $toPrecision=1..toPrecision;$export($export.P+$export.F*($fails(function(){return $toPrecision.call(1,undefined)!=="1"})||!$fails(function(){$toPrecision.call({})})),"Number",{toPrecision:function toPrecision(precision){var that=aNumberValue(this,"Number#toPrecision: incorrect invocation!");return precision===undefined?$toPrecision.call(that):$toPrecision.call(that,precision)}})},{"./_a-number-value":104,"./_export":132,"./_fails":134}],283:[function(require,module,exports){var $export=require("./_export");$export($export.S+$export.F,"Object",{assign:require("./_object-assign")})},{"./_export":132,"./_object-assign":167}],284:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Object",{create:require("./_object-create")})},{"./_export":132,"./_object-create":168}],285:[function(require,module,exports){var $export=require("./_export");$export($export.S+$export.F*!require("./_descriptors"),"Object",{defineProperties:require("./_object-dps")})},{"./_descriptors":128,"./_export":132,"./_object-dps":170}],286:[function(require,module,exports){var $export=require("./_export");$export($export.S+$export.F*!require("./_descriptors"),"Object",{defineProperty:require("./_object-dp").f})},{"./_descriptors":128,"./_export":132,"./_object-dp":169}],287:[function(require,module,exports){var isObject=require("./_is-object");var meta=require("./_meta").onFreeze;require("./_object-sap")("freeze",function($freeze){return function freeze(it){return $freeze&&isObject(it)?$freeze(meta(it)):it}})},{"./_is-object":151,"./_meta":164,"./_object-sap":179}],288:[function(require,module,exports){var toIObject=require("./_to-iobject");var $getOwnPropertyDescriptor=require("./_object-gopd").f;require("./_object-sap")("getOwnPropertyDescriptor",function(){return function getOwnPropertyDescriptor(it,key){return $getOwnPropertyDescriptor(toIObject(it),key)}})},{"./_object-gopd":171,"./_object-sap":179,"./_to-iobject":210}],289:[function(require,module,exports){require("./_object-sap")("getOwnPropertyNames",function(){return require("./_object-gopn-ext").f})},{"./_object-gopn-ext":172,"./_object-sap":179}],290:[function(require,module,exports){var toObject=require("./_to-object");var $getPrototypeOf=require("./_object-gpo");require("./_object-sap")("getPrototypeOf",function(){return function getPrototypeOf(it){return $getPrototypeOf(toObject(it))}})},{"./_object-gpo":175,"./_object-sap":179,"./_to-object":212}],291:[function(require,module,exports){var isObject=require("./_is-object");require("./_object-sap")("isExtensible",function($isExtensible){return function isExtensible(it){return isObject(it)?$isExtensible?$isExtensible(it):true:false}})},{"./_is-object":151,"./_object-sap":179}],292:[function(require,module,exports){var isObject=require("./_is-object");require("./_object-sap")("isFrozen",function($isFrozen){return function isFrozen(it){return isObject(it)?$isFrozen?$isFrozen(it):false:true}})},{"./_is-object":151,"./_object-sap":179}],293:[function(require,module,exports){var isObject=require("./_is-object");require("./_object-sap")("isSealed",function($isSealed){return function isSealed(it){return isObject(it)?$isSealed?$isSealed(it):false:true}})},{"./_is-object":151,"./_object-sap":179}],294:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Object",{is:require("./_same-value")})},{"./_export":132,"./_same-value":191}],295:[function(require,module,exports){var toObject=require("./_to-object");var $keys=require("./_object-keys");require("./_object-sap")("keys",function(){return function keys(it){return $keys(toObject(it))}})},{"./_object-keys":177,"./_object-sap":179,"./_to-object":212}],296:[function(require,module,exports){var isObject=require("./_is-object");var meta=require("./_meta").onFreeze;require("./_object-sap")("preventExtensions",function($preventExtensions){return function preventExtensions(it){return $preventExtensions&&isObject(it)?$preventExtensions(meta(it)):it}})},{"./_is-object":151,"./_meta":164,"./_object-sap":179}],297:[function(require,module,exports){var isObject=require("./_is-object");var meta=require("./_meta").onFreeze;require("./_object-sap")("seal",function($seal){return function seal(it){return $seal&&isObject(it)?$seal(meta(it)):it}})},{"./_is-object":151,"./_meta":164,"./_object-sap":179}],298:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Object",{setPrototypeOf:require("./_set-proto").set})},{"./_export":132,"./_set-proto":192}],299:[function(require,module,exports){"use strict";var classof=require("./_classof");var test={};test[require("./_wks")("toStringTag")]="z";if(test+""!="[object z]"){require("./_redefine")(Object.prototype,"toString",function toString(){return"[object "+classof(this)+"]"},true)}},{"./_classof":117,"./_redefine":188,"./_wks":222}],300:[function(require,module,exports){var $export=require("./_export");var $parseFloat=require("./_parse-float");$export($export.G+$export.F*(parseFloat!=$parseFloat),{parseFloat:$parseFloat})},{"./_export":132,"./_parse-float":182}],301:[function(require,module,exports){var $export=require("./_export");var $parseInt=require("./_parse-int");$export($export.G+$export.F*(parseInt!=$parseInt),{parseInt:$parseInt})},{"./_export":132,"./_parse-int":183}],302:[function(require,module,exports){"use strict";var LIBRARY=require("./_library");var global=require("./_global");var ctx=require("./_ctx");var classof=require("./_classof");var $export=require("./_export");var isObject=require("./_is-object");var aFunction=require("./_a-function");var anInstance=require("./_an-instance");var forOf=require("./_for-of");var speciesConstructor=require("./_species-constructor");var task=require("./_task").set;var microtask=require("./_microtask")();var newPromiseCapabilityModule=require("./_new-promise-capability");var perform=require("./_perform");var userAgent=require("./_user-agent");var promiseResolve=require("./_promise-resolve");var PROMISE="Promise";var TypeError=global.TypeError;var process=global.process;var versions=process&&process.versions;var v8=versions&&versions.v8||"";var $Promise=global[PROMISE];var isNode=classof(process)=="process";var empty=function(){};var Internal,newGenericPromiseCapability,OwnPromiseCapability,Wrapper;var newPromiseCapability=newGenericPromiseCapability=newPromiseCapabilityModule.f;var USE_NATIVE=!!function(){try{var promise=$Promise.resolve(1);var FakePromise=(promise.constructor={})[require("./_wks")("species")]=function(exec){exec(empty,empty)};return(isNode||typeof PromiseRejectionEvent=="function")&&promise.then(empty)instanceof FakePromise&&v8.indexOf("6.6")!==0&&userAgent.indexOf("Chrome/66")===-1}catch(e){}}();var isThenable=function(it){var then;return isObject(it)&&typeof(then=it.then)=="function"?then:false};var notify=function(promise,isReject){if(promise._n)return;promise._n=true;var chain=promise._c;microtask(function(){var value=promise._v;var ok=promise._s==1;var i=0;var run=function(reaction){var handler=ok?reaction.ok:reaction.fail;var resolve=reaction.resolve;var reject=reaction.reject;var domain=reaction.domain;var result,then,exited;try{if(handler){if(!ok){if(promise._h==2)onHandleUnhandled(promise);promise._h=1}if(handler===true)result=value;else{if(domain)domain.enter();result=handler(value);if(domain){domain.exit();exited=true}}if(result===reaction.promise){reject(TypeError("Promise-chain cycle"))}else if(then=isThenable(result)){then.call(result,resolve,reject)}else resolve(result)}else reject(value)}catch(e){if(domain&&!exited)domain.exit();reject(e)}};while(chain.length>i)run(chain[i++]);promise._c=[];promise._n=false;if(isReject&&!promise._h)onUnhandled(promise)})};var onUnhandled=function(promise){task.call(global,function(){var value=promise._v;var unhandled=isUnhandled(promise);var result,handler,console;if(unhandled){result=perform(function(){if(isNode){process.emit("unhandledRejection",value,promise)}else if(handler=global.onunhandledrejection){handler({promise:promise,reason:value})}else if((console=global.console)&&console.error){console.error("Unhandled promise rejection",value)}});promise._h=isNode||isUnhandled(promise)?2:1}promise._a=undefined;if(unhandled&&result.e)throw result.v})};var isUnhandled=function(promise){return promise._h!==1&&(promise._a||promise._c).length===0};var onHandleUnhandled=function(promise){task.call(global,function(){var handler;if(isNode){process.emit("rejectionHandled",promise)}else if(handler=global.onrejectionhandled){handler({promise:promise,reason:promise._v})}})};var $reject=function(value){var promise=this;if(promise._d)return;promise._d=true;promise=promise._w||promise;promise._v=value;promise._s=2;if(!promise._a)promise._a=promise._c.slice();notify(promise,true)};var $resolve=function(value){var promise=this;var then;if(promise._d)return;promise._d=true;promise=promise._w||promise;try{if(promise===value)throw TypeError("Promise can't be resolved itself");if(then=isThenable(value)){microtask(function(){var wrapper={_w:promise,_d:false};try{then.call(value,ctx($resolve,wrapper,1),ctx($reject,wrapper,1))}catch(e){$reject.call(wrapper,e)}})}else{promise._v=value;promise._s=1;notify(promise,false)}}catch(e){$reject.call({_w:promise,_d:false},e)}};if(!USE_NATIVE){$Promise=function Promise(executor){anInstance(this,$Promise,PROMISE,"_h");aFunction(executor);Internal.call(this);try{executor(ctx($resolve,this,1),ctx($reject,this,1))}catch(err){$reject.call(this,err)}};Internal=function Promise(executor){this._c=[];this._a=undefined;this._s=0;this._d=false;this._v=undefined;this._h=0;this._n=false};Internal.prototype=require("./_redefine-all")($Promise.prototype,{then:function then(onFulfilled,onRejected){var reaction=newPromiseCapability(speciesConstructor(this,$Promise));reaction.ok=typeof onFulfilled=="function"?onFulfilled:true;reaction.fail=typeof onRejected=="function"&&onRejected;reaction.domain=isNode?process.domain:undefined;this._c.push(reaction);if(this._a)this._a.push(reaction);if(this._s)notify(this,false);return reaction.promise},catch:function(onRejected){return this.then(undefined,onRejected)}});OwnPromiseCapability=function(){var promise=new Internal;this.promise=promise;this.resolve=ctx($resolve,promise,1);this.reject=ctx($reject,promise,1)};newPromiseCapabilityModule.f=newPromiseCapability=function(C){return C===$Promise||C===Wrapper?new OwnPromiseCapability(C):newGenericPromiseCapability(C)}}$export($export.G+$export.W+$export.F*!USE_NATIVE,{Promise:$Promise});require("./_set-to-string-tag")($Promise,PROMISE);require("./_set-species")(PROMISE);Wrapper=require("./_core")[PROMISE];$export($export.S+$export.F*!USE_NATIVE,PROMISE,{reject:function reject(r){var capability=newPromiseCapability(this);var $$reject=capability.reject;$$reject(r);return capability.promise}});$export($export.S+$export.F*(LIBRARY||!USE_NATIVE),PROMISE,{resolve:function resolve(x){return promiseResolve(LIBRARY&&this===Wrapper?$Promise:this,x)}});$export($export.S+$export.F*!(USE_NATIVE&&require("./_iter-detect")(function(iter){$Promise.all(iter)["catch"](empty)})),PROMISE,{all:function all(iterable){var C=this;var capability=newPromiseCapability(C);var resolve=capability.resolve;var reject=capability.reject;var result=perform(function(){var values=[];var index=0;var remaining=1;forOf(iterable,false,function(promise){var $index=index++;var alreadyCalled=false;values.push(undefined);remaining++;C.resolve(promise).then(function(value){if(alreadyCalled)return;alreadyCalled=true;values[$index]=value;--remaining||resolve(values)},reject)});--remaining||resolve(values)});if(result.e)reject(result.v);return capability.promise},race:function race(iterable){var C=this;var capability=newPromiseCapability(C);var reject=capability.reject;var result=perform(function(){forOf(iterable,false,function(promise){C.resolve(promise).then(capability.resolve,reject)})});if(result.e)reject(result.v);return capability.promise}})},{"./_a-function":103,"./_an-instance":107,"./_classof":117,"./_core":122,"./_ctx":124,"./_export":132,"./_for-of":138,"./_global":140,"./_is-object":151,"./_iter-detect":156,"./_library":159,"./_microtask":165,"./_new-promise-capability":166,"./_perform":184,"./_promise-resolve":185,"./_redefine-all":187,"./_set-species":193,"./_set-to-string-tag":194,"./_species-constructor":197,"./_task":206,"./_user-agent":218,"./_wks":222}],303:[function(require,module,exports){var $export=require("./_export");var aFunction=require("./_a-function");var anObject=require("./_an-object");var rApply=(require("./_global").Reflect||{}).apply;var fApply=Function.apply;$export($export.S+$export.F*!require("./_fails")(function(){rApply(function(){})}),"Reflect",{apply:function apply(target,thisArgument,argumentsList){var T=aFunction(target);var L=anObject(argumentsList);return rApply?rApply(T,thisArgument,L):fApply.call(T,thisArgument,L)}})},{"./_a-function":103,"./_an-object":108,"./_export":132,"./_fails":134,"./_global":140}],304:[function(require,module,exports){var $export=require("./_export");var create=require("./_object-create");var aFunction=require("./_a-function");var anObject=require("./_an-object");var isObject=require("./_is-object");var fails=require("./_fails");var bind=require("./_bind");var rConstruct=(require("./_global").Reflect||{}).construct;var NEW_TARGET_BUG=fails(function(){function F(){}return!(rConstruct(function(){},[],F)instanceof F)});var ARGS_BUG=!fails(function(){rConstruct(function(){})});$export($export.S+$export.F*(NEW_TARGET_BUG||ARGS_BUG),"Reflect",{construct:function construct(Target,args){aFunction(Target);anObject(args);var newTarget=arguments.length<3?Target:aFunction(arguments[2]);if(ARGS_BUG&&!NEW_TARGET_BUG)return rConstruct(Target,args,newTarget);if(Target==newTarget){switch(args.length){case 0:return new Target;case 1:return new Target(args[0]);case 2:return new Target(args[0],args[1]);case 3:return new Target(args[0],args[1],args[2]);case 4:return new Target(args[0],args[1],args[2],args[3])}var $args=[null];$args.push.apply($args,args);return new(bind.apply(Target,$args))}var proto=newTarget.prototype;var instance=create(isObject(proto)?proto:Object.prototype);var result=Function.apply.call(Target,instance,args);return isObject(result)?result:instance}})},{"./_a-function":103,"./_an-object":108,"./_bind":116,"./_export":132,"./_fails":134,"./_global":140,"./_is-object":151,"./_object-create":168}],305:[function(require,module,exports){var dP=require("./_object-dp");var $export=require("./_export");var anObject=require("./_an-object");var toPrimitive=require("./_to-primitive");$export($export.S+$export.F*require("./_fails")(function(){Reflect.defineProperty(dP.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function defineProperty(target,propertyKey,attributes){anObject(target);propertyKey=toPrimitive(propertyKey,true);anObject(attributes);try{dP.f(target,propertyKey,attributes);return true}catch(e){return false}}})},{"./_an-object":108,"./_export":132,"./_fails":134,"./_object-dp":169,"./_to-primitive":213}],306:[function(require,module,exports){var $export=require("./_export");var gOPD=require("./_object-gopd").f;var anObject=require("./_an-object");$export($export.S,"Reflect",{deleteProperty:function deleteProperty(target,propertyKey){var desc=gOPD(anObject(target),propertyKey);return desc&&!desc.configurable?false:delete target[propertyKey]}})},{"./_an-object":108,"./_export":132,"./_object-gopd":171}],307:[function(require,module,exports){"use strict";var $export=require("./_export");var anObject=require("./_an-object");var Enumerate=function(iterated){this._t=anObject(iterated);this._i=0;var keys=this._k=[];var key;for(key in iterated)keys.push(key)};require("./_iter-create")(Enumerate,"Object",function(){var that=this;var keys=that._k;var key;do{if(that._i>=keys.length)return{value:undefined,done:true}}while(!((key=keys[that._i++])in that._t));return{value:key,done:false}});$export($export.S,"Reflect",{enumerate:function enumerate(target){return new Enumerate(target)}})},{"./_an-object":108,"./_export":132,"./_iter-create":154}],308:[function(require,module,exports){var gOPD=require("./_object-gopd");var $export=require("./_export");var anObject=require("./_an-object");$export($export.S,"Reflect",{getOwnPropertyDescriptor:function getOwnPropertyDescriptor(target,propertyKey){return gOPD.f(anObject(target),propertyKey)}})},{"./_an-object":108,"./_export":132,"./_object-gopd":171}],309:[function(require,module,exports){var $export=require("./_export");var getProto=require("./_object-gpo");var anObject=require("./_an-object");$export($export.S,"Reflect",{getPrototypeOf:function getPrototypeOf(target){return getProto(anObject(target))}})},{"./_an-object":108,"./_export":132,"./_object-gpo":175}],310:[function(require,module,exports){var gOPD=require("./_object-gopd");var getPrototypeOf=require("./_object-gpo");var has=require("./_has");var $export=require("./_export");var isObject=require("./_is-object");var anObject=require("./_an-object");function get(target,propertyKey){var receiver=arguments.length<3?target:arguments[2];var desc,proto;if(anObject(target)===receiver)return target[propertyKey];if(desc=gOPD.f(target,propertyKey))return has(desc,"value")?desc.value:desc.get!==undefined?desc.get.call(receiver):undefined;if(isObject(proto=getPrototypeOf(target)))return get(proto,propertyKey,receiver)}$export($export.S,"Reflect",{get:get})},{"./_an-object":108,"./_export":132,"./_has":141,"./_is-object":151,"./_object-gopd":171,"./_object-gpo":175}],311:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Reflect",{has:function has(target,propertyKey){return propertyKey in target}})},{"./_export":132}],312:[function(require,module,exports){var $export=require("./_export");var anObject=require("./_an-object");var $isExtensible=Object.isExtensible;$export($export.S,"Reflect",{isExtensible:function isExtensible(target){anObject(target);return $isExtensible?$isExtensible(target):true}})},{"./_an-object":108,"./_export":132}],313:[function(require,module,exports){var $export=require("./_export");$export($export.S,"Reflect",{ownKeys:require("./_own-keys")})},{"./_export":132,"./_own-keys":181}],314:[function(require,module,exports){var $export=require("./_export");var anObject=require("./_an-object");var $preventExtensions=Object.preventExtensions;$export($export.S,"Reflect",{preventExtensions:function preventExtensions(target){anObject(target);try{if($preventExtensions)$preventExtensions(target);return true}catch(e){return false}}})},{"./_an-object":108,"./_export":132}],315:[function(require,module,exports){var $export=require("./_export");var setProto=require("./_set-proto");if(setProto)$export($export.S,"Reflect",{setPrototypeOf:function setPrototypeOf(target,proto){setProto.check(target,proto);try{setProto.set(target,proto);return true}catch(e){return false}}})},{"./_export":132,"./_set-proto":192}],316:[function(require,module,exports){var dP=require("./_object-dp");var gOPD=require("./_object-gopd");var getPrototypeOf=require("./_object-gpo");var has=require("./_has");var $export=require("./_export");var createDesc=require("./_property-desc");var anObject=require("./_an-object");var isObject=require("./_is-object");function set(target,propertyKey,V){var receiver=arguments.length<4?target:arguments[3];var ownDesc=gOPD.f(anObject(target),propertyKey);var existingDescriptor,proto;if(!ownDesc){if(isObject(proto=getPrototypeOf(target))){return set(proto,propertyKey,V,receiver)}ownDesc=createDesc(0)}if(has(ownDesc,"value")){if(ownDesc.writable===false||!isObject(receiver))return false;if(existingDescriptor=gOPD.f(receiver,propertyKey)){if(existingDescriptor.get||existingDescriptor.set||existingDescriptor.writable===false)return false;existingDescriptor.value=V;dP.f(receiver,propertyKey,existingDescriptor)}else dP.f(receiver,propertyKey,createDesc(0,V));return true}return ownDesc.set===undefined?false:(ownDesc.set.call(receiver,V),true)}$export($export.S,"Reflect",{set:set})},{"./_an-object":108,"./_export":132,"./_has":141,"./_is-object":151,"./_object-dp":169,"./_object-gopd":171,"./_object-gpo":175,"./_property-desc":186}],317:[function(require,module,exports){var global=require("./_global");var inheritIfRequired=require("./_inherit-if-required");var dP=require("./_object-dp").f;var gOPN=require("./_object-gopn").f;var isRegExp=require("./_is-regexp");var $flags=require("./_flags");var $RegExp=global.RegExp;var Base=$RegExp;var proto=$RegExp.prototype;var re1=/a/g;var re2=/a/g;var CORRECT_NEW=new $RegExp(re1)!==re1;if(require("./_descriptors")&&(!CORRECT_NEW||require("./_fails")(function(){re2[require("./_wks")("match")]=false;return $RegExp(re1)!=re1||$RegExp(re2)==re2||$RegExp(re1,"i")!="/a/i"}))){$RegExp=function RegExp(p,f){var tiRE=this instanceof $RegExp;var piRE=isRegExp(p);var fiU=f===undefined;return!tiRE&&piRE&&p.constructor===$RegExp&&fiU?p:inheritIfRequired(CORRECT_NEW?new Base(piRE&&!fiU?p.source:p,f):Base((piRE=p instanceof $RegExp)?p.source:p,piRE&&fiU?$flags.call(p):f),tiRE?this:proto,$RegExp)};var proxy=function(key){key in $RegExp||dP($RegExp,key,{configurable:true,get:function(){return Base[key]},set:function(it){Base[key]=it}})};for(var keys=gOPN(Base),i=0;keys.length>i;)proxy(keys[i++]);proto.constructor=$RegExp;$RegExp.prototype=proto;require("./_redefine")(global,"RegExp",$RegExp)}require("./_set-species")("RegExp")},{"./_descriptors":128,"./_fails":134,"./_flags":136,"./_global":140,"./_inherit-if-required":145,"./_is-regexp":152,"./_object-dp":169,"./_object-gopn":173,"./_redefine":188,"./_set-species":193,"./_wks":222}],318:[function(require,module,exports){"use strict";var regexpExec=require("./_regexp-exec");require("./_export")({target:"RegExp",proto:true,forced:regexpExec!==/./.exec},{exec:regexpExec})},{"./_export":132,"./_regexp-exec":190}],319:[function(require,module,exports){if(require("./_descriptors")&&/./g.flags!="g")require("./_object-dp").f(RegExp.prototype,"flags",{configurable:true,get:require("./_flags")})},{"./_descriptors":128,"./_flags":136,"./_object-dp":169}],320:[function(require,module,exports){"use strict";var anObject=require("./_an-object");var toLength=require("./_to-length");var advanceStringIndex=require("./_advance-string-index");var regExpExec=require("./_regexp-exec-abstract");require("./_fix-re-wks")("match",1,function(defined,MATCH,$match,maybeCallNative){return[function match(regexp){var O=defined(this);var fn=regexp==undefined?undefined:regexp[MATCH];return fn!==undefined?fn.call(regexp,O):new RegExp(regexp)[MATCH](String(O))},function(regexp){var res=maybeCallNative($match,regexp,this);if(res.done)return res.value;var rx=anObject(regexp);var S=String(this);if(!rx.global)return regExpExec(rx,S);var fullUnicode=rx.unicode;rx.lastIndex=0;var A=[];var n=0;var result;while((result=regExpExec(rx,S))!==null){var matchStr=String(result[0]);A[n]=matchStr;if(matchStr==="")rx.lastIndex=advanceStringIndex(S,toLength(rx.lastIndex),fullUnicode);n++}return n===0?null:A}]})},{"./_advance-string-index":106,"./_an-object":108,"./_fix-re-wks":135,"./_regexp-exec-abstract":189,"./_to-length":211}],321:[function(require,module,exports){"use strict";var anObject=require("./_an-object");var toObject=require("./_to-object");var toLength=require("./_to-length");var toInteger=require("./_to-integer");var advanceStringIndex=require("./_advance-string-index");var regExpExec=require("./_regexp-exec-abstract");var max=Math.max;var min=Math.min;var floor=Math.floor;var SUBSTITUTION_SYMBOLS=/\$([$&`']|\d\d?|<[^>]*>)/g;var SUBSTITUTION_SYMBOLS_NO_NAMED=/\$([$&`']|\d\d?)/g;var maybeToString=function(it){return it===undefined?it:String(it)};require("./_fix-re-wks")("replace",2,function(defined,REPLACE,$replace,maybeCallNative){return[function replace(searchValue,replaceValue){var O=defined(this);var fn=searchValue==undefined?undefined:searchValue[REPLACE];return fn!==undefined?fn.call(searchValue,O,replaceValue):$replace.call(String(O),searchValue,replaceValue)},function(regexp,replaceValue){var res=maybeCallNative($replace,regexp,this,replaceValue);if(res.done)return res.value;var rx=anObject(regexp);var S=String(this);var functionalReplace=typeof replaceValue==="function";if(!functionalReplace)replaceValue=String(replaceValue);var global=rx.global;if(global){var fullUnicode=rx.unicode;rx.lastIndex=0}var results=[];while(true){var result=regExpExec(rx,S);if(result===null)break;results.push(result);if(!global)break;var matchStr=String(result[0]);if(matchStr==="")rx.lastIndex=advanceStringIndex(S,toLength(rx.lastIndex),fullUnicode)}var accumulatedResult="";var nextSourcePosition=0;for(var i=0;i<results.length;i++){result=results[i];var matched=String(result[0]);var position=max(min(toInteger(result.index),S.length),0);var captures=[];for(var j=1;j<result.length;j++)captures.push(maybeToString(result[j]));var namedCaptures=result.groups;if(functionalReplace){var replacerArgs=[matched].concat(captures,position,S);if(namedCaptures!==undefined)replacerArgs.push(namedCaptures);var replacement=String(replaceValue.apply(undefined,replacerArgs))}else{replacement=getSubstitution(matched,S,position,captures,namedCaptures,replaceValue)}if(position>=nextSourcePosition){accumulatedResult+=S.slice(nextSourcePosition,position)+replacement;nextSourcePosition=position+matched.length}}return accumulatedResult+S.slice(nextSourcePosition)}];function getSubstitution(matched,str,position,captures,namedCaptures,replacement){var tailPos=position+matched.length;var m=captures.length;var symbols=SUBSTITUTION_SYMBOLS_NO_NAMED;if(namedCaptures!==undefined){namedCaptures=toObject(namedCaptures);symbols=SUBSTITUTION_SYMBOLS}return $replace.call(replacement,symbols,function(match,ch){var capture;switch(ch.charAt(0)){case"$":return"$";case"&":return matched;case"`":return str.slice(0,position);case"'":return str.slice(tailPos);case"<":capture=namedCaptures[ch.slice(1,-1)];break;default:var n=+ch;if(n===0)return match;if(n>m){var f=floor(n/10);if(f===0)return match;if(f<=m)return captures[f-1]===undefined?ch.charAt(1):captures[f-1]+ch.charAt(1);return match}capture=captures[n-1]}return capture===undefined?"":capture})}})},{"./_advance-string-index":106,"./_an-object":108,"./_fix-re-wks":135,"./_regexp-exec-abstract":189,"./_to-integer":209,"./_to-length":211,"./_to-object":212}],322:[function(require,module,exports){"use strict";var anObject=require("./_an-object");var sameValue=require("./_same-value");var regExpExec=require("./_regexp-exec-abstract");require("./_fix-re-wks")("search",1,function(defined,SEARCH,$search,maybeCallNative){return[function search(regexp){var O=defined(this);var fn=regexp==undefined?undefined:regexp[SEARCH];return fn!==undefined?fn.call(regexp,O):new RegExp(regexp)[SEARCH](String(O))},function(regexp){var res=maybeCallNative($search,regexp,this);if(res.done)return res.value;var rx=anObject(regexp);var S=String(this);var previousLastIndex=rx.lastIndex;if(!sameValue(previousLastIndex,0))rx.lastIndex=0;var result=regExpExec(rx,S);if(!sameValue(rx.lastIndex,previousLastIndex))rx.lastIndex=previousLastIndex;return result===null?-1:result.index}]})},{"./_an-object":108,"./_fix-re-wks":135,"./_regexp-exec-abstract":189,"./_same-value":191}],323:[function(require,module,exports){"use strict";var isRegExp=require("./_is-regexp");var anObject=require("./_an-object");var speciesConstructor=require("./_species-constructor");var advanceStringIndex=require("./_advance-string-index");var toLength=require("./_to-length");var callRegExpExec=require("./_regexp-exec-abstract");var regexpExec=require("./_regexp-exec");var fails=require("./_fails");var $min=Math.min;var $push=[].push;var $SPLIT="split";var LENGTH="length";var LAST_INDEX="lastIndex";var MAX_UINT32=4294967295;var SUPPORTS_Y=!fails(function(){RegExp(MAX_UINT32,"y")});require("./_fix-re-wks")("split",2,function(defined,SPLIT,$split,maybeCallNative){var internalSplit;if("abbc"[$SPLIT](/(b)*/)[1]=="c"||"test"[$SPLIT](/(?:)/,-1)[LENGTH]!=4||"ab"[$SPLIT](/(?:ab)*/)[LENGTH]!=2||"."[$SPLIT](/(.?)(.?)/)[LENGTH]!=4||"."[$SPLIT](/()()/)[LENGTH]>1||""[$SPLIT](/.?/)[LENGTH]){internalSplit=function(separator,limit){var string=String(this);if(separator===undefined&&limit===0)return[];if(!isRegExp(separator))return $split.call(string,separator,limit);var output=[];var flags=(separator.ignoreCase?"i":"")+(separator.multiline?"m":"")+(separator.unicode?"u":"")+(separator.sticky?"y":"");var lastLastIndex=0;var splitLimit=limit===undefined?MAX_UINT32:limit>>>0;var separatorCopy=new RegExp(separator.source,flags+"g");var match,lastIndex,lastLength;while(match=regexpExec.call(separatorCopy,string)){lastIndex=separatorCopy[LAST_INDEX];if(lastIndex>lastLastIndex){output.push(string.slice(lastLastIndex,match.index));if(match[LENGTH]>1&&match.index<string[LENGTH])$push.apply(output,match.slice(1));lastLength=match[0][LENGTH];lastLastIndex=lastIndex;if(output[LENGTH]>=splitLimit)break}if(separatorCopy[LAST_INDEX]===match.index)separatorCopy[LAST_INDEX]++}if(lastLastIndex===string[LENGTH]){if(lastLength||!separatorCopy.test(""))output.push("")}else output.push(string.slice(lastLastIndex));return output[LENGTH]>splitLimit?output.slice(0,splitLimit):output}}else if("0"[$SPLIT](undefined,0)[LENGTH]){internalSplit=function(separator,limit){return separator===undefined&&limit===0?[]:$split.call(this,separator,limit)}}else{internalSplit=$split}return[function split(separator,limit){var O=defined(this);var splitter=separator==undefined?undefined:separator[SPLIT];return splitter!==undefined?splitter.call(separator,O,limit):internalSplit.call(String(O),separator,limit)},function(regexp,limit){var res=maybeCallNative(internalSplit,regexp,this,limit,internalSplit!==$split);if(res.done)return res.value;var rx=anObject(regexp);var S=String(this);var C=speciesConstructor(rx,RegExp);var unicodeMatching=rx.unicode;var flags=(rx.ignoreCase?"i":"")+(rx.multiline?"m":"")+(rx.unicode?"u":"")+(SUPPORTS_Y?"y":"g");var splitter=new C(SUPPORTS_Y?rx:"^(?:"+rx.source+")",flags);var lim=limit===undefined?MAX_UINT32:limit>>>0;if(lim===0)return[];if(S.length===0)return callRegExpExec(splitter,S)===null?[S]:[];var p=0;var q=0;var A=[];while(q<S.length){splitter.lastIndex=SUPPORTS_Y?q:0;var z=callRegExpExec(splitter,SUPPORTS_Y?S:S.slice(q));var e;if(z===null||(e=$min(toLength(splitter.lastIndex+(SUPPORTS_Y?0:q)),S.length))===p){q=advanceStringIndex(S,q,unicodeMatching)}else{A.push(S.slice(p,q));if(A.length===lim)return A;for(var i=1;i<=z.length-1;i++){A.push(z[i]);if(A.length===lim)return A}q=p=e}}A.push(S.slice(p));return A}]})},{"./_advance-string-index":106,"./_an-object":108,"./_fails":134,"./_fix-re-wks":135,"./_is-regexp":152,"./_regexp-exec":190,"./_regexp-exec-abstract":189,"./_species-constructor":197,"./_to-length":211}],324:[function(require,module,exports){"use strict";require("./es6.regexp.flags");var anObject=require("./_an-object");var $flags=require("./_flags");var DESCRIPTORS=require("./_descriptors");var TO_STRING="toString";var $toString=/./[TO_STRING];var define=function(fn){require("./_redefine")(RegExp.prototype,TO_STRING,fn,true)};if(require("./_fails")(function(){return $toString.call({source:"a",flags:"b"})!="/a/b"})){define(function toString(){var R=anObject(this);return"/".concat(R.source,"/","flags"in R?R.flags:!DESCRIPTORS&&R instanceof RegExp?$flags.call(R):undefined)})}else if($toString.name!=TO_STRING){define(function toString(){return $toString.call(this)})}},{"./_an-object":108,"./_descriptors":128,"./_fails":134,"./_flags":136,"./_redefine":188,"./es6.regexp.flags":319}],325:[function(require,module,exports){"use strict";var strong=require("./_collection-strong");var validate=require("./_validate-collection");var SET="Set";module.exports=require("./_collection")(SET,function(get){return function Set(){return get(this,arguments.length>0?arguments[0]:undefined)}},{add:function add(value){return strong.def(validate(this,SET),value=value===0?0:value,value)}},strong)},{"./_collection":121,"./_collection-strong":119,"./_validate-collection":219}],326:[function(require,module,exports){"use strict";require("./_string-html")("anchor",function(createHTML){return function anchor(name){return createHTML(this,"a","name",name)}})},{"./_string-html":201}],327:[function(require,module,exports){"use strict";require("./_string-html")("big",function(createHTML){return function big(){return createHTML(this,"big","","")}})},{"./_string-html":201}],328:[function(require,module,exports){"use strict";require("./_string-html")("blink",function(createHTML){return function blink(){return createHTML(this,"blink","","")}})},{"./_string-html":201}],329:[function(require,module,exports){"use strict";require("./_string-html")("bold",function(createHTML){return function bold(){return createHTML(this,"b","","")}})},{"./_string-html":201}],330:[function(require,module,exports){"use strict";var $export=require("./_export");var $at=require("./_string-at")(false);$export($export.P,"String",{codePointAt:function codePointAt(pos){return $at(this,pos)}})},{"./_export":132,"./_string-at":199}],331:[function(require,module,exports){"use strict";var $export=require("./_export");var toLength=require("./_to-length");var context=require("./_string-context");var ENDS_WITH="endsWith";var $endsWith=""[ENDS_WITH];$export($export.P+$export.F*require("./_fails-is-regexp")(ENDS_WITH),"String",{endsWith:function endsWith(searchString){var that=context(this,searchString,ENDS_WITH);var endPosition=arguments.length>1?arguments[1]:undefined;var len=toLength(that.length);var end=endPosition===undefined?len:Math.min(toLength(endPosition),len);var search=String(searchString);return $endsWith?$endsWith.call(that,search,end):that.slice(end-search.length,end)===search}})},{"./_export":132,"./_fails-is-regexp":133,"./_string-context":200,"./_to-length":211}],332:[function(require,module,exports){"use strict";require("./_string-html")("fixed",function(createHTML){return function fixed(){return createHTML(this,"tt","","")}})},{"./_string-html":201}],333:[function(require,module,exports){"use strict";require("./_string-html")("fontcolor",function(createHTML){return function fontcolor(color){return createHTML(this,"font","color",color)}})},{"./_string-html":201}],334:[function(require,module,exports){"use strict";require("./_string-html")("fontsize",function(createHTML){return function fontsize(size){return createHTML(this,"font","size",size)}})},{"./_string-html":201}],335:[function(require,module,exports){var $export=require("./_export");var toAbsoluteIndex=require("./_to-absolute-index");var fromCharCode=String.fromCharCode;var $fromCodePoint=String.fromCodePoint;$export($export.S+$export.F*(!!$fromCodePoint&&$fromCodePoint.length!=1),"String",{fromCodePoint:function fromCodePoint(x){var res=[];var aLen=arguments.length;var i=0;var code;while(aLen>i){code=+arguments[i++];if(toAbsoluteIndex(code,1114111)!==code)throw RangeError(code+" is not a valid code point");res.push(code<65536?fromCharCode(code):fromCharCode(((code-=65536)>>10)+55296,code%1024+56320))}return res.join("")}})},{"./_export":132,"./_to-absolute-index":207}],336:[function(require,module,exports){"use strict";var $export=require("./_export");var context=require("./_string-context");var INCLUDES="includes";$export($export.P+$export.F*require("./_fails-is-regexp")(INCLUDES),"String",{includes:function includes(searchString){return!!~context(this,searchString,INCLUDES).indexOf(searchString,arguments.length>1?arguments[1]:undefined)}})},{"./_export":132,"./_fails-is-regexp":133,"./_string-context":200}],337:[function(require,module,exports){"use strict";require("./_string-html")("italics",function(createHTML){return function italics(){return createHTML(this,"i","","")}})},{"./_string-html":201}],338:[function(require,module,exports){"use strict";var $at=require("./_string-at")(true);require("./_iter-define")(String,"String",function(iterated){this._t=String(iterated);this._i=0},function(){var O=this._t;var index=this._i;var point;if(index>=O.length)return{value:undefined,done:true};point=$at(O,index);this._i+=point.length;return{value:point,done:false}})},{"./_iter-define":155,"./_string-at":199}],339:[function(require,module,exports){"use strict";require("./_string-html")("link",function(createHTML){return function link(url){return createHTML(this,"a","href",url)}})},{"./_string-html":201}],340:[function(require,module,exports){var $export=require("./_export");var toIObject=require("./_to-iobject");var toLength=require("./_to-length");$export($export.S,"String",{raw:function raw(callSite){var tpl=toIObject(callSite.raw);var len=toLength(tpl.length);var aLen=arguments.length;var res=[];var i=0;while(len>i){res.push(String(tpl[i++]));if(i<aLen)res.push(String(arguments[i]))}return res.join("")}})},{"./_export":132,"./_to-iobject":210,"./_to-length":211}],341:[function(require,module,exports){var $export=require("./_export");$export($export.P,"String",{repeat:require("./_string-repeat")})},{"./_export":132,"./_string-repeat":203}],342:[function(require,module,exports){"use strict";require("./_string-html")("small",function(createHTML){return function small(){return createHTML(this,"small","","")}})},{"./_string-html":201}],343:[function(require,module,exports){"use strict";var $export=require("./_export");var toLength=require("./_to-length");var context=require("./_string-context");var STARTS_WITH="startsWith";var $startsWith=""[STARTS_WITH];$export($export.P+$export.F*require("./_fails-is-regexp")(STARTS_WITH),"String",{startsWith:function startsWith(searchString){var that=context(this,searchString,STARTS_WITH);var index=toLength(Math.min(arguments.length>1?arguments[1]:undefined,that.length));var search=String(searchString);return $startsWith?$startsWith.call(that,search,index):that.slice(index,index+search.length)===search}})},{"./_export":132,"./_fails-is-regexp":133,"./_string-context":200,"./_to-length":211}],344:[function(require,module,exports){"use strict";require("./_string-html")("strike",function(createHTML){return function strike(){return createHTML(this,"strike","","")}})},{"./_string-html":201}],345:[function(require,module,exports){"use strict";require("./_string-html")("sub",function(createHTML){return function sub(){return createHTML(this,"sub","","")}})},{"./_string-html":201}],346:[function(require,module,exports){"use strict";require("./_string-html")("sup",function(createHTML){return function sup(){return createHTML(this,"sup","","")}})},{"./_string-html":201}],347:[function(require,module,exports){"use strict";require("./_string-trim")("trim",function($trim){return function trim(){return $trim(this,3)}})},{"./_string-trim":204}],348:[function(require,module,exports){"use strict";var global=require("./_global");var has=require("./_has");var DESCRIPTORS=require("./_descriptors");var $export=require("./_export");var redefine=require("./_redefine");var META=require("./_meta").KEY;var $fails=require("./_fails");var shared=require("./_shared");var setToStringTag=require("./_set-to-string-tag");var uid=require("./_uid");var wks=require("./_wks");var wksExt=require("./_wks-ext");var wksDefine=require("./_wks-define");var enumKeys=require("./_enum-keys");var isArray=require("./_is-array");var anObject=require("./_an-object");var isObject=require("./_is-object");var toObject=require("./_to-object");var toIObject=require("./_to-iobject");var toPrimitive=require("./_to-primitive");var createDesc=require("./_property-desc");var _create=require("./_object-create");var gOPNExt=require("./_object-gopn-ext");var $GOPD=require("./_object-gopd");var $GOPS=require("./_object-gops");var $DP=require("./_object-dp");var $keys=require("./_object-keys");var gOPD=$GOPD.f;var dP=$DP.f;var gOPN=gOPNExt.f;var $Symbol=global.Symbol;var $JSON=global.JSON;var _stringify=$JSON&&$JSON.stringify;var PROTOTYPE="prototype";var HIDDEN=wks("_hidden");var TO_PRIMITIVE=wks("toPrimitive");var isEnum={}.propertyIsEnumerable;var SymbolRegistry=shared("symbol-registry");var AllSymbols=shared("symbols");var OPSymbols=shared("op-symbols");var ObjectProto=Object[PROTOTYPE];var USE_NATIVE=typeof $Symbol=="function"&&!!$GOPS.f;var QObject=global.QObject;var setter=!QObject||!QObject[PROTOTYPE]||!QObject[PROTOTYPE].findChild;var setSymbolDesc=DESCRIPTORS&&$fails(function(){return _create(dP({},"a",{get:function(){return dP(this,"a",{value:7}).a}})).a!=7})?function(it,key,D){var protoDesc=gOPD(ObjectProto,key);if(protoDesc)delete ObjectProto[key];dP(it,key,D);if(protoDesc&&it!==ObjectProto)dP(ObjectProto,key,protoDesc)}:dP;var wrap=function(tag){var sym=AllSymbols[tag]=_create($Symbol[PROTOTYPE]);sym._k=tag;return sym};var isSymbol=USE_NATIVE&&typeof $Symbol.iterator=="symbol"?function(it){return typeof it=="symbol"}:function(it){return it instanceof $Symbol};var $defineProperty=function defineProperty(it,key,D){if(it===ObjectProto)$defineProperty(OPSymbols,key,D);anObject(it);key=toPrimitive(key,true);anObject(D);if(has(AllSymbols,key)){if(!D.enumerable){if(!has(it,HIDDEN))dP(it,HIDDEN,createDesc(1,{}));it[HIDDEN][key]=true}else{if(has(it,HIDDEN)&&it[HIDDEN][key])it[HIDDEN][key]=false;D=_create(D,{enumerable:createDesc(0,false)})}return setSymbolDesc(it,key,D)}return dP(it,key,D)};var $defineProperties=function defineProperties(it,P){anObject(it);var keys=enumKeys(P=toIObject(P));var i=0;var l=keys.length;var key;while(l>i)$defineProperty(it,key=keys[i++],P[key]);return it};var $create=function create(it,P){return P===undefined?_create(it):$defineProperties(_create(it),P)};var $propertyIsEnumerable=function propertyIsEnumerable(key){var E=isEnum.call(this,key=toPrimitive(key,true));if(this===ObjectProto&&has(AllSymbols,key)&&!has(OPSymbols,key))return false;return E||!has(this,key)||!has(AllSymbols,key)||has(this,HIDDEN)&&this[HIDDEN][key]?E:true};var $getOwnPropertyDescriptor=function getOwnPropertyDescriptor(it,key){it=toIObject(it);key=toPrimitive(key,true);if(it===ObjectProto&&has(AllSymbols,key)&&!has(OPSymbols,key))return;var D=gOPD(it,key);if(D&&has(AllSymbols,key)&&!(has(it,HIDDEN)&&it[HIDDEN][key]))D.enumerable=true;return D};var $getOwnPropertyNames=function getOwnPropertyNames(it){var names=gOPN(toIObject(it));var result=[];var i=0;var key;while(names.length>i){if(!has(AllSymbols,key=names[i++])&&key!=HIDDEN&&key!=META)result.push(key)}return result};var $getOwnPropertySymbols=function getOwnPropertySymbols(it){var IS_OP=it===ObjectProto;var names=gOPN(IS_OP?OPSymbols:toIObject(it));var result=[];var i=0;var key;while(names.length>i){if(has(AllSymbols,key=names[i++])&&(IS_OP?has(ObjectProto,key):true))result.push(AllSymbols[key])}return result};if(!USE_NATIVE){$Symbol=function Symbol(){if(this instanceof $Symbol)throw TypeError("Symbol is not a constructor!");var tag=uid(arguments.length>0?arguments[0]:undefined);var $set=function(value){if(this===ObjectProto)$set.call(OPSymbols,value);if(has(this,HIDDEN)&&has(this[HIDDEN],tag))this[HIDDEN][tag]=false;setSymbolDesc(this,tag,createDesc(1,value))};if(DESCRIPTORS&&setter)setSymbolDesc(ObjectProto,tag,{configurable:true,set:$set});return wrap(tag)};redefine($Symbol[PROTOTYPE],"toString",function toString(){return this._k});$GOPD.f=$getOwnPropertyDescriptor;$DP.f=$defineProperty;require("./_object-gopn").f=gOPNExt.f=$getOwnPropertyNames;require("./_object-pie").f=$propertyIsEnumerable;$GOPS.f=$getOwnPropertySymbols;if(DESCRIPTORS&&!require("./_library")){redefine(ObjectProto,"propertyIsEnumerable",$propertyIsEnumerable,true)}wksExt.f=function(name){return wrap(wks(name))}}$export($export.G+$export.W+$export.F*!USE_NATIVE,{Symbol:$Symbol});for(var es6Symbols="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),j=0;es6Symbols.length>j;)wks(es6Symbols[j++]);for(var wellKnownSymbols=$keys(wks.store),k=0;wellKnownSymbols.length>k;)wksDefine(wellKnownSymbols[k++]);$export($export.S+$export.F*!USE_NATIVE,"Symbol",{for:function(key){return has(SymbolRegistry,key+="")?SymbolRegistry[key]:SymbolRegistry[key]=$Symbol(key)},keyFor:function keyFor(sym){if(!isSymbol(sym))throw TypeError(sym+" is not a symbol!");for(var key in SymbolRegistry)if(SymbolRegistry[key]===sym)return key},useSetter:function(){setter=true},useSimple:function(){setter=false}});$export($export.S+$export.F*!USE_NATIVE,"Object",{create:$create,defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor,getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols});var FAILS_ON_PRIMITIVES=$fails(function(){$GOPS.f(1)});$export($export.S+$export.F*FAILS_ON_PRIMITIVES,"Object",{getOwnPropertySymbols:function getOwnPropertySymbols(it){return $GOPS.f(toObject(it))}});$JSON&&$export($export.S+$export.F*(!USE_NATIVE||$fails(function(){var S=$Symbol();return _stringify([S])!="[null]"||_stringify({a:S})!="{}"||_stringify(Object(S))!="{}"})),"JSON",{stringify:function stringify(it){var args=[it];var i=1;var replacer,$replacer;while(arguments.length>i)args.push(arguments[i++]);$replacer=replacer=args[1];if(!isObject(replacer)&&it===undefined||isSymbol(it))return;if(!isArray(replacer))replacer=function(key,value){if(typeof $replacer=="function")value=$replacer.call(this,key,value);if(!isSymbol(value))return value};args[1]=replacer;return _stringify.apply($JSON,args)}});$Symbol[PROTOTYPE][TO_PRIMITIVE]||require("./_hide")($Symbol[PROTOTYPE],TO_PRIMITIVE,$Symbol[PROTOTYPE].valueOf);setToStringTag($Symbol,"Symbol");setToStringTag(Math,"Math",true);setToStringTag(global.JSON,"JSON",true)},{"./_an-object":108,"./_descriptors":128,"./_enum-keys":131,"./_export":132,"./_fails":134,"./_global":140,"./_has":141,"./_hide":142,"./_is-array":149,"./_is-object":151,"./_library":159,"./_meta":164,"./_object-create":168,"./_object-dp":169,"./_object-gopd":171,"./_object-gopn":173,"./_object-gopn-ext":172,"./_object-gops":174,"./_object-keys":177,"./_object-pie":178,"./_property-desc":186,"./_redefine":188,"./_set-to-string-tag":194,"./_shared":196,"./_to-iobject":210,"./_to-object":212,"./_to-primitive":213,"./_uid":217,"./_wks":222,"./_wks-define":220,"./_wks-ext":221}],349:[function(require,module,exports){"use strict";var $export=require("./_export");var $typed=require("./_typed");var buffer=require("./_typed-buffer");var anObject=require("./_an-object");var toAbsoluteIndex=require("./_to-absolute-index");var toLength=require("./_to-length");var isObject=require("./_is-object");var ArrayBuffer=require("./_global").ArrayBuffer;var speciesConstructor=require("./_species-constructor");var $ArrayBuffer=buffer.ArrayBuffer;var $DataView=buffer.DataView;var $isView=$typed.ABV&&ArrayBuffer.isView;var $slice=$ArrayBuffer.prototype.slice;var VIEW=$typed.VIEW;var ARRAY_BUFFER="ArrayBuffer";$export($export.G+$export.W+$export.F*(ArrayBuffer!==$ArrayBuffer),{ArrayBuffer:$ArrayBuffer});$export($export.S+$export.F*!$typed.CONSTR,ARRAY_BUFFER,{isView:function isView(it){return $isView&&$isView(it)||isObject(it)&&VIEW in it}});$export($export.P+$export.U+$export.F*require("./_fails")(function(){return!new $ArrayBuffer(2).slice(1,undefined).byteLength}),ARRAY_BUFFER,{slice:function slice(start,end){if($slice!==undefined&&end===undefined)return $slice.call(anObject(this),start);var len=anObject(this).byteLength;var first=toAbsoluteIndex(start,len);var fin=toAbsoluteIndex(end===undefined?len:end,len);var result=new(speciesConstructor(this,$ArrayBuffer))(toLength(fin-first));var viewS=new $DataView(this);var viewT=new $DataView(result);var index=0;while(first<fin){viewT.setUint8(index++,viewS.getUint8(first++))}return result}});require("./_set-species")(ARRAY_BUFFER)},{"./_an-object":108,"./_export":132,"./_fails":134,"./_global":140,"./_is-object":151,"./_set-species":193,"./_species-constructor":197,"./_to-absolute-index":207,"./_to-length":211,"./_typed":216,"./_typed-buffer":215}],350:[function(require,module,exports){var $export=require("./_export");$export($export.G+$export.W+$export.F*!require("./_typed").ABV,{DataView:require("./_typed-buffer").DataView})},{"./_export":132,"./_typed":216,"./_typed-buffer":215}],351:[function(require,module,exports){require("./_typed-array")("Float32",4,function(init){return function Float32Array(data,byteOffset,length){return init(this,data,byteOffset,length)}})},{"./_typed-array":214}],352:[function(require,module,exports){require("./_typed-array")("Float64",8,function(init){return function Float64Array(data,byteOffset,length){return init(this,data,byteOffset,length)}})},{"./_typed-array":214}],353:[function(require,module,exports){require("./_typed-array")("Int16",2,function(init){return function Int16Array(data,byteOffset,length){return init(this,data,byteOffset,length)}})},{"./_typed-array":214}],354:[function(require,module,exports){require("./_typed-array")("Int32",4,function(init){return function Int32Array(data,byteOffset,length){return init(this,data,byteOffset,length)}})},{"./_typed-array":214}],355:[function(require,module,exports){require("./_typed-array")("Int8",1,function(init){return function Int8Array(data,byteOffset,length){return init(this,data,byteOffset,length)}})},{"./_typed-array":214}],356:[function(require,module,exports){require("./_typed-array")("Uint16",2,function(init){return function Uint16Array(data,byteOffset,length){return init(this,data,byteOffset,length)}})},{"./_typed-array":214}],357:[function(require,module,exports){require("./_typed-array")("Uint32",4,function(init){return function Uint32Array(data,byteOffset,length){return init(this,data,byteOffset,length)}})},{"./_typed-array":214}],358:[function(require,module,exports){require("./_typed-array")("Uint8",1,function(init){return function Uint8Array(data,byteOffset,length){return init(this,data,byteOffset,length)}})},{"./_typed-array":214}],359:[function(require,module,exports){require("./_typed-array")("Uint8",1,function(init){return function Uint8ClampedArray(data,byteOffset,length){return init(this,data,byteOffset,length)}},true)},{"./_typed-array":214}],360:[function(require,module,exports){"use strict";var global=require("./_global");var each=require("./_array-methods")(0);var redefine=require("./_redefine");var meta=require("./_meta");var assign=require("./_object-assign");var weak=require("./_collection-weak");var isObject=require("./_is-object");var validate=require("./_validate-collection");var NATIVE_WEAK_MAP=require("./_validate-collection");var IS_IE11=!global.ActiveXObject&&"ActiveXObject"in global;var WEAK_MAP="WeakMap";var getWeak=meta.getWeak;var isExtensible=Object.isExtensible;var uncaughtFrozenStore=weak.ufstore;var InternalMap;var wrapper=function(get){return function WeakMap(){return get(this,arguments.length>0?arguments[0]:undefined)}};var methods={get:function get(key){if(isObject(key)){var data=getWeak(key);if(data===true)return uncaughtFrozenStore(validate(this,WEAK_MAP)).get(key);return data?data[this._i]:undefined}},set:function set(key,value){return weak.def(validate(this,WEAK_MAP),key,value)}};var $WeakMap=module.exports=require("./_collection")(WEAK_MAP,wrapper,methods,weak,true,true);if(NATIVE_WEAK_MAP&&IS_IE11){InternalMap=weak.getConstructor(wrapper,WEAK_MAP);assign(InternalMap.prototype,methods);meta.NEED=true;each(["delete","has","get","set"],function(key){var proto=$WeakMap.prototype;var method=proto[key];redefine(proto,key,function(a,b){if(isObject(a)&&!isExtensible(a)){if(!this._f)this._f=new InternalMap;var result=this._f[key](a,b);return key=="set"?this:result}return method.call(this,a,b)})})}},{"./_array-methods":112,"./_collection":121,"./_collection-weak":120,"./_global":140,"./_is-object":151,"./_meta":164,"./_object-assign":167,"./_redefine":188,"./_validate-collection":219}],361:[function(require,module,exports){"use strict";var weak=require("./_collection-weak");var validate=require("./_validate-collection");var WEAK_SET="WeakSet";require("./_collection")(WEAK_SET,function(get){return function WeakSet(){return get(this,arguments.length>0?arguments[0]:undefined)}},{add:function add(value){return weak.def(validate(this,WEAK_SET),value,true)}},weak,false,true)},{"./_collection":121,"./_collection-weak":120,"./_validate-collection":219}],362:[function(require,module,exports){"use strict";var $export=require("./_export");var flattenIntoArray=require("./_flatten-into-array");var toObject=require("./_to-object");var toLength=require("./_to-length");var aFunction=require("./_a-function");var arraySpeciesCreate=require("./_array-species-create");$export($export.P,"Array",{flatMap:function flatMap(callbackfn){var O=toObject(this);var sourceLen,A;aFunction(callbackfn);sourceLen=toLength(O.length);A=arraySpeciesCreate(O,0);flattenIntoArray(A,O,O,sourceLen,0,1,callbackfn,arguments[1]);return A}});require("./_add-to-unscopables")("flatMap")},{"./_a-function":103,"./_add-to-unscopables":105,"./_array-species-create":115,"./_export":132,"./_flatten-into-array":137,"./_to-length":211,"./_to-object":212}],363:[function(require,module,exports){"use strict";var $export=require("./_export");var $includes=require("./_array-includes")(true);$export($export.P,"Array",{includes:function includes(el){return $includes(this,el,arguments.length>1?arguments[1]:undefined)}});require("./_add-to-unscopables")("includes")},{"./_add-to-unscopables":105,"./_array-includes":111,"./_export":132}],364:[function(require,module,exports){var $export=require("./_export");var $entries=require("./_object-to-array")(true);$export($export.S,"Object",{entries:function entries(it){return $entries(it)}})},{"./_export":132,"./_object-to-array":180}],365:[function(require,module,exports){var $export=require("./_export");var ownKeys=require("./_own-keys");var toIObject=require("./_to-iobject");var gOPD=require("./_object-gopd");var createProperty=require("./_create-property");$export($export.S,"Object",{getOwnPropertyDescriptors:function getOwnPropertyDescriptors(object){var O=toIObject(object);var getDesc=gOPD.f;var keys=ownKeys(O);var result={};var i=0;var key,desc;while(keys.length>i){desc=getDesc(O,key=keys[i++]);if(desc!==undefined)createProperty(result,key,desc)}return result}})},{"./_create-property":123,"./_export":132,"./_object-gopd":171,"./_own-keys":181,"./_to-iobject":210}],366:[function(require,module,exports){var $export=require("./_export");var $values=require("./_object-to-array")(false);$export($export.S,"Object",{values:function values(it){return $values(it)}})},{"./_export":132,"./_object-to-array":180}],367:[function(require,module,exports){"use strict";var $export=require("./_export");var core=require("./_core");var global=require("./_global");var speciesConstructor=require("./_species-constructor");var promiseResolve=require("./_promise-resolve");$export($export.P+$export.R,"Promise",{finally:function(onFinally){var C=speciesConstructor(this,core.Promise||global.Promise);var isFunction=typeof onFinally=="function";return this.then(isFunction?function(x){return promiseResolve(C,onFinally()).then(function(){return x})}:onFinally,isFunction?function(e){return promiseResolve(C,onFinally()).then(function(){throw e})}:onFinally)}})},{"./_core":122,"./_export":132,"./_global":140,"./_promise-resolve":185,"./_species-constructor":197}],368:[function(require,module,exports){"use strict";var $export=require("./_export");var $pad=require("./_string-pad");var userAgent=require("./_user-agent");var WEBKIT_BUG=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(userAgent);$export($export.P+$export.F*WEBKIT_BUG,"String",{padEnd:function padEnd(maxLength){return $pad(this,maxLength,arguments.length>1?arguments[1]:undefined,false)}})},{"./_export":132,"./_string-pad":202,"./_user-agent":218}],369:[function(require,module,exports){"use strict";var $export=require("./_export");var $pad=require("./_string-pad");var userAgent=require("./_user-agent");var WEBKIT_BUG=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(userAgent);$export($export.P+$export.F*WEBKIT_BUG,"String",{padStart:function padStart(maxLength){return $pad(this,maxLength,arguments.length>1?arguments[1]:undefined,true)}})},{"./_export":132,"./_string-pad":202,"./_user-agent":218}],370:[function(require,module,exports){"use strict";require("./_string-trim")("trimLeft",function($trim){return function trimLeft(){return $trim(this,1)}},"trimStart")},{"./_string-trim":204}],371:[function(require,module,exports){"use strict";require("./_string-trim")("trimRight",function($trim){return function trimRight(){return $trim(this,2)}},"trimEnd")},{"./_string-trim":204}],372:[function(require,module,exports){require("./_wks-define")("asyncIterator")},{"./_wks-define":220}],373:[function(require,module,exports){var $iterators=require("./es6.array.iterator");var getKeys=require("./_object-keys");var redefine=require("./_redefine");var global=require("./_global");var hide=require("./_hide");var Iterators=require("./_iterators");var wks=require("./_wks");var ITERATOR=wks("iterator");var TO_STRING_TAG=wks("toStringTag");var ArrayValues=Iterators.Array;var DOMIterables={CSSRuleList:true,CSSStyleDeclaration:false,CSSValueList:false,ClientRectList:false,DOMRectList:false,DOMStringList:false,DOMTokenList:true,DataTransferItemList:false,FileList:false,HTMLAllCollection:false,HTMLCollection:false,HTMLFormElement:false,HTMLSelectElement:false,MediaList:true,MimeTypeArray:false,NamedNodeMap:false,NodeList:true,PaintRequestList:false,Plugin:false,PluginArray:false,SVGLengthList:false,SVGNumberList:false,SVGPathSegList:false,SVGPointList:false,SVGStringList:false,SVGTransformList:false,SourceBufferList:false,StyleSheetList:true,TextTrackCueList:false,TextTrackList:false,TouchList:false};for(var collections=getKeys(DOMIterables),i=0;i<collections.length;i++){var NAME=collections[i];var explicit=DOMIterables[NAME];var Collection=global[NAME];var proto=Collection&&Collection.prototype;var key;if(proto){if(!proto[ITERATOR])hide(proto,ITERATOR,ArrayValues);if(!proto[TO_STRING_TAG])hide(proto,TO_STRING_TAG,NAME);Iterators[NAME]=ArrayValues;if(explicit)for(key in $iterators)if(!proto[key])redefine(proto,key,$iterators[key],true)}}},{"./_global":140,"./_hide":142,"./_iterators":158,"./_object-keys":177,"./_redefine":188,"./_wks":222,"./es6.array.iterator":234}],374:[function(require,module,exports){var $export=require("./_export");var $task=require("./_task");$export($export.G+$export.B,{setImmediate:$task.set,clearImmediate:$task.clear})},{"./_export":132,"./_task":206}],375:[function(require,module,exports){var global=require("./_global");var $export=require("./_export");var userAgent=require("./_user-agent");var slice=[].slice;var MSIE=/MSIE .\./.test(userAgent);var wrap=function(set){return function(fn,time){var boundArgs=arguments.length>2;var args=boundArgs?slice.call(arguments,2):false;return set(boundArgs?function(){(typeof fn=="function"?fn:Function(fn)).apply(this,args)}:fn,time)}};$export($export.G+$export.B+$export.F*MSIE,{setTimeout:wrap(global.setTimeout),setInterval:wrap(global.setInterval)})},{"./_export":132,"./_global":140,"./_user-agent":218}],376:[function(require,module,exports){require("../modules/web.timers");require("../modules/web.immediate");require("../modules/web.dom.iterable");module.exports=require("../modules/_core")},{"../modules/_core":122,"../modules/web.dom.iterable":373,"../modules/web.immediate":374,"../modules/web.timers":375}],377:[function(require,module,exports){(function(Buffer){function isArray(arg){if(Array.isArray){return Array.isArray(arg)}return objectToString(arg)==="[object Array]"}exports.isArray=isArray;function isBoolean(arg){return typeof arg==="boolean"}exports.isBoolean=isBoolean;function isNull(arg){return arg===null}exports.isNull=isNull;function isNullOrUndefined(arg){return arg==null}exports.isNullOrUndefined=isNullOrUndefined;function isNumber(arg){return typeof arg==="number"}exports.isNumber=isNumber;function isString(arg){return typeof arg==="string"}exports.isString=isString;function isSymbol(arg){return typeof arg==="symbol"}exports.isSymbol=isSymbol;function isUndefined(arg){return arg===void 0}exports.isUndefined=isUndefined;function isRegExp(re){return objectToString(re)==="[object RegExp]"}exports.isRegExp=isRegExp;function isObject(arg){return typeof arg==="object"&&arg!==null}exports.isObject=isObject;function isDate(d){return objectToString(d)==="[object Date]"}exports.isDate=isDate;function isError(e){return objectToString(e)==="[object Error]"||e instanceof Error}exports.isError=isError;function isFunction(arg){return typeof arg==="function"}exports.isFunction=isFunction;function isPrimitive(arg){return arg===null||typeof arg==="boolean"||typeof arg==="number"||typeof arg==="string"||typeof arg==="symbol"||typeof arg==="undefined"}exports.isPrimitive=isPrimitive;exports.isBuffer=Buffer.isBuffer;function objectToString(o){return Object.prototype.toString.call(o)}}).call(this,{isBuffer:require("../../is-buffer/index.js")})},{"../../is-buffer/index.js":392}],378:[function(require,module,exports){var s=1e3;var m=s*60;var h=m*60;var d=h*24;var y=d*365.25;module.exports=function(val,options){options=options||{};var type=typeof val;if(type==="string"&&val.length>0){return parse(val)}else if(type==="number"&&isNaN(val)===false){return options.long?fmtLong(val):fmtShort(val)}throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(val))};function parse(str){str=String(str);if(str.length>100){return}var match=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(str);if(!match){return}var n=parseFloat(match[1]);var type=(match[2]||"ms").toLowerCase();switch(type){case"years":case"year":case"yrs":case"yr":case"y":return n*y;case"days":case"day":case"d":return n*d;case"hours":case"hour":case"hrs":case"hr":case"h":return n*h;case"minutes":case"minute":case"mins":case"min":case"m":return n*m;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return undefined}}function fmtShort(ms){if(ms>=d){return Math.round(ms/d)+"d"}if(ms>=h){return Math.round(ms/h)+"h"}if(ms>=m){return Math.round(ms/m)+"m"}if(ms>=s){return Math.round(ms/s)+"s"}return ms+"ms"}function fmtLong(ms){return plural(ms,d,"day")||plural(ms,h,"hour")||plural(ms,m,"minute")||plural(ms,s,"second")||ms+" ms"}function plural(ms,n,name){if(ms<n){return}if(ms<n*1.5){return Math.floor(ms/n)+" "+name}return Math.ceil(ms/n)+" "+name+"s"}},{}],379:[function(require,module,exports){(function(process){exports=module.exports=require("./debug");exports.log=log;exports.formatArgs=formatArgs;exports.save=save;exports.load=load;exports.useColors=useColors;exports.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:localstorage();exports.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function useColors(){if(typeof window!=="undefined"&&window.process&&window.process.type==="renderer"){return true}return typeof document!=="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!=="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}exports.formatters.j=function(v){try{return JSON.stringify(v)}catch(err){return"[UnexpectedJSONParseError]: "+err.message}};function formatArgs(args){var useColors=this.useColors;args[0]=(useColors?"%c":"")+this.namespace+(useColors?" %c":" ")+args[0]+(useColors?"%c ":" ")+"+"+exports.humanize(this.diff);if(!useColors)return;var c="color: "+this.color;args.splice(1,0,c,"color: inherit");var index=0;var lastC=0;args[0].replace(/%[a-zA-Z%]/g,function(match){if("%%"===match)return;index++;if("%c"===match){lastC=index}});args.splice(lastC,0,c)}function log(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function save(namespaces){try{if(null==namespaces){exports.storage.removeItem("debug")}else{exports.storage.debug=namespaces}}catch(e){}}function load(){var r;try{r=exports.storage.debug}catch(e){}if(!r&&typeof process!=="undefined"&&"env"in process){r=process.env.DEBUG}return r}exports.enable(load());function localstorage(){try{return window.localStorage}catch(e){}}}).call(this,require("_process"))},{"./debug":380,_process:431}],380:[function(require,module,exports){exports=module.exports=createDebug.debug=createDebug["default"]=createDebug;exports.coerce=coerce;exports.disable=disable;exports.enable=enable;exports.enabled=enabled;exports.humanize=require("ms");exports.names=[];exports.skips=[];exports.formatters={};var prevTime;function selectColor(namespace){var hash=0,i;for(i in namespace){hash=(hash<<5)-hash+namespace.charCodeAt(i);hash|=0}return exports.colors[Math.abs(hash)%exports.colors.length]}function createDebug(namespace){function debug(){if(!debug.enabled)return;var self=debug;var curr=+new Date;var ms=curr-(prevTime||curr);self.diff=ms;self.prev=prevTime;self.curr=curr;prevTime=curr;var args=new Array(arguments.length);for(var i=0;i<args.length;i++){args[i]=arguments[i]}args[0]=exports.coerce(args[0]);if("string"!==typeof args[0]){args.unshift("%O")}var index=0;args[0]=args[0].replace(/%([a-zA-Z%])/g,function(match,format){if(match==="%%")return match;index++;var formatter=exports.formatters[format];if("function"===typeof formatter){var val=args[index];match=formatter.call(self,val);args.splice(index,1);index--}return match});exports.formatArgs.call(self,args);var logFn=debug.log||exports.log||console.log.bind(console);logFn.apply(self,args)}debug.namespace=namespace;debug.enabled=exports.enabled(namespace);debug.useColors=exports.useColors();debug.color=selectColor(namespace);if("function"===typeof exports.init){exports.init(debug)}return debug}function enable(namespaces){exports.save(namespaces);exports.names=[];exports.skips=[];var split=(typeof namespaces==="string"?namespaces:"").split(/[\s,]+/);var len=split.length;for(var i=0;i<len;i++){if(!split[i])continue;namespaces=split[i].replace(/\*/g,".*?");if(namespaces[0]==="-"){exports.skips.push(new RegExp("^"+namespaces.substr(1)+"$"))}else{exports.names.push(new RegExp("^"+namespaces+"$"))}}}function disable(){exports.enable("")}function enabled(name){var i,len;for(i=0,len=exports.skips.length;i<len;i++){if(exports.skips[i].test(name)){return false}}for(i=0,len=exports.names.length;i<len;i++){if(exports.names[i].test(name)){return true}}return false}function coerce(val){if(val instanceof Error)return val.stack||val.message;return val}},{ms:378}],381:[function(require,module,exports){"use strict";module.exports=ready;function ready(callback){if(typeof document==="undefined"){throw new Error("document-ready only runs in the browser")}var state=document.readyState;if(state==="complete"||state==="interactive"){return setTimeout(callback,0)}document.addEventListener("DOMContentLoaded",function onLoad(){callback()})}},{}],382:[function(require,module,exports){function EventEmitter(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined}module.exports=EventEmitter;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=undefined;EventEmitter.prototype._maxListeners=undefined;EventEmitter.defaultMaxListeners=10;EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||n<0||isNaN(n))throw TypeError("n must be a positive number");this._maxListeners=n;return this};EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(!this._events)this._events={};if(type==="error"){if(!this._events.error||isObject(this._events.error)&&!this._events.error.length){er=arguments[1];if(er instanceof Error){throw er}else{var err=new Error('Uncaught, unspecified "error" event. ('+er+")");err.context=er;throw err}}}handler=this._events[type];if(isUndefined(handler))return false;if(isFunction(handler)){switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:args=Array.prototype.slice.call(arguments,1);handler.apply(this,args)}}else if(isObject(handler)){args=Array.prototype.slice.call(arguments,1);listeners=handler.slice();len=listeners.length;for(i=0;i<len;i++)listeners[i].apply(this,args)}return true};EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events)this._events={};if(this._events.newListener)this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener);if(!this._events[type])this._events[type]=listener;else if(isObject(this._events[type]))this._events[type].push(listener);else this._events[type]=[this._events[type],listener];if(isObject(this._events[type])&&!this._events[type].warned){if(!isUndefined(this._maxListeners)){m=this._maxListeners}else{m=EventEmitter.defaultMaxListeners}if(m&&m>0&&this._events[type].length>m){this._events[type].warned=true;console.error("(node) warning: possible EventEmitter memory "+"leak detected. %d listeners added. "+"Use emitter.setMaxListeners() to increase limit.",this._events[type].length);if(typeof console.trace==="function"){console.trace()}}}return this};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.once=function(type,listener){if(!isFunction(listener))throw TypeError("listener must be a function");var fired=false;function g(){this.removeListener(type,g);if(!fired){fired=true;listener.apply(this,arguments)}}g.listener=listener;this.on(type,g);return this};EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;list=this._events[type];length=list.length;position=-1;if(list===listener||isFunction(list.listener)&&list.listener===listener){delete this._events[type];if(this._events.removeListener)this.emit("removeListener",type,listener)}else if(isObject(list)){for(i=length;i-- >0;){if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}}if(position<0)return this;if(list.length===1){list.length=0;delete this._events[type]}else{list.splice(position,1)}if(this._events.removeListener)this.emit("removeListener",type,listener)}return this};EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener){if(arguments.length===0)this._events={};else if(this._events[type])delete this._events[type];return this}if(arguments.length===0){for(key in this._events){if(key==="removeListener")continue;this.removeAllListeners(key)}this.removeAllListeners("removeListener");this._events={};return this}listeners=this._events[type];if(isFunction(listeners)){this.removeListener(type,listeners)}else if(listeners){while(listeners.length)this.removeListener(type,listeners[listeners.length-1])}delete this._events[type];return this};EventEmitter.prototype.listeners=function(type){var ret;if(!this._events||!this._events[type])ret=[];else if(isFunction(this._events[type]))ret=[this._events[type]];else ret=this._events[type].slice();return ret};EventEmitter.prototype.listenerCount=function(type){if(this._events){var evlistener=this._events[type];if(isFunction(evlistener))return 1;else if(evlistener)return evlistener.length}return 0};EventEmitter.listenerCount=function(emitter,type){return emitter.listenerCount(type)};function isFunction(arg){return typeof arg==="function"}function isNumber(arg){return typeof arg==="number"}function isObject(arg){return typeof arg==="object"&&arg!==null}function isUndefined(arg){return arg===void 0}},{}],383:[function(require,module,exports){module.exports=stringify;stringify.default=stringify;stringify.stable=deterministicStringify;stringify.stableStringify=deterministicStringify;var arr=[];function stringify(obj,replacer,spacer){decirc(obj,"",[],undefined);var res=JSON.stringify(obj,replacer,spacer);while(arr.length!==0){var part=arr.pop();part[0][part[1]]=part[2]}return res}function decirc(val,k,stack,parent){var i;if(typeof val==="object"&&val!==null){for(i=0;i<stack.length;i++){if(stack[i]===val){parent[k]="[Circular]";arr.push([parent,k,val]);return}}stack.push(val);if(Array.isArray(val)){for(i=0;i<val.length;i++){decirc(val[i],i,stack,val)}}else{var keys=Object.keys(val);for(i=0;i<keys.length;i++){var key=keys[i];decirc(val[key],key,stack,val)}}stack.pop()}}function compareFunction(a,b){if(a<b){return-1}if(a>b){return 1}return 0}function deterministicStringify(obj,replacer,spacer){var tmp=deterministicDecirc(obj,"",[],undefined)||obj;var res=JSON.stringify(tmp,replacer,spacer);while(arr.length!==0){var part=arr.pop();part[0][part[1]]=part[2]}return res}function deterministicDecirc(val,k,stack,parent){var i;if(typeof val==="object"&&val!==null){for(i=0;i<stack.length;i++){if(stack[i]===val){parent[k]="[Circular]";arr.push([parent,k,val]);return}}if(typeof val.toJSON==="function"){return}stack.push(val);if(Array.isArray(val)){for(i=0;i<val.length;i++){deterministicDecirc(val[i],i,stack,val)}}else{var tmp={};var keys=Object.keys(val).sort(compareFunction);for(i=0;i<keys.length;i++){var key=keys[i];deterministicDecirc(val[key],key,stack,val);tmp[key]=val[key]}if(parent!==undefined){arr.push([parent,k,val]);parent[k]=tmp}else{return tmp}}stack.pop()}}},{}],384:[function(require,module,exports){(function(){"use strict";function FastClick(layer,options){var oldOnClick;options=options||{};this.trackingClick=false;this.trackingClickStart=0;this.targetElement=null;this.touchStartX=0;this.touchStartY=0;this.lastTouchIdentifier=0;this.touchBoundary=options.touchBoundary||10;this.layer=layer;this.tapDelay=options.tapDelay||200;this.tapTimeout=options.tapTimeout||700;if(FastClick.notNeeded(layer)){return}function bind(method,context){return function(){return method.apply(context,arguments)}}var methods=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"];var context=this;for(var i=0,l=methods.length;i<l;i++){context[methods[i]]=bind(context[methods[i]],context)}if(deviceIsAndroid){layer.addEventListener("mouseover",this.onMouse,true);layer.addEventListener("mousedown",this.onMouse,true);layer.addEventListener("mouseup",this.onMouse,true)}layer.addEventListener("click",this.onClick,true);layer.addEventListener("touchstart",this.onTouchStart,false);layer.addEventListener("touchmove",this.onTouchMove,false);layer.addEventListener("touchend",this.onTouchEnd,false);layer.addEventListener("touchcancel",this.onTouchCancel,false);if(!Event.prototype.stopImmediatePropagation){layer.removeEventListener=function(type,callback,capture){var rmv=Node.prototype.removeEventListener;if(type==="click"){rmv.call(layer,type,callback.hijacked||callback,capture)}else{rmv.call(layer,type,callback,capture)}};layer.addEventListener=function(type,callback,capture){var adv=Node.prototype.addEventListener;if(type==="click"){adv.call(layer,type,callback.hijacked||(callback.hijacked=function(event){if(!event.propagationStopped){callback(event)}}),capture)}else{adv.call(layer,type,callback,capture)}}}if(typeof layer.onclick==="function"){oldOnClick=layer.onclick;layer.addEventListener("click",function(event){oldOnClick(event)},false);layer.onclick=null}}var deviceIsWindowsPhone=navigator.userAgent.indexOf("Windows Phone")>=0;var deviceIsAndroid=navigator.userAgent.indexOf("Android")>0&&!deviceIsWindowsPhone;var deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent)&&!deviceIsWindowsPhone;var deviceIsIOS4=deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent);var deviceIsIOSWithBadTarget=deviceIsIOS&&/OS [6-7]_\d/.test(navigator.userAgent);var deviceIsBlackBerry10=navigator.userAgent.indexOf("BB10")>0;FastClick.prototype.needsClick=function(target){switch(target.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(target.disabled){return true}break;case"input":if(deviceIsIOS&&target.type==="file"||target.disabled){return true}break;case"label":case"iframe":case"video":return true}return/\bneedsclick\b/.test(target.className)};FastClick.prototype.needsFocus=function(target){switch(target.nodeName.toLowerCase()){case"textarea":return true;case"select":return!deviceIsAndroid;case"input":switch(target.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return false}return!target.disabled&&!target.readOnly;default:return/\bneedsfocus\b/.test(target.className)}};FastClick.prototype.sendClick=function(targetElement,event){var clickEvent,touch;if(document.activeElement&&document.activeElement!==targetElement){document.activeElement.blur()}touch=event.changedTouches[0];clickEvent=document.createEvent("MouseEvents");clickEvent.initMouseEvent(this.determineEventType(targetElement),true,true,window,1,touch.screenX,touch.screenY,touch.clientX,touch.clientY,false,false,false,false,0,null);clickEvent.forwardedTouchEvent=true;targetElement.dispatchEvent(clickEvent)};FastClick.prototype.determineEventType=function(targetElement){if(deviceIsAndroid&&targetElement.tagName.toLowerCase()==="select"){return"mousedown"}return"click"};FastClick.prototype.focus=function(targetElement){var length;if(deviceIsIOS&&targetElement.setSelectionRange&&targetElement.type.indexOf("date")!==0&&targetElement.type!=="time"&&targetElement.type!=="month"){length=targetElement.value.length;targetElement.setSelectionRange(length,length)}else{targetElement.focus()}};FastClick.prototype.updateScrollParent=function(targetElement){var scrollParent,parentElement;scrollParent=targetElement.fastClickScrollParent;if(!scrollParent||!scrollParent.contains(targetElement)){parentElement=targetElement;do{if(parentElement.scrollHeight>parentElement.offsetHeight){scrollParent=parentElement;targetElement.fastClickScrollParent=parentElement;break}parentElement=parentElement.parentElement}while(parentElement)}if(scrollParent){scrollParent.fastClickLastScrollTop=scrollParent.scrollTop}};FastClick.prototype.getTargetElementFromEventTarget=function(eventTarget){if(eventTarget.nodeType===Node.TEXT_NODE){return eventTarget.parentNode}return eventTarget};FastClick.prototype.onTouchStart=function(event){var targetElement,touch,selection;if(event.targetTouches.length>1){return true}targetElement=this.getTargetElementFromEventTarget(event.target);touch=event.targetTouches[0];if(deviceIsIOS){selection=window.getSelection();if(selection.rangeCount&&!selection.isCollapsed){return true}if(!deviceIsIOS4){if(touch.identifier&&touch.identifier===this.lastTouchIdentifier){event.preventDefault();return false}this.lastTouchIdentifier=touch.identifier;this.updateScrollParent(targetElement)}}this.trackingClick=true;this.trackingClickStart=event.timeStamp;this.targetElement=targetElement;this.touchStartX=touch.pageX;this.touchStartY=touch.pageY;if(event.timeStamp-this.lastClickTime<this.tapDelay){event.preventDefault()}return true};FastClick.prototype.touchHasMoved=function(event){var touch=event.changedTouches[0],boundary=this.touchBoundary;if(Math.abs(touch.pageX-this.touchStartX)>boundary||Math.abs(touch.pageY-this.touchStartY)>boundary){return true}return false};FastClick.prototype.onTouchMove=function(event){if(!this.trackingClick){return true}if(this.targetElement!==this.getTargetElementFromEventTarget(event.target)||this.touchHasMoved(event)){this.trackingClick=false;this.targetElement=null}return true};FastClick.prototype.findControl=function(labelElement){if(labelElement.control!==undefined){return labelElement.control}if(labelElement.htmlFor){return document.getElementById(labelElement.htmlFor)}return labelElement.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")};FastClick.prototype.onTouchEnd=function(event){var forElement,trackingClickStart,targetTagName,scrollParent,touch,targetElement=this.targetElement;if(!this.trackingClick){return true}if(event.timeStamp-this.lastClickTime<this.tapDelay){this.cancelNextClick=true;return true}if(event.timeStamp-this.trackingClickStart>this.tapTimeout){return true}this.cancelNextClick=false;this.lastClickTime=event.timeStamp;trackingClickStart=this.trackingClickStart;this.trackingClick=false;this.trackingClickStart=0;if(deviceIsIOSWithBadTarget){touch=event.changedTouches[0];targetElement=document.elementFromPoint(touch.pageX-window.pageXOffset,touch.pageY-window.pageYOffset)||targetElement;targetElement.fastClickScrollParent=this.targetElement.fastClickScrollParent}targetTagName=targetElement.tagName.toLowerCase();if(targetTagName==="label"){forElement=this.findControl(targetElement);if(forElement){this.focus(targetElement);if(deviceIsAndroid){return false}targetElement=forElement}}else if(this.needsFocus(targetElement)){if(event.timeStamp-trackingClickStart>100||deviceIsIOS&&window.top!==window&&targetTagName==="input"){this.targetElement=null;return false}this.focus(targetElement);this.sendClick(targetElement,event);if(!deviceIsIOS||targetTagName!=="select"){this.targetElement=null;event.preventDefault()}return false}if(deviceIsIOS&&!deviceIsIOS4){scrollParent=targetElement.fastClickScrollParent;if(scrollParent&&scrollParent.fastClickLastScrollTop!==scrollParent.scrollTop){return true}}if(!this.needsClick(targetElement)){event.preventDefault();this.sendClick(targetElement,event)}return false};FastClick.prototype.onTouchCancel=function(){this.trackingClick=false;this.targetElement=null};FastClick.prototype.onMouse=function(event){if(!this.targetElement){return true}if(event.forwardedTouchEvent){return true}if(!event.cancelable){return true}if(!this.needsClick(this.targetElement)||this.cancelNextClick){if(event.stopImmediatePropagation){event.stopImmediatePropagation()}else{event.propagationStopped=true}event.stopPropagation();event.preventDefault();return false}return true};FastClick.prototype.onClick=function(event){var permitted;if(this.trackingClick){this.targetElement=null;this.trackingClick=false;return true}if(event.target.type==="submit"&&event.detail===0){return true}permitted=this.onMouse(event);if(!permitted){this.targetElement=null}return permitted};FastClick.prototype.destroy=function(){var layer=this.layer;if(deviceIsAndroid){layer.removeEventListener("mouseover",this.onMouse,true);layer.removeEventListener("mousedown",this.onMouse,true);layer.removeEventListener("mouseup",this.onMouse,true)}layer.removeEventListener("click",this.onClick,true);layer.removeEventListener("touchstart",this.onTouchStart,false);layer.removeEventListener("touchmove",this.onTouchMove,false);layer.removeEventListener("touchend",this.onTouchEnd,false);layer.removeEventListener("touchcancel",this.onTouchCancel,false)};FastClick.notNeeded=function(layer){var metaViewport;var chromeVersion;var blackberryVersion;var firefoxVersion;if(typeof window.ontouchstart==="undefined"){return true}chromeVersion=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(chromeVersion){if(deviceIsAndroid){metaViewport=document.querySelector("meta[name=viewport]");if(metaViewport){if(metaViewport.content.indexOf("user-scalable=no")!==-1){return true}if(chromeVersion>31&&document.documentElement.scrollWidth<=window.outerWidth){return true}}}else{return true}}if(deviceIsBlackBerry10){blackberryVersion=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/);if(blackberryVersion[1]>=10&&blackberryVersion[2]>=3){metaViewport=document.querySelector("meta[name=viewport]");if(metaViewport){if(metaViewport.content.indexOf("user-scalable=no")!==-1){return true}if(document.documentElement.scrollWidth<=window.outerWidth){return true}}}}if(layer.style.msTouchAction==="none"||layer.style.touchAction==="manipulation"){return true}firefoxVersion=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(firefoxVersion>=27){metaViewport=document.querySelector("meta[name=viewport]");if(metaViewport&&(metaViewport.content.indexOf("user-scalable=no")!==-1||document.documentElement.scrollWidth<=window.outerWidth)){return true}}if(layer.style.touchAction==="none"||layer.style.touchAction==="manipulation"){return true}return false};FastClick.attach=function(layer,options){return new FastClick(layer,options)};if(typeof define==="function"&&typeof define.amd==="object"&&define.amd){define(function(){return FastClick})}else if(typeof module!=="undefined"&&module.exports){module.exports=FastClick.attach;module.exports.FastClick=FastClick}else{window.FastClick=FastClick}})()},{}],385:[function(require,module,exports){(function(global){var topLevel=typeof global!=="undefined"?global:typeof window!=="undefined"?window:{};var minDoc=require("min-document");var doccy;if(typeof document!=="undefined"){doccy=document}else{doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"];if(!doccy){doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"]=minDoc}}module.exports=doccy}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"min-document":28}],386:[function(require,module,exports){(function(global){var win;if(typeof window!=="undefined"){win=window}else if(typeof global!=="undefined"){win=global}else if(typeof self!=="undefined"){win=self}else{win={}}module.exports=win}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],387:[function(require,module,exports){var hat=module.exports=function(bits,base){if(!base)base=16;if(bits===undefined)bits=128;if(bits<=0)return"0";var digits=Math.log(Math.pow(2,bits))/Math.log(base);for(var i=2;digits===Infinity;i*=2){digits=Math.log(Math.pow(2,bits/i))/Math.log(base)*i}var rem=digits-Math.floor(digits);var res="";for(var i=0;i<Math.floor(digits);i++){var x=Math.floor(Math.random()*base).toString(base);res=x+res}if(rem){var b=Math.pow(base,rem);var x=Math.floor(Math.random()*b).toString(base);res=x+res}var parsed=parseInt(res,base);if(parsed!==Infinity&&parsed>=Math.pow(2,bits)){return hat(bits,base)}else return res};hat.rack=function(bits,base,expandBy){var fn=function(data){var iters=0;do{if(iters++>10){if(expandBy)bits+=expandBy;else throw new Error("too many ID collisions, use more bits")}var id=hat(bits,base)}while(Object.hasOwnProperty.call(hats,id));hats[id]=data;return id};var hats=fn.hats={};fn.get=function(id){return fn.hats[id]};fn.set=function(id,value){fn.hats[id]=value;return fn};fn.bits=bits||128;fn.base=base||16;return fn}},{}],388:[function(require,module,exports){module.exports=attributeToProperty;var transform={class:"className",for:"htmlFor","http-equiv":"httpEquiv"};function attributeToProperty(h){return function(tagName,attrs,children){for(var attr in attrs){if(attr in transform){attrs[transform[attr]]=attrs[attr];delete attrs[attr]}}return h(tagName,attrs,children)}}},{}],389:[function(require,module,exports){var attrToProp=require("hyperscript-attribute-to-property");var VAR=0,TEXT=1,OPEN=2,CLOSE=3,ATTR=4;var ATTR_KEY=5,ATTR_KEY_W=6;var ATTR_VALUE_W=7,ATTR_VALUE=8;var ATTR_VALUE_SQ=9,ATTR_VALUE_DQ=10;var ATTR_EQ=11,ATTR_BREAK=12;var COMMENT=13;module.exports=function(h,opts){if(!opts)opts={};var concat=opts.concat||function(a,b){return String(a)+String(b)};if(opts.attrToProp!==false){h=attrToProp(h)}return function(strings){var state=TEXT,reg="";var arglen=arguments.length;var parts=[];for(var i=0;i<strings.length;i++){if(i<arglen-1){var arg=arguments[i+1];var p=parse(strings[i]);var xstate=state;if(xstate===ATTR_VALUE_DQ)xstate=ATTR_VALUE;if(xstate===ATTR_VALUE_SQ)xstate=ATTR_VALUE;if(xstate===ATTR_VALUE_W)xstate=ATTR_VALUE;if(xstate===ATTR)xstate=ATTR_KEY;if(xstate===OPEN){if(reg==="/"){p.push([OPEN,"/",arg]);reg=""}else{p.push([OPEN,arg])}}else if(xstate===COMMENT&&opts.comments){reg+=String(arg)}else if(xstate!==COMMENT){p.push([VAR,xstate,arg])}parts.push.apply(parts,p)}else parts.push.apply(parts,parse(strings[i]))}var tree=[null,{},[]];var stack=[[tree,-1]];for(var i=0;i<parts.length;i++){var cur=stack[stack.length-1][0];var p=parts[i],s=p[0];if(s===OPEN&&/^\//.test(p[1])){var ix=stack[stack.length-1][1];if(stack.length>1){stack.pop();stack[stack.length-1][0][2][ix]=h(cur[0],cur[1],cur[2].length?cur[2]:undefined)}}else if(s===OPEN){var c=[p[1],{},[]];cur[2].push(c);stack.push([c,cur[2].length-1])}else if(s===ATTR_KEY||s===VAR&&p[1]===ATTR_KEY){var key="";var copyKey;for(;i<parts.length;i++){if(parts[i][0]===ATTR_KEY){key=concat(key,parts[i][1])}else if(parts[i][0]===VAR&&parts[i][1]===ATTR_KEY){if(typeof parts[i][2]==="object"&&!key){for(copyKey in parts[i][2]){if(parts[i][2].hasOwnProperty(copyKey)&&!cur[1][copyKey]){cur[1][copyKey]=parts[i][2][copyKey]}}}else{key=concat(key,parts[i][2])}}else break}if(parts[i][0]===ATTR_EQ)i++;var j=i;for(;i<parts.length;i++){if(parts[i][0]===ATTR_VALUE||parts[i][0]===ATTR_KEY){if(!cur[1][key])cur[1][key]=strfn(parts[i][1]);else parts[i][1]===""||(cur[1][key]=concat(cur[1][key],parts[i][1]))}else if(parts[i][0]===VAR&&(parts[i][1]===ATTR_VALUE||parts[i][1]===ATTR_KEY)){if(!cur[1][key])cur[1][key]=strfn(parts[i][2]);else parts[i][2]===""||(cur[1][key]=concat(cur[1][key],parts[i][2]))}else{if(key.length&&!cur[1][key]&&i===j&&(parts[i][0]===CLOSE||parts[i][0]===ATTR_BREAK)){cur[1][key]=key.toLowerCase()}if(parts[i][0]===CLOSE){i--}break}}}else if(s===ATTR_KEY){cur[1][p[1]]=true}else if(s===VAR&&p[1]===ATTR_KEY){cur[1][p[2]]=true}else if(s===CLOSE){if(selfClosing(cur[0])&&stack.length){var ix=stack[stack.length-1][1];stack.pop();stack[stack.length-1][0][2][ix]=h(cur[0],cur[1],cur[2].length?cur[2]:undefined)}}else if(s===VAR&&p[1]===TEXT){if(p[2]===undefined||p[2]===null)p[2]="";else if(!p[2])p[2]=concat("",p[2]);if(Array.isArray(p[2][0])){cur[2].push.apply(cur[2],p[2])}else{cur[2].push(p[2])}}else if(s===TEXT){cur[2].push(p[1])}else if(s===ATTR_EQ||s===ATTR_BREAK){}else{throw new Error("unhandled: "+s)}}if(tree[2].length>1&&/^\s*$/.test(tree[2][0])){tree[2].shift()}if(tree[2].length>2||tree[2].length===2&&/\S/.test(tree[2][1])){if(opts.createFragment)return opts.createFragment(tree[2]);throw new Error("multiple root elements must be wrapped in an enclosing tag")}if(Array.isArray(tree[2][0])&&typeof tree[2][0][0]==="string"&&Array.isArray(tree[2][0][2])){tree[2][0]=h(tree[2][0][0],tree[2][0][1],tree[2][0][2])}return tree[2][0];function parse(str){var res=[];if(state===ATTR_VALUE_W)state=ATTR;for(var i=0;i<str.length;i++){var c=str.charAt(i);if(state===TEXT&&c==="<"){if(reg.length)res.push([TEXT,reg]);reg="";state=OPEN}else if(c===">"&&!quot(state)&&state!==COMMENT){if(state===OPEN&&reg.length){res.push([OPEN,reg])}else if(state===ATTR_KEY){res.push([ATTR_KEY,reg])}else if(state===ATTR_VALUE&&reg.length){res.push([ATTR_VALUE,reg])}res.push([CLOSE]);reg="";state=TEXT}else if(state===COMMENT&&/-$/.test(reg)&&c==="-"){if(opts.comments){res.push([ATTR_VALUE,reg.substr(0,reg.length-1)])}reg="";state=TEXT}else if(state===OPEN&&/^!--$/.test(reg)){if(opts.comments){res.push([OPEN,reg],[ATTR_KEY,"comment"],[ATTR_EQ])}reg=c;state=COMMENT}else if(state===TEXT||state===COMMENT){reg+=c}else if(state===OPEN&&c==="/"&&reg.length){}else if(state===OPEN&&/\s/.test(c)){if(reg.length){res.push([OPEN,reg])}reg="";state=ATTR}else if(state===OPEN){reg+=c}else if(state===ATTR&&/[^\s"'=\/]/.test(c)){state=ATTR_KEY;reg=c}else if(state===ATTR&&/\s/.test(c)){if(reg.length)res.push([ATTR_KEY,reg]);res.push([ATTR_BREAK])}else if(state===ATTR_KEY&&/\s/.test(c)){res.push([ATTR_KEY,reg]);reg="";state=ATTR_KEY_W}else if(state===ATTR_KEY&&c==="="){res.push([ATTR_KEY,reg],[ATTR_EQ]);reg="";state=ATTR_VALUE_W}else if(state===ATTR_KEY){reg+=c}else if((state===ATTR_KEY_W||state===ATTR)&&c==="="){res.push([ATTR_EQ]);state=ATTR_VALUE_W}else if((state===ATTR_KEY_W||state===ATTR)&&!/\s/.test(c)){res.push([ATTR_BREAK]);if(/[\w-]/.test(c)){reg+=c;state=ATTR_KEY}else state=ATTR}else if(state===ATTR_VALUE_W&&c==='"'){state=ATTR_VALUE_DQ}else if(state===ATTR_VALUE_W&&c==="'"){state=ATTR_VALUE_SQ}else if(state===ATTR_VALUE_DQ&&c==='"'){res.push([ATTR_VALUE,reg],[ATTR_BREAK]);reg="";state=ATTR}else if(state===ATTR_VALUE_SQ&&c==="'"){res.push([ATTR_VALUE,reg],[ATTR_BREAK]);reg="";state=ATTR}else if(state===ATTR_VALUE_W&&!/\s/.test(c)){state=ATTR_VALUE;i--}else if(state===ATTR_VALUE&&/\s/.test(c)){res.push([ATTR_VALUE,reg],[ATTR_BREAK]);reg="";state=ATTR}else if(state===ATTR_VALUE||state===ATTR_VALUE_SQ||state===ATTR_VALUE_DQ){reg+=c}}if(state===TEXT&&reg.length){res.push([TEXT,reg]);reg=""}else if(state===ATTR_VALUE&&reg.length){res.push([ATTR_VALUE,reg]);reg=""}else if(state===ATTR_VALUE_DQ&&reg.length){res.push([ATTR_VALUE,reg]);reg=""}else if(state===ATTR_VALUE_SQ&&reg.length){res.push([ATTR_VALUE,reg]);reg=""}else if(state===ATTR_KEY){res.push([ATTR_KEY,reg]);reg=""}return res}};function strfn(x){if(typeof x==="function")return x;else if(typeof x==="string")return x;else if(x&&typeof x==="object")return x;else if(x===null||x===undefined)return x;else return concat("",x)}};function quot(state){return state===ATTR_VALUE_SQ||state===ATTR_VALUE_DQ}var closeRE=RegExp("^("+["area","base","basefont","bgsound","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr","!--","animate","animateTransform","circle","cursor","desc","ellipse","feBlend","feColorMatrix","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","font-face-format","font-face-name","font-face-uri","glyph","glyphRef","hkern","image","line","missing-glyph","mpath","path","polygon","polyline","rect","set","stop","tref","use","view","vkern"].join("|")+")(?:[.#][a-zA-Z0-9-￿_:-]+)*$");function selfClosing(tag){return closeRE.test(tag)}},{"hyperscript-attribute-to-property":388}],390:[function(require,module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m;var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var nBits=-7;var i=isLE?nBytes-1:0;var d=isLE?-1:1;var s=buffer[offset+i];i+=d;e=s&(1<<-nBits)-1;s>>=-nBits;nBits+=eLen;for(;nBits>0;e=e*256+buffer[offset+i],i+=d,nBits-=8){}m=e&(1<<-nBits)-1;e>>=-nBits;nBits+=mLen;for(;nBits>0;m=m*256+buffer[offset+i],i+=d,nBits-=8){}if(e===0){e=1-eBias}else if(e===eMax){return m?NaN:(s?-1:1)*Infinity}else{m=m+Math.pow(2,mLen);e=e-eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)};exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c;var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var rt=mLen===23?Math.pow(2,-24)-Math.pow(2,-77):0;var i=isLE?0:nBytes-1;var d=isLE?1:-1;var s=value<0||value===0&&1/value<0?1:0;value=Math.abs(value);if(isNaN(value)||value===Infinity){m=isNaN(value)?1:0;e=eMax}else{e=Math.floor(Math.log(value)/Math.LN2);if(value*(c=Math.pow(2,-e))<1){e--;c*=2}if(e+eBias>=1){value+=rt/c}else{value+=rt*Math.pow(2,1-eBias)}if(value*c>=2){e++;c/=2}if(e+eBias>=eMax){m=0;e=eMax}else if(e+eBias>=1){m=(value*c-1)*Math.pow(2,mLen);e=e+eBias}else{m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen);e=0}}for(;mLen>=8;buffer[offset+i]=m&255,i+=d,m/=256,mLen-=8){}e=e<<mLen|m;eLen+=mLen;for(;eLen>0;buffer[offset+i]=e&255,i+=d,e/=256,eLen-=8){}buffer[offset+i-d]|=s*128}},{}],391:[function(require,module,exports){arguments[4][24][0].apply(exports,arguments)},{dup:24}],392:[function(require,module,exports){module.exports=function(obj){return obj!=null&&(isBuffer(obj)||isSlowBuffer(obj)||!!obj._isBuffer)};function isBuffer(obj){return!!obj.constructor&&typeof obj.constructor.isBuffer==="function"&&obj.constructor.isBuffer(obj)}function isSlowBuffer(obj){return typeof obj.readFloatLE==="function"&&typeof obj.slice==="function"&&isBuffer(obj.slice(0,0))}},{}],393:[function(require,module,exports){module.exports=isTypedArray;isTypedArray.strict=isStrictTypedArray;isTypedArray.loose=isLooseTypedArray;var toString=Object.prototype.toString;var names={"[object Int8Array]":true,"[object Int16Array]":true,"[object Int32Array]":true,"[object Uint8Array]":true,"[object Uint8ClampedArray]":true,"[object Uint16Array]":true,"[object Uint32Array]":true,"[object Float32Array]":true,"[object Float64Array]":true};function isTypedArray(arr){return isStrictTypedArray(arr)||isLooseTypedArray(arr)}function isStrictTypedArray(arr){return arr instanceof Int8Array||arr instanceof Int16Array||arr instanceof Int32Array||arr instanceof Uint8Array||arr instanceof Uint8ClampedArray||arr instanceof Uint16Array||arr instanceof Uint32Array||arr instanceof Float32Array||arr instanceof Float64Array}function isLooseTypedArray(arr){return names[toString.call(arr)]}},{}],394:[function(require,module,exports){"use strict";module.exports=require("os").EOL},{os:427}],395:[function(require,module,exports){"use strict";module.exports=function escapedDelimiters(textDelimiter,rowDelimiter,forceTextDelimiter){let endOfLine="\n";if(typeof textDelimiter!=="string"){throw new TypeError('Invalid param "textDelimiter", must be a string.')}if(typeof rowDelimiter!=="string"){throw new TypeError('Invalid param "rowDelimiter", must be a string.')}let textDelimiterRegex=new RegExp("\\"+textDelimiter,"g");let escapedDelimiter=textDelimiter+textDelimiter;const enclosingCondition=textDelimiter==='"'?value=>value.indexOf(rowDelimiter)>=0||value.indexOf(endOfLine)>=0||value.indexOf('"')>=0:value=>value.indexOf(rowDelimiter)>=0||value.indexOf(endOfLine)>=0;return function(value){if(forceTextDelimiter)value=""+value;if(!value.replace)return value;value=value.replace(textDelimiterRegex,escapedDelimiter);if(forceTextDelimiter||enclosingCondition(value)){value=textDelimiter+value+textDelimiter}return value}}},{}],396:[function(require,module,exports){"use strict";module.exports.isFunction=fn=>{var getType={};return fn&&getType.toString.call(fn)==="[object Function]"};module.exports.isArray=arr=>Array.isArray(arr);module.exports.isObject=obj=>obj instanceof Object;module.exports.isString=str=>typeof str==="string";module.exports.isNumber=num=>typeof num==="number";module.exports.isBoolean=bool=>typeof bool==="boolean";module.exports.isDate=date=>date instanceof Date},{}],397:[function(require,module,exports){const EOL=require("./eol");const helper=require("./helper");module.exports=function joinRows(rows,join){if(!rows||!helper.isArray(rows)){throw new TypeError('Invalid params "rows" for joinRows.'+" Must be an array of string.")}var r=rows.join(join||EOL||"\n");return r}},{"./eol":394,"./helper":396}],398:[function(require,module,exports){"use strict";const Transform=require("stream").Transform;class Stream extends Transform{constructor(parser){super();this._parser=parser;this._options=parser._options;this._headers=this._options.headers||[];this._hasHeaders=false;this._lastError=null}_mergeChunk(chunk){let self=this;self._extra=self._extra||"";if(self._extra.length>chunk.toString().length*3)return null;if(self._extra.charAt(0)==",")self._extra=self._extra.substr(1);chunk=self._extra+chunk.toString();if(self._extra.length>0)self._extra="";return chunk}_wrapArray(data){if(data.charAt(0)!="[")data="["+data;if(data.charAt(data.length-1)!="]")data+="]";return data}_transform(chunk,encoding,done){let self=this;let json=null;chunk=this._mergeChunk(chunk);if(!chunk)return done(this._lastError);let parts=chunk.split("}");while(json===null&&parts.length>0){try{let data=self._wrapArray(parts.join("}"));json=JSON.parse(data)}catch(ex){this._lastError=ex;let extraChunk=parts.pop();self._extra=extraChunk+(self._extra||"");if(parts.length>0)parts[parts.length-1]+="}"}}if(!json)return done();this._parser.parse(json,(err,csvChunk)=>{if(err)return done(err);if(!self.hasHeaders){self.hasHeaders=true;self.push(self._parser.headers)}self.push(self._options.endOfLine+csvChunk);done()},true)}}module.exports=Stream},{stream:459}],399:[function(require,module,exports){"use strict";const Parser=require("./parser/csv");const Stream=require("./core/stream");const helper=require("./core/helper");module.exports=function(json,userOptions,callback){if(helper.isFunction(userOptions)){callback=userOptions;userOptions={}}userOptions=!callback?json:userOptions;let parser=new Parser(userOptions);if(!callback||!helper.isFunction(callback))return new Stream(parser);parser.parse(json,callback)}},{"./core/helper":396,"./core/stream":398,"./parser/csv":400}],400:[function(require,module,exports){"use strict";const EOL=require("../core/eol");const joinRows=require("../core/join-rows");const Handler=require("./handler");const helper=require("../core/helper");class Parser{constructor(options){this._options=this._parseOptions(options)||{};this._handler=new Handler(this._options);this._headers=this._options.headers||[];this._escape=require("../core/escape-delimiters")(this._options.textDelimiter,this._options.rowDelimiter,this._options.forceTextDelimiter)}parse(json,done,stream){if(helper.isArray(json))return done(null,this._parseArray(json,stream));else if(helper.isObject(json))return done(null,this._parseObject(json));return done(new Error("Unable to parse the JSON object, its not an Array or Object."))}get headers(){let headers=this._headers;if(this._options.rename&&this._options.rename.length>0)headers=headers.map(header=>this._options.rename[this._options.headers.indexOf(header)]||header);if(this._options.forceTextDelimiter){headers=headers.map(header=>{return`${this._options.textDelimiter}${header}${this._options.textDelimiter}`})}if(this._options.mapHeaders)headers=headers.map(this._options.mapHeaders);return headers.join(this._options.rowDelimiter)}_checkRows(rows){let lastRow=null;let finalRows=[];let fillGaps=(col,index)=>col===""||col===undefined?lastRow[index]:col;for(let row of rows){let missing=this._headers.length-row.length;if(missing>0)row=row.concat(Array(missing).join(".").split("."));if(lastRow&&this._options.fillGaps)row=row.map(fillGaps);finalRows.push(row.join(this._options.rowDelimiter));lastRow=row}return finalRows}_parseArray(json,stream){let self=this;this._headers=this._headers||[];let fileRows=[];let outputFile;let fillRows;let getHeaderIndex=function(header){var index=self._headers.indexOf(header);if(index===-1){self._headers.push(header);index=self._headers.indexOf(header)}return index};fillRows=function(result){let resultRows=[Array(self._headers.length).join(".").split(".")];for(let element of result){let elementHeaderIndex=getHeaderIndex(element.item);let placed=false;for(let row of resultRows){if(!placed&&row[elementHeaderIndex]===""||row[elementHeaderIndex]===undefined){row[elementHeaderIndex]=self._escape(element.value);placed=true;break}}if(!placed){let newRow=Array(self._headers.length).join(".").split(".");newRow[elementHeaderIndex]=self._escape(element.value);resultRows.push(newRow)}}fileRows=fileRows.concat(self._checkRows(resultRows))};for(let item of json){let itemResult=self._handler.check(item,self._options.mainPathItem,item,json);fillRows(itemResult)}if(!stream&&self._options.includeHeaders){fileRows.unshift(this.headers)}return joinRows(fileRows,self._options.endOfLine)}_parseObject(json){let self=this;let fileRows=[];let parseResult=[];let outputFile;let fillRows;let horizontalRows=[[],[]];fillRows=function(result){var value=result.value?result.value.toString():self._options.undefinedString;value=self._escape(value);if(self._options.verticalOutput){var row=[result.item,value];fileRows.push(row.join(self._options.rowDelimiter))}else{horizontalRows[0].push(result.item);horizontalRows[1].push(value)}};for(var prop in json){var prefix="";if(this._options.mainPathItem)prefix=this._options.mainPathItem+this._options.headerPathString;parseResult=this._handler.check(json[prop],prefix+prop,prop,json);parseResult.forEach(fillRows)}if(!this._options.verticalOutput){fileRows.push(horizontalRows[0].join(this._options.rowDelimiter));fileRows.push(horizontalRows[1].join(this._options.rowDelimiter))}return joinRows(fileRows,this._options.endOfLine)}_parseOptions(userOptions){let defaultOptions={headers:[],rename:[],headerPathString:".",rowDelimiter:",",textDelimiter:'"',arrayPathString:";",undefinedString:"",endOfLine:EOL||"\n",mainPathItem:null,booleanTrueString:null,booleanFalseString:null,includeHeaders:true,fillGaps:false,verticalOutput:true,forceTextDelimiter:false,handleString:undefined,handleNumber:undefined,handleBoolean:undefined,handleDate:undefined};return Object.assign({},defaultOptions,userOptions)}}module.exports=Parser},{"../core/eol":394,"../core/escape-delimiters":395,"../core/helper":396,"../core/join-rows":397,"./handler":401}],401:[function(require,module,exports){(function(global){"use strict";const helper=require("../core/helper");class Handler{constructor(options){this._options=options;this._options.typeHandlers=this._options.typeHandlers||{};this._options.handleString=this._options.handleString?warnDepOp("handleString",this._options.handleString):this._handleString;this._options.handleNumber=this._options.handleNumber?warnDepOp("handleNumber",this._options.handleNumber):this._handleNumber;this._options.handleBoolean=this._options.handleBoolean?warnDepOp("handleBoolean",this._options.handleBoolean):this._handleBoolean;this._options.handleDate=this._options.handleDate?warnDepOp("handleDate",this._options.handleDate):this._handleDate}_setHeaders(result,item){let self=this;if(!item)return result;return result.map(function(element){element.item=element.item?item+self._options.headerPathString+element.item:item;return element})}castValue(element,item,index,parent){const types=this._options.typeHandlers;for(let type in types){if(isInstanceOfTypeName(element,type)){element=types[type].call(types,element,index,parent);break}}return element}checkComplex(element,item){if(helper.isDate(element)){return[{item:item,value:this._options.handleDate(element,item)}]}else if(helper.isArray(element)){var resultArray=this._handleArray(element,item);return this._setHeaders(resultArray,item)}else if(helper.isObject(element)){var resultObject=this._handleObject(element);return this._setHeaders(resultObject,item)}return[{item:item,value:""}]}check(element,item,index,parent){element=this.castValue(element,item,index,parent);switch(typeof element){case"string":return[{item:item,value:this._options.handleString(element,item)}];case"number":return[{item:item,value:this._options.handleNumber(element,item)}];case"boolean":return[{item:item,value:this._options.handleBoolean.bind(this)(element,item)}]}return this.checkComplex(element,item)}_handleObject(obj){var result=[];for(var prop in obj){var propData=obj[prop];var resultCheckType=this.check(propData,prop,prop,obj);result=result.concat(resultCheckType)}return result}_handleArray(array){let self=this;let result=[];var firstElementWithoutItem;for(let aIndex=0;aIndex<array.length;++aIndex){let element=array[aIndex];var resultCheckType=self.check(element,null,aIndex,array);if(resultCheckType.length===0)continue;var firstResult=resultCheckType[0];if(!firstResult.item&&firstElementWithoutItem!==undefined){firstElementWithoutItem.value+=self._options.arrayPathString+firstResult.value;continue}else if(resultCheckType.length>0&&!firstResult.item&&firstElementWithoutItem===undefined){firstElementWithoutItem=firstResult}result=result.concat(resultCheckType)}return result}_handleBoolean(boolean){var result;if(boolean){result=this._options.booleanTrueString||"true"}else{result=this._options.booleanFalseString||"false"}return result}_handleString(string){return string}_handleNumber(number){return number}_handleDate(date){return date.toLocaleDateString()}}module.exports=Handler;function warnDepOp(optionName,backOut){console.warn("[jsonexport]: option "+optionName+" has been deprecated. Use option.typeHandlers");return backOut}const globalScope=typeof window==="undefined"?global:window;function isInstanceOfTypeName(element,typeName){if(element instanceof globalScope[typeName]){return true}switch(typeof element){case"string":return typeName==="String";case"boolean":return typeName==="Boolean";case"number":return typeName==="Number"}return false}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../core/helper":396}],402:[function(require,module,exports){(function(global){(function(){var undefined;var VERSION="4.17.15";var LARGE_ARRAY_SIZE=200;var CORE_ERROR_TEXT="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",FUNC_ERROR_TEXT="Expected a function";var HASH_UNDEFINED="__lodash_hash_undefined__";var MAX_MEMOIZE_SIZE=500;var PLACEHOLDER="__lodash_placeholder__";var CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4;var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;var WRAP_BIND_FLAG=1,WRAP_BIND_KEY_FLAG=2,WRAP_CURRY_BOUND_FLAG=4,WRAP_CURRY_FLAG=8,WRAP_CURRY_RIGHT_FLAG=16,WRAP_PARTIAL_FLAG=32,WRAP_PARTIAL_RIGHT_FLAG=64,WRAP_ARY_FLAG=128,WRAP_REARG_FLAG=256,WRAP_FLIP_FLAG=512;var DEFAULT_TRUNC_LENGTH=30,DEFAULT_TRUNC_OMISSION="...";var HOT_COUNT=800,HOT_SPAN=16;var LAZY_FILTER_FLAG=1,LAZY_MAP_FLAG=2,LAZY_WHILE_FLAG=3;var INFINITY=1/0,MAX_SAFE_INTEGER=9007199254740991,MAX_INTEGER=17976931348623157e292,NAN=0/0;var MAX_ARRAY_LENGTH=4294967295,MAX_ARRAY_INDEX=MAX_ARRAY_LENGTH-1,HALF_MAX_ARRAY_LENGTH=MAX_ARRAY_LENGTH>>>1;var wrapFlags=[["ary",WRAP_ARY_FLAG],["bind",WRAP_BIND_FLAG],["bindKey",WRAP_BIND_KEY_FLAG],["curry",WRAP_CURRY_FLAG],["curryRight",WRAP_CURRY_RIGHT_FLAG],["flip",WRAP_FLIP_FLAG],["partial",WRAP_PARTIAL_FLAG],["partialRight",WRAP_PARTIAL_RIGHT_FLAG],["rearg",WRAP_REARG_FLAG]];var argsTag="[object Arguments]",arrayTag="[object Array]",asyncTag="[object AsyncFunction]",boolTag="[object Boolean]",dateTag="[object Date]",domExcTag="[object DOMException]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",nullTag="[object Null]",objectTag="[object Object]",promiseTag="[object Promise]",proxyTag="[object Proxy]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",undefinedTag="[object Undefined]",weakMapTag="[object WeakMap]",weakSetTag="[object WeakSet]";var arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]";var reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g;var reEscapedHtml=/&(?:amp|lt|gt|quot|#39);/g,reUnescapedHtml=/[&<>"']/g,reHasEscapedHtml=RegExp(reEscapedHtml.source),reHasUnescapedHtml=RegExp(reUnescapedHtml.source);var reEscape=/<%-([\s\S]+?)%>/g,reEvaluate=/<%([\s\S]+?)%>/g,reInterpolate=/<%=([\s\S]+?)%>/g;var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reHasRegExpChar=RegExp(reRegExpChar.source);var reTrim=/^\s+|\s+$/g,reTrimStart=/^\s+/,reTrimEnd=/\s+$/;var reWrapComment=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,reWrapDetails=/\{\n\/\* \[wrapped with (.+)\] \*/,reSplitDetails=/,? & /;var reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var reEscapeChar=/\\(\\)?/g;var reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;var reFlags=/\w*$/;var reIsBadHex=/^[-+]0x[0-9a-f]+$/i;var reIsBinary=/^0b[01]+$/i;var reIsHostCtor=/^\[object .+?Constructor\]$/;var reIsOctal=/^0o[0-7]+$/i;var reIsUint=/^(?:0|[1-9]\d*)$/;var reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g;var reNoMatch=/($^)/;var reUnescapedString=/['\n\r\u2028\u2029\\]/g;var rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsDingbatRange="\\u2700-\\u27bf",rsLowerRange="a-z\\xdf-\\xf6\\xf8-\\xff",rsMathOpRange="\\xac\\xb1\\xd7\\xf7",rsNonCharRange="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",rsPunctuationRange="\\u2000-\\u206f",rsSpaceRange=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsUpperRange="A-Z\\xc0-\\xd6\\xd8-\\xde",rsVarRange="\\ufe0e\\ufe0f",rsBreakRange=rsMathOpRange+rsNonCharRange+rsPunctuationRange+rsSpaceRange;var rsApos="['’]",rsAstral="["+rsAstralRange+"]",rsBreak="["+rsBreakRange+"]",rsCombo="["+rsComboRange+"]",rsDigits="\\d+",rsDingbat="["+rsDingbatRange+"]",rsLower="["+rsLowerRange+"]",rsMisc="[^"+rsAstralRange+rsBreakRange+rsDigits+rsDingbatRange+rsLowerRange+rsUpperRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="["+rsUpperRange+"]",rsZWJ="\\u200d";var rsMiscLower="(?:"+rsLower+"|"+rsMisc+")",rsMiscUpper="(?:"+rsUpper+"|"+rsMisc+")",rsOptContrLower="(?:"+rsApos+"(?:d|ll|m|re|s|t|ve))?",rsOptContrUpper="(?:"+rsApos+"(?:D|LL|M|RE|S|T|VE))?",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsOrdLower="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rsOrdUpper="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsEmoji="(?:"+[rsDingbat,rsRegional,rsSurrPair].join("|")+")"+rsSeq,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")";var reApos=RegExp(rsApos,"g");var reComboMark=RegExp(rsCombo,"g");var reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");var reUnicodeWord=RegExp([rsUpper+"?"+rsLower+"+"+rsOptContrLower+"(?="+[rsBreak,rsUpper,"$"].join("|")+")",rsMiscUpper+"+"+rsOptContrUpper+"(?="+[rsBreak,rsUpper+rsMiscLower,"$"].join("|")+")",rsUpper+"?"+rsMiscLower+"+"+rsOptContrLower,rsUpper+"+"+rsOptContrUpper,rsOrdUpper,rsOrdLower,rsDigits,rsEmoji].join("|"),"g");var reHasUnicode=RegExp("["+rsZWJ+rsAstralRange+rsComboRange+rsVarRange+"]");var reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var contextProps=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"];var templateCounter=-1;var typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=true;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=false;var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=true;cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=false;var deburredLetters={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n",ſ:"s"};var htmlEscapes={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};var htmlUnescapes={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"};var stringEscapes={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};var freeParseFloat=parseFloat,freeParseInt=parseInt;var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global;var freeSelf=typeof self=="object"&&self&&self.Object===Object&&self;var root=freeGlobal||freeSelf||Function("return this")();var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports;var freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module;var moduleExports=freeModule&&freeModule.exports===freeExports;var freeProcess=moduleExports&&freeGlobal.process;var nodeUtil=function(){try{var types=freeModule&&freeModule.require&&freeModule.require("util").types;if(types){return types}return freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}();var nodeIsArrayBuffer=nodeUtil&&nodeUtil.isArrayBuffer,nodeIsDate=nodeUtil&&nodeUtil.isDate,nodeIsMap=nodeUtil&&nodeUtil.isMap,nodeIsRegExp=nodeUtil&&nodeUtil.isRegExp,nodeIsSet=nodeUtil&&nodeUtil.isSet,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray;function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}function arrayAggregator(array,setter,iteratee,accumulator){var index=-1,length=array==null?0:array.length;while(++index<length){var value=array[index];setter(accumulator,value,iteratee(value),array)}return accumulator}function arrayEach(array,iteratee){var index=-1,length=array==null?0:array.length;while(++index<length){if(iteratee(array[index],index,array)===false){break}}return array}function arrayEachRight(array,iteratee){var length=array==null?0:array.length;while(length--){if(iteratee(array[length],length,array)===false){break}}return array}function arrayEvery(array,predicate){var index=-1,length=array==null?0:array.length;while(++index<length){if(!predicate(array[index],index,array)){return false}}return true}function arrayFilter(array,predicate){var index=-1,length=array==null?0:array.length,resIndex=0,result=[];while(++index<length){var value=array[index];if(predicate(value,index,array)){result[resIndex++]=value}}return result}function arrayIncludes(array,value){var length=array==null?0:array.length;return!!length&&baseIndexOf(array,value,0)>-1}function arrayIncludesWith(array,value,comparator){var index=-1,length=array==null?0:array.length;while(++index<length){if(comparator(value,array[index])){return true}}return false}function arrayMap(array,iteratee){var index=-1,length=array==null?0:array.length,result=Array(length);while(++index<length){result[index]=iteratee(array[index],index,array)}return result}function arrayPush(array,values){var index=-1,length=values.length,offset=array.length;while(++index<length){array[offset+index]=values[index]}return array}function arrayReduce(array,iteratee,accumulator,initAccum){var index=-1,length=array==null?0:array.length;if(initAccum&&length){accumulator=array[++index]}while(++index<length){accumulator=iteratee(accumulator,array[index],index,array)}return accumulator}function arrayReduceRight(array,iteratee,accumulator,initAccum){var length=array==null?0:array.length;if(initAccum&&length){accumulator=array[--length]}while(length--){accumulator=iteratee(accumulator,array[length],length,array)}return accumulator}function arraySome(array,predicate){var index=-1,length=array==null?0:array.length;while(++index<length){if(predicate(array[index],index,array)){return true}}return false}var asciiSize=baseProperty("length");function asciiToArray(string){return string.split("")}function asciiWords(string){return string.match(reAsciiWord)||[]}function baseFindKey(collection,predicate,eachFunc){var result;eachFunc(collection,function(value,key,collection){if(predicate(value,key,collection)){result=key;return false}});return result}function baseFindIndex(array,predicate,fromIndex,fromRight){var length=array.length,index=fromIndex+(fromRight?1:-1);while(fromRight?index--:++index<length){if(predicate(array[index],index,array)){return index}}return-1}function baseIndexOf(array,value,fromIndex){return value===value?strictIndexOf(array,value,fromIndex):baseFindIndex(array,baseIsNaN,fromIndex)}function baseIndexOfWith(array,value,fromIndex,comparator){var index=fromIndex-1,length=array.length;while(++index<length){if(comparator(array[index],value)){return index}}return-1}function baseIsNaN(value){return value!==value}function baseMean(array,iteratee){var length=array==null?0:array.length;return length?baseSum(array,iteratee)/length:NAN}function baseProperty(key){return function(object){return object==null?undefined:object[key]}}function basePropertyOf(object){return function(key){return object==null?undefined:object[key]}}function baseReduce(collection,iteratee,accumulator,initAccum,eachFunc){eachFunc(collection,function(value,index,collection){accumulator=initAccum?(initAccum=false,value):iteratee(accumulator,value,index,collection)});return accumulator}function baseSortBy(array,comparer){var length=array.length;array.sort(comparer);while(length--){array[length]=array[length].value}return array}function baseSum(array,iteratee){var result,index=-1,length=array.length;while(++index<length){var current=iteratee(array[index]);if(current!==undefined){result=result===undefined?current:result+current}}return result}function baseTimes(n,iteratee){var index=-1,result=Array(n);while(++index<n){result[index]=iteratee(index)}return result}function baseToPairs(object,props){return arrayMap(props,function(key){return[key,object[key]]})}function baseUnary(func){return function(value){return func(value)}}function baseValues(object,props){return arrayMap(props,function(key){return object[key]})}function cacheHas(cache,key){return cache.has(key)}function charsStartIndex(strSymbols,chrSymbols){var index=-1,length=strSymbols.length;while(++index<length&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1){}return index}function charsEndIndex(strSymbols,chrSymbols){var index=strSymbols.length;while(index--&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1){}return index}function countHolders(array,placeholder){var length=array.length,result=0;while(length--){if(array[length]===placeholder){++result}}return result}var deburrLetter=basePropertyOf(deburredLetters);var escapeHtmlChar=basePropertyOf(htmlEscapes);function escapeStringChar(chr){return"\\"+stringEscapes[chr]}function getValue(object,key){return object==null?undefined:object[key]}function hasUnicode(string){return reHasUnicode.test(string)}function hasUnicodeWord(string){return reHasUnicodeWord.test(string)}function iteratorToArray(iterator){var data,result=[];while(!(data=iterator.next()).done){result.push(data.value)}return result}function mapToArray(map){var index=-1,result=Array(map.size);map.forEach(function(value,key){result[++index]=[key,value]});return result}function overArg(func,transform){return function(arg){return func(transform(arg))}}function replaceHolders(array,placeholder){var index=-1,length=array.length,resIndex=0,result=[];while(++index<length){var value=array[index];if(value===placeholder||value===PLACEHOLDER){array[index]=PLACEHOLDER;result[resIndex++]=index}}return result}function setToArray(set){var index=-1,result=Array(set.size);set.forEach(function(value){result[++index]=value});return result}function setToPairs(set){var index=-1,result=Array(set.size);set.forEach(function(value){result[++index]=[value,value]});return result}function strictIndexOf(array,value,fromIndex){var index=fromIndex-1,length=array.length;while(++index<length){if(array[index]===value){return index}}return-1}function strictLastIndexOf(array,value,fromIndex){var index=fromIndex+1;while(index--){if(array[index]===value){return index}}return index}function stringSize(string){return hasUnicode(string)?unicodeSize(string):asciiSize(string)}function stringToArray(string){return hasUnicode(string)?unicodeToArray(string):asciiToArray(string)}var unescapeHtmlChar=basePropertyOf(htmlUnescapes);function unicodeSize(string){var result=reUnicode.lastIndex=0;while(reUnicode.test(string)){++result}return result}function unicodeToArray(string){return string.match(reUnicode)||[]}function unicodeWords(string){return string.match(reUnicodeWord)||[]}var runInContext=function runInContext(context){context=context==null?root:_.defaults(root.Object(),context,_.pick(root,contextProps));var Array=context.Array,Date=context.Date,Error=context.Error,Function=context.Function,Math=context.Math,Object=context.Object,RegExp=context.RegExp,String=context.String,TypeError=context.TypeError;var arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype;var coreJsData=context["__core-js_shared__"];var funcToString=funcProto.toString;var hasOwnProperty=objectProto.hasOwnProperty;var idCounter=0;var maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}();var nativeObjectToString=objectProto.toString;var objectCtorString=funcToString.call(Object);var oldDash=root._;var reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Buffer=moduleExports?context.Buffer:undefined,Symbol=context.Symbol,Uint8Array=context.Uint8Array,allocUnsafe=Buffer?Buffer.allocUnsafe:undefined,getPrototype=overArg(Object.getPrototypeOf,Object),objectCreate=Object.create,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,spreadableSymbol=Symbol?Symbol.isConcatSpreadable:undefined,symIterator=Symbol?Symbol.iterator:undefined,symToStringTag=Symbol?Symbol.toStringTag:undefined;var defineProperty=function(){try{var func=getNative(Object,"defineProperty");func({},"",{});return func}catch(e){}}();var ctxClearTimeout=context.clearTimeout!==root.clearTimeout&&context.clearTimeout,ctxNow=Date&&Date.now!==root.Date.now&&Date.now,ctxSetTimeout=context.setTimeout!==root.setTimeout&&context.setTimeout;var nativeCeil=Math.ceil,nativeFloor=Math.floor,nativeGetSymbols=Object.getOwnPropertySymbols,nativeIsBuffer=Buffer?Buffer.isBuffer:undefined,nativeIsFinite=context.isFinite,nativeJoin=arrayProto.join,nativeKeys=overArg(Object.keys,Object),nativeMax=Math.max,nativeMin=Math.min,nativeNow=Date.now,nativeParseInt=context.parseInt,nativeRandom=Math.random,nativeReverse=arrayProto.reverse;var DataView=getNative(context,"DataView"),Map=getNative(context,"Map"),Promise=getNative(context,"Promise"),Set=getNative(context,"Set"),WeakMap=getNative(context,"WeakMap"),nativeCreate=getNative(Object,"create");var metaMap=WeakMap&&new WeakMap;var realNames={};var dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap);var symbolProto=Symbol?Symbol.prototype:undefined,symbolValueOf=symbolProto?symbolProto.valueOf:undefined,symbolToString=symbolProto?symbolProto.toString:undefined;function lodash(value){if(isObjectLike(value)&&!isArray(value)&&!(value instanceof LazyWrapper)){if(value instanceof LodashWrapper){return value}if(hasOwnProperty.call(value,"__wrapped__")){return wrapperClone(value)}}return new LodashWrapper(value)}var baseCreate=function(){function object(){}return function(proto){if(!isObject(proto)){return{}}if(objectCreate){return objectCreate(proto)}object.prototype=proto;var result=new object;object.prototype=undefined;return result}}();function baseLodash(){}function LodashWrapper(value,chainAll){this.__wrapped__=value;this.__actions__=[];this.__chain__=!!chainAll;this.__index__=0;this.__values__=undefined}lodash.templateSettings={escape:reEscape,evaluate:reEvaluate,interpolate:reInterpolate,variable:"",imports:{_:lodash}};lodash.prototype=baseLodash.prototype;lodash.prototype.constructor=lodash;LodashWrapper.prototype=baseCreate(baseLodash.prototype);LodashWrapper.prototype.constructor=LodashWrapper;function LazyWrapper(value){this.__wrapped__=value;this.__actions__=[];this.__dir__=1;this.__filtered__=false;this.__iteratees__=[];this.__takeCount__=MAX_ARRAY_LENGTH;this.__views__=[]}function lazyClone(){var result=new LazyWrapper(this.__wrapped__);result.__actions__=copyArray(this.__actions__);result.__dir__=this.__dir__;result.__filtered__=this.__filtered__;result.__iteratees__=copyArray(this.__iteratees__);result.__takeCount__=this.__takeCount__;result.__views__=copyArray(this.__views__);return result}function lazyReverse(){if(this.__filtered__){var result=new LazyWrapper(this);result.__dir__=-1;result.__filtered__=true}else{result=this.clone();result.__dir__*=-1}return result}function lazyValue(){var array=this.__wrapped__.value(),dir=this.__dir__,isArr=isArray(array),isRight=dir<0,arrLength=isArr?array.length:0,view=getView(0,arrLength,this.__views__),start=view.start,end=view.end,length=end-start,index=isRight?end:start-1,iteratees=this.__iteratees__,iterLength=iteratees.length,resIndex=0,takeCount=nativeMin(length,this.__takeCount__);if(!isArr||!isRight&&arrLength==length&&takeCount==length){return baseWrapperValue(array,this.__actions__)}var result=[];outer:while(length--&&resIndex<takeCount){index+=dir;var iterIndex=-1,value=array[index];while(++iterIndex<iterLength){var data=iteratees[iterIndex],iteratee=data.iteratee,type=data.type,computed=iteratee(value);if(type==LAZY_MAP_FLAG){value=computed}else if(!computed){if(type==LAZY_FILTER_FLAG){continue outer}else{break outer}}}result[resIndex++]=value}return result}LazyWrapper.prototype=baseCreate(baseLodash.prototype);LazyWrapper.prototype.constructor=LazyWrapper;function Hash(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{};this.size=0}function hashDelete(key){var result=this.has(key)&&delete this.__data__[key];this.size-=result?1:0;return result}function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?undefined:result}return hasOwnProperty.call(data,key)?data[key]:undefined}function hashHas(key){var data=this.__data__;return nativeCreate?data[key]!==undefined:hasOwnProperty.call(data,key)}function hashSet(key,value){var data=this.__data__;this.size+=this.has(key)?0:1;data[key]=nativeCreate&&value===undefined?HASH_UNDEFINED:value;return this}Hash.prototype.clear=hashClear;Hash.prototype["delete"]=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function ListCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}function listCacheClear(){this.__data__=[];this.size=0}function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){return false}var lastIndex=data.length-1;if(index==lastIndex){data.pop()}else{splice.call(data,index,1)}--this.size;return true}function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?undefined:data[index][1]}function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){++this.size;data.push([key,value])}else{data[index][1]=value}return this}ListCache.prototype.clear=listCacheClear;ListCache.prototype["delete"]=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;function MapCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}function mapCacheClear(){this.size=0;this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}function mapCacheDelete(key){var result=getMapData(this,key)["delete"](key);this.size-=result?1:0;return result}function mapCacheGet(key){return getMapData(this,key).get(key)}function mapCacheHas(key){return getMapData(this,key).has(key)}function mapCacheSet(key,value){var data=getMapData(this,key),size=data.size;data.set(key,value);this.size+=data.size==size?0:1;return this}MapCache.prototype.clear=mapCacheClear;MapCache.prototype["delete"]=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;function SetCache(values){var index=-1,length=values==null?0:values.length;this.__data__=new MapCache;while(++index<length){this.add(values[index])}}function setCacheAdd(value){this.__data__.set(value,HASH_UNDEFINED);return this}function setCacheHas(value){return this.__data__.has(value)}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}function stackClear(){this.__data__=new ListCache;this.size=0}function stackDelete(key){var data=this.__data__,result=data["delete"](key);this.size=data.size;return result}function stackGet(key){return this.__data__.get(key)}function stackHas(key){return this.__data__.has(key)}function stackSet(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<LARGE_ARRAY_SIZE-1){pairs.push([key,value]);this.size=++data.size;return this}data=this.__data__=new MapCache(pairs)}data.set(key,value);this.size=data.size;return this}Stack.prototype.clear=stackClear;Stack.prototype["delete"]=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value){if((inherited||hasOwnProperty.call(value,key))&&!(skipIndexes&&(key=="length"||isBuff&&(key=="offset"||key=="parent")||isType&&(key=="buffer"||key=="byteLength"||key=="byteOffset")||isIndex(key,length)))){result.push(key)}}return result}function arraySample(array){var length=array.length;return length?array[baseRandom(0,length-1)]:undefined}function arraySampleSize(array,n){return shuffleSelf(copyArray(array),baseClamp(n,0,array.length))}function arrayShuffle(array){return shuffleSelf(copyArray(array))}function assignMergeValue(object,key,value){if(value!==undefined&&!eq(object[key],value)||value===undefined&&!(key in object)){baseAssignValue(object,key,value)}}function assignValue(object,key,value){var objValue=object[key];if(!(hasOwnProperty.call(object,key)&&eq(objValue,value))||value===undefined&&!(key in object)){baseAssignValue(object,key,value)}}function assocIndexOf(array,key){var length=array.length;while(length--){if(eq(array[length][0],key)){return length}}return-1}function baseAggregator(collection,setter,iteratee,accumulator){baseEach(collection,function(value,key,collection){setter(accumulator,value,iteratee(value),collection)});return accumulator}function baseAssign(object,source){return object&&copyObject(source,keys(source),object)}function baseAssignIn(object,source){return object&&copyObject(source,keysIn(source),object)}function baseAssignValue(object,key,value){if(key=="__proto__"&&defineProperty){defineProperty(object,key,{configurable:true,enumerable:true,value:value,writable:true})}else{object[key]=value}}function baseAt(object,paths){var index=-1,length=paths.length,result=Array(length),skip=object==null;while(++index<length){result[index]=skip?undefined:get(object,paths[index])}return result}function baseClamp(number,lower,upper){if(number===number){if(upper!==undefined){number=number<=upper?number:upper}if(lower!==undefined){number=number>=lower?number:lower}}return number}function baseClone(value,bitmask,customizer,key,object,stack){var result,isDeep=bitmask&CLONE_DEEP_FLAG,isFlat=bitmask&CLONE_FLAT_FLAG,isFull=bitmask&CLONE_SYMBOLS_FLAG;if(customizer){result=object?customizer(value,key,object,stack):customizer(value)}if(result!==undefined){return result}if(!isObject(value)){return value}var isArr=isArray(value);if(isArr){result=initCloneArray(value);if(!isDeep){return copyArray(value,result)}}else{var tag=getTag(value),isFunc=tag==funcTag||tag==genTag;if(isBuffer(value)){return cloneBuffer(value,isDeep)}if(tag==objectTag||tag==argsTag||isFunc&&!object){result=isFlat||isFunc?{}:initCloneObject(value);if(!isDeep){return isFlat?copySymbolsIn(value,baseAssignIn(result,value)):copySymbols(value,baseAssign(result,value))}}else{if(!cloneableTags[tag]){return object?value:{}}result=initCloneByTag(value,tag,isDeep)}}stack||(stack=new Stack);var stacked=stack.get(value);if(stacked){return stacked}stack.set(value,result);if(isSet(value)){value.forEach(function(subValue){result.add(baseClone(subValue,bitmask,customizer,subValue,value,stack))})}else if(isMap(value)){value.forEach(function(subValue,key){result.set(key,baseClone(subValue,bitmask,customizer,key,value,stack))})}var keysFunc=isFull?isFlat?getAllKeysIn:getAllKeys:isFlat?keysIn:keys;var props=isArr?undefined:keysFunc(value);arrayEach(props||value,function(subValue,key){if(props){key=subValue;subValue=value[key]}assignValue(result,key,baseClone(subValue,bitmask,customizer,key,value,stack))});return result}function baseConforms(source){var props=keys(source);return function(object){return baseConformsTo(object,source,props)}}function baseConformsTo(object,source,props){var length=props.length;if(object==null){return!length}object=Object(object);while(length--){var key=props[length],predicate=source[key],value=object[key];if(value===undefined&&!(key in object)||!predicate(value)){return false}}return true}function baseDelay(func,wait,args){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}return setTimeout(function(){func.apply(undefined,args)},wait)}function baseDifference(array,values,iteratee,comparator){var index=-1,includes=arrayIncludes,isCommon=true,length=array.length,result=[],valuesLength=values.length;if(!length){return result}if(iteratee){values=arrayMap(values,baseUnary(iteratee))}if(comparator){includes=arrayIncludesWith;isCommon=false}else if(values.length>=LARGE_ARRAY_SIZE){includes=cacheHas;isCommon=false;values=new SetCache(values)}outer:while(++index<length){var value=array[index],computed=iteratee==null?value:iteratee(value);value=comparator||value!==0?value:0;if(isCommon&&computed===computed){var valuesIndex=valuesLength;while(valuesIndex--){if(values[valuesIndex]===computed){continue outer}}result.push(value)}else if(!includes(values,computed,comparator)){result.push(value)}}return result}var baseEach=createBaseEach(baseForOwn);var baseEachRight=createBaseEach(baseForOwnRight,true);function baseEvery(collection,predicate){var result=true;baseEach(collection,function(value,index,collection){result=!!predicate(value,index,collection);return result});return result}function baseExtremum(array,iteratee,comparator){var index=-1,length=array.length;while(++index<length){var value=array[index],current=iteratee(value);if(current!=null&&(computed===undefined?current===current&&!isSymbol(current):comparator(current,computed))){var computed=current,result=value}}return result}function baseFill(array,value,start,end){var length=array.length;start=toInteger(start);if(start<0){start=-start>length?0:length+start}end=end===undefined||end>length?length:toInteger(end);if(end<0){end+=length}end=start>end?0:toLength(end);while(start<end){array[start++]=value}return array}function baseFilter(collection,predicate){var result=[];baseEach(collection,function(value,index,collection){if(predicate(value,index,collection)){result.push(value)}});return result}function baseFlatten(array,depth,predicate,isStrict,result){var index=-1,length=array.length;predicate||(predicate=isFlattenable);result||(result=[]);while(++index<length){var value=array[index];if(depth>0&&predicate(value)){if(depth>1){baseFlatten(value,depth-1,predicate,isStrict,result)}else{arrayPush(result,value)}}else if(!isStrict){result[result.length]=value}}return result}var baseFor=createBaseFor();var baseForRight=createBaseFor(true);function baseForOwn(object,iteratee){return object&&baseFor(object,iteratee,keys)}function baseForOwnRight(object,iteratee){return object&&baseForRight(object,iteratee,keys)}function baseFunctions(object,props){return arrayFilter(props,function(key){return isFunction(object[key])})}function baseGet(object,path){path=castPath(path,object);var index=0,length=path.length;while(object!=null&&index<length){object=object[toKey(path[index++])]}return index&&index==length?object:undefined}function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}function baseGetTag(value){if(value==null){return value===undefined?undefinedTag:nullTag}return symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}function baseGt(value,other){return value>other}function baseHas(object,key){return object!=null&&hasOwnProperty.call(object,key)}function baseHasIn(object,key){return object!=null&&key in Object(object)}function baseInRange(number,start,end){return number>=nativeMin(start,end)&&number<nativeMax(start,end)}function baseIntersection(arrays,iteratee,comparator){var includes=comparator?arrayIncludesWith:arrayIncludes,length=arrays[0].length,othLength=arrays.length,othIndex=othLength,caches=Array(othLength),maxLength=Infinity,result=[];while(othIndex--){var array=arrays[othIndex];if(othIndex&&iteratee){array=arrayMap(array,baseUnary(iteratee))}maxLength=nativeMin(array.length,maxLength);caches[othIndex]=!comparator&&(iteratee||length>=120&&array.length>=120)?new SetCache(othIndex&&array):undefined}array=arrays[0];var index=-1,seen=caches[0];outer:while(++index<length&&result.length<maxLength){var value=array[index],computed=iteratee?iteratee(value):value;value=comparator||value!==0?value:0;if(!(seen?cacheHas(seen,computed):includes(result,computed,comparator))){othIndex=othLength;while(--othIndex){var cache=caches[othIndex];if(!(cache?cacheHas(cache,computed):includes(arrays[othIndex],computed,comparator))){continue outer}}if(seen){seen.push(computed)}result.push(value)}}return result}function baseInverter(object,setter,iteratee,accumulator){baseForOwn(object,function(value,key,object){setter(accumulator,iteratee(value),key,object)});return accumulator}function baseInvoke(object,path,args){path=castPath(path,object);object=parent(object,path);var func=object==null?object:object[toKey(last(path))];return func==null?undefined:apply(func,object,args)}function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag}function baseIsArrayBuffer(value){return isObjectLike(value)&&baseGetTag(value)==arrayBufferTag}function baseIsDate(value){return isObjectLike(value)&&baseGetTag(value)==dateTag}function baseIsEqual(value,other,bitmask,customizer,stack){if(value===other){return true}if(value==null||other==null||!isObjectLike(value)&&!isObjectLike(other)){return value!==value&&other!==other}return baseIsEqualDeep(value,other,bitmask,customizer,baseIsEqual,stack)}function baseIsEqualDeep(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=objIsArr?arrayTag:getTag(object),othTag=othIsArr?arrayTag:getTag(other);objTag=objTag==argsTag?objectTag:objTag;othTag=othTag==argsTag?objectTag:othTag;var objIsObj=objTag==objectTag,othIsObj=othTag==objectTag,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other)){return false}objIsArr=true;objIsObj=false}if(isSameTag&&!objIsObj){stack||(stack=new Stack);return objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack):equalByTag(object,other,objTag,bitmask,customizer,equalFunc,stack)}if(!(bitmask&COMPARE_PARTIAL_FLAG)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;stack||(stack=new Stack);return equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}if(!isSameTag){return false}stack||(stack=new Stack);return equalObjects(object,other,bitmask,customizer,equalFunc,stack)}function baseIsMap(value){return isObjectLike(value)&&getTag(value)==mapTag}function baseIsMatch(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(object==null){return!length}object=Object(object);while(index--){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object)){return false}}while(++index<length){data=matchData[index];var key=data[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(objValue===undefined&&!(key in object)){return false}}else{var stack=new Stack;if(customizer){var result=customizer(objValue,srcValue,key,object,source,stack)}if(!(result===undefined?baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG,customizer,stack):result)){return false}}}return true}function baseIsNative(value){if(!isObject(value)||isMasked(value)){return false}var pattern=isFunction(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value))}function baseIsRegExp(value){return isObjectLike(value)&&baseGetTag(value)==regexpTag}function baseIsSet(value){return isObjectLike(value)&&getTag(value)==setTag}function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]}function baseIteratee(value){if(typeof value=="function"){return value}if(value==null){return identity}if(typeof value=="object"){return isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value)}return property(value)}function baseKeys(object){if(!isPrototype(object)){return nativeKeys(object)}var result=[];for(var key in Object(object)){if(hasOwnProperty.call(object,key)&&key!="constructor"){result.push(key)}}return result}function baseKeysIn(object){if(!isObject(object)){return nativeKeysIn(object)}var isProto=isPrototype(object),result=[];for(var key in object){if(!(key=="constructor"&&(isProto||!hasOwnProperty.call(object,key)))){result.push(key)}}return result}function baseLt(value,other){return value<other}function baseMap(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];baseEach(collection,function(value,key,collection){result[++index]=iteratee(value,key,collection)});return result}function baseMatches(source){var matchData=getMatchData(source);if(matchData.length==1&&matchData[0][2]){return matchesStrictComparable(matchData[0][0],matchData[0][1])}return function(object){return object===source||baseIsMatch(object,source,matchData)}}function baseMatchesProperty(path,srcValue){if(isKey(path)&&isStrictComparable(srcValue)){return matchesStrictComparable(toKey(path),srcValue)}return function(object){var objValue=get(object,path);return objValue===undefined&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}function baseMerge(object,source,srcIndex,customizer,stack){if(object===source){return}baseFor(source,function(srcValue,key){stack||(stack=new Stack);if(isObject(srcValue)){baseMergeDeep(object,source,key,srcIndex,baseMerge,customizer,stack)}else{var newValue=customizer?customizer(safeGet(object,key),srcValue,key+"",object,source,stack):undefined;if(newValue===undefined){newValue=srcValue}assignMergeValue(object,key,newValue)}},keysIn)}function baseMergeDeep(object,source,key,srcIndex,mergeFunc,customizer,stack){var objValue=safeGet(object,key),srcValue=safeGet(source,key),stacked=stack.get(srcValue);if(stacked){assignMergeValue(object,key,stacked);return}var newValue=customizer?customizer(objValue,srcValue,key+"",object,source,stack):undefined;var isCommon=newValue===undefined;if(isCommon){var isArr=isArray(srcValue),isBuff=!isArr&&isBuffer(srcValue),isTyped=!isArr&&!isBuff&&isTypedArray(srcValue);newValue=srcValue;if(isArr||isBuff||isTyped){if(isArray(objValue)){newValue=objValue}else if(isArrayLikeObject(objValue)){newValue=copyArray(objValue)}else if(isBuff){isCommon=false;newValue=cloneBuffer(srcValue,true)}else if(isTyped){isCommon=false;newValue=cloneTypedArray(srcValue,true)}else{newValue=[]}}else if(isPlainObject(srcValue)||isArguments(srcValue)){newValue=objValue;if(isArguments(objValue)){newValue=toPlainObject(objValue)}else if(!isObject(objValue)||isFunction(objValue)){newValue=initCloneObject(srcValue)}}else{isCommon=false}}if(isCommon){stack.set(srcValue,newValue);mergeFunc(newValue,srcValue,srcIndex,customizer,stack);stack["delete"](srcValue)}assignMergeValue(object,key,newValue)}function baseNth(array,n){var length=array.length;if(!length){return}n+=n<0?length:0;return isIndex(n,length)?array[n]:undefined}function baseOrderBy(collection,iteratees,orders){var index=-1;iteratees=arrayMap(iteratees.length?iteratees:[identity],baseUnary(getIteratee()));var result=baseMap(collection,function(value,key,collection){var criteria=arrayMap(iteratees,function(iteratee){return iteratee(value)});return{criteria:criteria,index:++index,value:value}});return baseSortBy(result,function(object,other){return compareMultiple(object,other,orders)})}function basePick(object,paths){return basePickBy(object,paths,function(value,path){return hasIn(object,path)})}function basePickBy(object,paths,predicate){var index=-1,length=paths.length,result={};while(++index<length){var path=paths[index],value=baseGet(object,path);if(predicate(value,path)){baseSet(result,castPath(path,object),value)}}return result}function basePropertyDeep(path){return function(object){return baseGet(object,path)}}function basePullAll(array,values,iteratee,comparator){var indexOf=comparator?baseIndexOfWith:baseIndexOf,index=-1,length=values.length,seen=array;if(array===values){values=copyArray(values)}if(iteratee){seen=arrayMap(array,baseUnary(iteratee))}while(++index<length){var fromIndex=0,value=values[index],computed=iteratee?iteratee(value):value;while((fromIndex=indexOf(seen,computed,fromIndex,comparator))>-1){if(seen!==array){splice.call(seen,fromIndex,1)}splice.call(array,fromIndex,1)}}return array}function basePullAt(array,indexes){var length=array?indexes.length:0,lastIndex=length-1;while(length--){var index=indexes[length];if(length==lastIndex||index!==previous){var previous=index;if(isIndex(index)){splice.call(array,index,1)}else{baseUnset(array,index)}}}return array}function baseRandom(lower,upper){return lower+nativeFloor(nativeRandom()*(upper-lower+1))}function baseRange(start,end,step,fromRight){var index=-1,length=nativeMax(nativeCeil((end-start)/(step||1)),0),result=Array(length);while(length--){result[fromRight?length:++index]=start;start+=step}return result}function baseRepeat(string,n){var result="";if(!string||n<1||n>MAX_SAFE_INTEGER){return result}do{if(n%2){result+=string}n=nativeFloor(n/2);if(n){string+=string}}while(n);return result}function baseRest(func,start){return setToString(overRest(func,start,identity),func+"")}function baseSample(collection){return arraySample(values(collection))}function baseSampleSize(collection,n){var array=values(collection);return shuffleSelf(array,baseClamp(n,0,array.length))}function baseSet(object,path,value,customizer){if(!isObject(object)){return object}path=castPath(path,object);var index=-1,length=path.length,lastIndex=length-1,nested=object;while(nested!=null&&++index<length){var key=toKey(path[index]),newValue=value;if(index!=lastIndex){var objValue=nested[key];newValue=customizer?customizer(objValue,key,nested):undefined;if(newValue===undefined){newValue=isObject(objValue)?objValue:isIndex(path[index+1])?[]:{}}}assignValue(nested,key,newValue);nested=nested[key]}return object}var baseSetData=!metaMap?identity:function(func,data){metaMap.set(func,data);return func};var baseSetToString=!defineProperty?identity:function(func,string){return defineProperty(func,"toString",{configurable:true,enumerable:false,value:constant(string),writable:true})};function baseShuffle(collection){return shuffleSelf(values(collection))}function baseSlice(array,start,end){var index=-1,length=array.length;if(start<0){start=-start>length?0:length+start}end=end>length?length:end;if(end<0){end+=length}length=start>end?0:end-start>>>0;start>>>=0;var result=Array(length);while(++index<length){result[index]=array[index+start]}return result}function baseSome(collection,predicate){var result;baseEach(collection,function(value,index,collection){result=predicate(value,index,collection);return!result});return!!result}function baseSortedIndex(array,value,retHighest){var low=0,high=array==null?low:array.length;if(typeof value=="number"&&value===value&&high<=HALF_MAX_ARRAY_LENGTH){while(low<high){var mid=low+high>>>1,computed=array[mid];if(computed!==null&&!isSymbol(computed)&&(retHighest?computed<=value:computed<value)){low=mid+1}else{high=mid}}return high}return baseSortedIndexBy(array,value,identity,retHighest)}function baseSortedIndexBy(array,value,iteratee,retHighest){value=iteratee(value);var low=0,high=array==null?0:array.length,valIsNaN=value!==value,valIsNull=value===null,valIsSymbol=isSymbol(value),valIsUndefined=value===undefined;while(low<high){var mid=nativeFloor((low+high)/2),computed=iteratee(array[mid]),othIsDefined=computed!==undefined,othIsNull=computed===null,othIsReflexive=computed===computed,othIsSymbol=isSymbol(computed);if(valIsNaN){var setLow=retHighest||othIsReflexive}else if(valIsUndefined){setLow=othIsReflexive&&(retHighest||othIsDefined)}else if(valIsNull){setLow=othIsReflexive&&othIsDefined&&(retHighest||!othIsNull)}else if(valIsSymbol){setLow=othIsReflexive&&othIsDefined&&!othIsNull&&(retHighest||!othIsSymbol)}else if(othIsNull||othIsSymbol){setLow=false}else{setLow=retHighest?computed<=value:computed<value}if(setLow){low=mid+1}else{high=mid}}return nativeMin(high,MAX_ARRAY_INDEX)}function baseSortedUniq(array,iteratee){var index=-1,length=array.length,resIndex=0,result=[];while(++index<length){var value=array[index],computed=iteratee?iteratee(value):value;if(!index||!eq(computed,seen)){var seen=computed;result[resIndex++]=value===0?0:value}}return result}function baseToNumber(value){if(typeof value=="number"){return value}if(isSymbol(value)){return NAN}return+value}function baseToString(value){if(typeof value=="string"){return value}if(isArray(value)){return arrayMap(value,baseToString)+""}if(isSymbol(value)){return symbolToString?symbolToString.call(value):""}var result=value+"";return result=="0"&&1/value==-INFINITY?"-0":result}function baseUniq(array,iteratee,comparator){var index=-1,includes=arrayIncludes,length=array.length,isCommon=true,result=[],seen=result;if(comparator){isCommon=false;includes=arrayIncludesWith}else if(length>=LARGE_ARRAY_SIZE){var set=iteratee?null:createSet(array);if(set){return setToArray(set)}isCommon=false;includes=cacheHas;seen=new SetCache}else{seen=iteratee?[]:result}outer:while(++index<length){var value=array[index],computed=iteratee?iteratee(value):value;value=comparator||value!==0?value:0;if(isCommon&&computed===computed){var seenIndex=seen.length;while(seenIndex--){if(seen[seenIndex]===computed){continue outer}}if(iteratee){seen.push(computed)}result.push(value)}else if(!includes(seen,computed,comparator)){if(seen!==result){seen.push(computed)}result.push(value)}}return result}function baseUnset(object,path){path=castPath(path,object);object=parent(object,path);return object==null||delete object[toKey(last(path))]}function baseUpdate(object,path,updater,customizer){return baseSet(object,path,updater(baseGet(object,path)),customizer)}function baseWhile(array,predicate,isDrop,fromRight){var length=array.length,index=fromRight?length:-1;while((fromRight?index--:++index<length)&&predicate(array[index],index,array)){}return isDrop?baseSlice(array,fromRight?0:index,fromRight?index+1:length):baseSlice(array,fromRight?index+1:0,fromRight?length:index)}function baseWrapperValue(value,actions){var result=value;if(result instanceof LazyWrapper){result=result.value()}return arrayReduce(actions,function(result,action){return action.func.apply(action.thisArg,arrayPush([result],action.args))},result)}function baseXor(arrays,iteratee,comparator){var length=arrays.length;if(length<2){return length?baseUniq(arrays[0]):[]}var index=-1,result=Array(length);while(++index<length){var array=arrays[index],othIndex=-1;while(++othIndex<length){if(othIndex!=index){result[index]=baseDifference(result[index]||array,arrays[othIndex],iteratee,comparator)}}}return baseUniq(baseFlatten(result,1),iteratee,comparator)}function baseZipObject(props,values,assignFunc){var index=-1,length=props.length,valsLength=values.length,result={};while(++index<length){var value=index<valsLength?values[index]:undefined;assignFunc(result,props[index],value)}return result}function castArrayLikeObject(value){return isArrayLikeObject(value)?value:[]}function castFunction(value){return typeof value=="function"?value:identity}function castPath(value,object){if(isArray(value)){return value}return isKey(value,object)?[value]:stringToPath(toString(value))}var castRest=baseRest;function castSlice(array,start,end){var length=array.length;end=end===undefined?length:end;return!start&&end>=length?array:baseSlice(array,start,end)}var clearTimeout=ctxClearTimeout||function(id){return root.clearTimeout(id)};function cloneBuffer(buffer,isDeep){if(isDeep){return buffer.slice()}var length=buffer.length,result=allocUnsafe?allocUnsafe(length):new buffer.constructor(length);buffer.copy(result);return result}function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);new Uint8Array(result).set(new Uint8Array(arrayBuffer));return result}function cloneDataView(dataView,isDeep){var buffer=isDeep?cloneArrayBuffer(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength)}function cloneRegExp(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));result.lastIndex=regexp.lastIndex;return result}function cloneSymbol(symbol){return symbolValueOf?Object(symbolValueOf.call(symbol)):{}}function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}function compareAscending(value,other){if(value!==other){var valIsDefined=value!==undefined,valIsNull=value===null,valIsReflexive=value===value,valIsSymbol=isSymbol(value);var othIsDefined=other!==undefined,othIsNull=other===null,othIsReflexive=other===other,othIsSymbol=isSymbol(other);if(!othIsNull&&!othIsSymbol&&!valIsSymbol&&value>other||valIsSymbol&&othIsDefined&&othIsReflexive&&!othIsNull&&!othIsSymbol||valIsNull&&othIsDefined&&othIsReflexive||!valIsDefined&&othIsReflexive||!valIsReflexive){return 1}if(!valIsNull&&!valIsSymbol&&!othIsSymbol&&value<other||othIsSymbol&&valIsDefined&&valIsReflexive&&!valIsNull&&!valIsSymbol||othIsNull&&valIsDefined&&valIsReflexive||!othIsDefined&&valIsReflexive||!othIsReflexive){return-1}}return 0}function compareMultiple(object,other,orders){var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;while(++index<length){var result=compareAscending(objCriteria[index],othCriteria[index]);if(result){if(index>=ordersLength){return result}var order=orders[index];return result*(order=="desc"?-1:1)}}return object.index-other.index}function composeArgs(args,partials,holders,isCurried){var argsIndex=-1,argsLength=args.length,holdersLength=holders.length,leftIndex=-1,leftLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(leftLength+rangeLength),isUncurried=!isCurried;while(++leftIndex<leftLength){result[leftIndex]=partials[leftIndex]}while(++argsIndex<holdersLength){if(isUncurried||argsIndex<argsLength){result[holders[argsIndex]]=args[argsIndex]}}while(rangeLength--){result[leftIndex++]=args[argsIndex++]}return result}function composeArgsRight(args,partials,holders,isCurried){var argsIndex=-1,argsLength=args.length,holdersIndex=-1,holdersLength=holders.length,rightIndex=-1,rightLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(rangeLength+rightLength),isUncurried=!isCurried;while(++argsIndex<rangeLength){result[argsIndex]=args[argsIndex]}var offset=argsIndex;while(++rightIndex<rightLength){result[offset+rightIndex]=partials[rightIndex]}while(++holdersIndex<holdersLength){if(isUncurried||argsIndex<argsLength){result[offset+holders[holdersIndex]]=args[argsIndex++]}}return result}function copyArray(source,array){var index=-1,length=source.length;array||(array=Array(length));while(++index<length){array[index]=source[index]}return array}function copyObject(source,props,object,customizer){var isNew=!object;object||(object={});var index=-1,length=props.length;while(++index<length){var key=props[index];var newValue=customizer?customizer(object[key],source[key],key,object,source):undefined;if(newValue===undefined){newValue=source[key]}if(isNew){baseAssignValue(object,key,newValue)}else{assignValue(object,key,newValue)}}return object}function copySymbols(source,object){return copyObject(source,getSymbols(source),object)}function copySymbolsIn(source,object){return copyObject(source,getSymbolsIn(source),object)}function createAggregator(setter,initializer){return function(collection,iteratee){var func=isArray(collection)?arrayAggregator:baseAggregator,accumulator=initializer?initializer():{};return func(collection,setter,getIteratee(iteratee,2),accumulator)}}function createAssigner(assigner){return baseRest(function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:undefined,guard=length>2?sources[2]:undefined;customizer=assigner.length>3&&typeof customizer=="function"?(length--,customizer):undefined;if(guard&&isIterateeCall(sources[0],sources[1],guard)){customizer=length<3?undefined:customizer;length=1}object=Object(object);while(++index<length){var source=sources[index];if(source){assigner(object,source,index,customizer)}}return object})}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){if(collection==null){return collection}if(!isArrayLike(collection)){return eachFunc(collection,iteratee)}var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);while(fromRight?index--:++index<length){if(iteratee(iterable[index],index,iterable)===false){break}}return collection}}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;while(length--){var key=props[fromRight?length:++index];if(iteratee(iterable[key],key,iterable)===false){break}}return object}}function createBind(func,bitmask,thisArg){var isBind=bitmask&WRAP_BIND_FLAG,Ctor=createCtor(func);function wrapper(){var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return fn.apply(isBind?thisArg:this,arguments)}return wrapper}function createCaseFirst(methodName){return function(string){string=toString(string);var strSymbols=hasUnicode(string)?stringToArray(string):undefined;var chr=strSymbols?strSymbols[0]:string.charAt(0);var trailing=strSymbols?castSlice(strSymbols,1).join(""):string.slice(1);return chr[methodName]()+trailing}}function createCompounder(callback){return function(string){return arrayReduce(words(deburr(string).replace(reApos,"")),callback,"")}}function createCtor(Ctor){return function(){var args=arguments;switch(args.length){case 0:return new Ctor;case 1:return new Ctor(args[0]);case 2:return new Ctor(args[0],args[1]);case 3:return new Ctor(args[0],args[1],args[2]);case 4:return new Ctor(args[0],args[1],args[2],args[3]);case 5:return new Ctor(args[0],args[1],args[2],args[3],args[4]);case 6:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5]);case 7:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5],args[6])}var thisBinding=baseCreate(Ctor.prototype),result=Ctor.apply(thisBinding,args);return isObject(result)?result:thisBinding}}function createCurry(func,bitmask,arity){var Ctor=createCtor(func);function wrapper(){var length=arguments.length,args=Array(length),index=length,placeholder=getHolder(wrapper);while(index--){args[index]=arguments[index]}var holders=length<3&&args[0]!==placeholder&&args[length-1]!==placeholder?[]:replaceHolders(args,placeholder);length-=holders.length;if(length<arity){return createRecurry(func,bitmask,createHybrid,wrapper.placeholder,undefined,args,holders,undefined,undefined,arity-length)}var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return apply(fn,this,args)}return wrapper}function createFind(findIndexFunc){return function(collection,predicate,fromIndex){var iterable=Object(collection);if(!isArrayLike(collection)){var iteratee=getIteratee(predicate,3);collection=keys(collection);predicate=function(key){return iteratee(iterable[key],key,iterable)}}var index=findIndexFunc(collection,predicate,fromIndex);return index>-1?iterable[iteratee?collection[index]:index]:undefined}}function createFlow(fromRight){return flatRest(function(funcs){var length=funcs.length,index=length,prereq=LodashWrapper.prototype.thru;if(fromRight){funcs.reverse()}while(index--){var func=funcs[index];if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}if(prereq&&!wrapper&&getFuncName(func)=="wrapper"){var wrapper=new LodashWrapper([],true)}}index=wrapper?index:length;while(++index<length){func=funcs[index];var funcName=getFuncName(func),data=funcName=="wrapper"?getData(func):undefined;if(data&&isLaziable(data[0])&&data[1]==(WRAP_ARY_FLAG|WRAP_CURRY_FLAG|WRAP_PARTIAL_FLAG|WRAP_REARG_FLAG)&&!data[4].length&&data[9]==1){wrapper=wrapper[getFuncName(data[0])].apply(wrapper,data[3])}else{wrapper=func.length==1&&isLaziable(func)?wrapper[funcName]():wrapper.thru(func)}}return function(){var args=arguments,value=args[0];if(wrapper&&args.length==1&&isArray(value)){return wrapper.plant(value).value()}var index=0,result=length?funcs[index].apply(this,args):value;while(++index<length){result=funcs[index].call(this,result)}return result}})}function createHybrid(func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity){var isAry=bitmask&WRAP_ARY_FLAG,isBind=bitmask&WRAP_BIND_FLAG,isBindKey=bitmask&WRAP_BIND_KEY_FLAG,isCurried=bitmask&(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG),isFlip=bitmask&WRAP_FLIP_FLAG,Ctor=isBindKey?undefined:createCtor(func);function wrapper(){var length=arguments.length,args=Array(length),index=length;while(index--){args[index]=arguments[index]}if(isCurried){var placeholder=getHolder(wrapper),holdersCount=countHolders(args,placeholder)}if(partials){args=composeArgs(args,partials,holders,isCurried)}if(partialsRight){args=composeArgsRight(args,partialsRight,holdersRight,isCurried)}length-=holdersCount;if(isCurried&&length<arity){var newHolders=replaceHolders(args,placeholder);return createRecurry(func,bitmask,createHybrid,wrapper.placeholder,thisArg,args,newHolders,argPos,ary,arity-length)}var thisBinding=isBind?thisArg:this,fn=isBindKey?thisBinding[func]:func;length=args.length;if(argPos){args=reorder(args,argPos)}else if(isFlip&&length>1){args.reverse()}if(isAry&&ary<length){args.length=ary}if(this&&this!==root&&this instanceof wrapper){fn=Ctor||createCtor(fn)}return fn.apply(thisBinding,args)}return wrapper}function createInverter(setter,toIteratee){return function(object,iteratee){return baseInverter(object,setter,toIteratee(iteratee),{})}}function createMathOperation(operator,defaultValue){return function(value,other){var result;if(value===undefined&&other===undefined){return defaultValue}if(value!==undefined){result=value}if(other!==undefined){if(result===undefined){return other}if(typeof value=="string"||typeof other=="string"){value=baseToString(value);other=baseToString(other)}else{value=baseToNumber(value);other=baseToNumber(other)}result=operator(value,other)}return result}}function createOver(arrayFunc){return flatRest(function(iteratees){iteratees=arrayMap(iteratees,baseUnary(getIteratee()));return baseRest(function(args){var thisArg=this;return arrayFunc(iteratees,function(iteratee){return apply(iteratee,thisArg,args)})})})}function createPadding(length,chars){chars=chars===undefined?" ":baseToString(chars);var charsLength=chars.length;if(charsLength<2){return charsLength?baseRepeat(chars,length):chars}var result=baseRepeat(chars,nativeCeil(length/stringSize(chars)));return hasUnicode(chars)?castSlice(stringToArray(result),0,length).join(""):result.slice(0,length)}function createPartial(func,bitmask,thisArg,partials){var isBind=bitmask&WRAP_BIND_FLAG,Ctor=createCtor(func);function wrapper(){var argsIndex=-1,argsLength=arguments.length,leftIndex=-1,leftLength=partials.length,args=Array(leftLength+argsLength),fn=this&&this!==root&&this instanceof wrapper?Ctor:func;while(++leftIndex<leftLength){args[leftIndex]=partials[leftIndex]}while(argsLength--){args[leftIndex++]=arguments[++argsIndex]}return apply(fn,isBind?thisArg:this,args)}return wrapper}function createRange(fromRight){return function(start,end,step){if(step&&typeof step!="number"&&isIterateeCall(start,end,step)){end=step=undefined}start=toFinite(start);if(end===undefined){end=start;start=0}else{end=toFinite(end)}step=step===undefined?start<end?1:-1:toFinite(step);return baseRange(start,end,step,fromRight)}}function createRelationalOperation(operator){return function(value,other){if(!(typeof value=="string"&&typeof other=="string")){value=toNumber(value);other=toNumber(other)}return operator(value,other)}}function createRecurry(func,bitmask,wrapFunc,placeholder,thisArg,partials,holders,argPos,ary,arity){var isCurry=bitmask&WRAP_CURRY_FLAG,newHolders=isCurry?holders:undefined,newHoldersRight=isCurry?undefined:holders,newPartials=isCurry?partials:undefined,newPartialsRight=isCurry?undefined:partials;bitmask|=isCurry?WRAP_PARTIAL_FLAG:WRAP_PARTIAL_RIGHT_FLAG;bitmask&=~(isCurry?WRAP_PARTIAL_RIGHT_FLAG:WRAP_PARTIAL_FLAG);if(!(bitmask&WRAP_CURRY_BOUND_FLAG)){bitmask&=~(WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG)}var newData=[func,bitmask,thisArg,newPartials,newHolders,newPartialsRight,newHoldersRight,argPos,ary,arity];var result=wrapFunc.apply(undefined,newData);if(isLaziable(func)){setData(result,newData)}result.placeholder=placeholder;return setWrapToString(result,func,bitmask)}function createRound(methodName){var func=Math[methodName];return function(number,precision){number=toNumber(number);precision=precision==null?0:nativeMin(toInteger(precision),292);if(precision&&nativeIsFinite(number)){var pair=(toString(number)+"e").split("e"),value=func(pair[0]+"e"+(+pair[1]+precision));pair=(toString(value)+"e").split("e");return+(pair[0]+"e"+(+pair[1]-precision))}return func(number)}}var createSet=!(Set&&1/setToArray(new Set([,-0]))[1]==INFINITY)?noop:function(values){return new Set(values)};function createToPairs(keysFunc){return function(object){var tag=getTag(object);if(tag==mapTag){return mapToArray(object)}if(tag==setTag){return setToPairs(object)}return baseToPairs(object,keysFunc(object))}}function createWrap(func,bitmask,thisArg,partials,holders,argPos,ary,arity){var isBindKey=bitmask&WRAP_BIND_KEY_FLAG;if(!isBindKey&&typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}var length=partials?partials.length:0;if(!length){bitmask&=~(WRAP_PARTIAL_FLAG|WRAP_PARTIAL_RIGHT_FLAG);partials=holders=undefined}ary=ary===undefined?ary:nativeMax(toInteger(ary),0);arity=arity===undefined?arity:toInteger(arity);length-=holders?holders.length:0;if(bitmask&WRAP_PARTIAL_RIGHT_FLAG){var partialsRight=partials,holdersRight=holders;partials=holders=undefined}var data=isBindKey?undefined:getData(func);var newData=[func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity];if(data){mergeData(newData,data)}func=newData[0];bitmask=newData[1];thisArg=newData[2];partials=newData[3];holders=newData[4];arity=newData[9]=newData[9]===undefined?isBindKey?0:func.length:nativeMax(newData[9]-length,0);if(!arity&&bitmask&(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG)){bitmask&=~(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG)}if(!bitmask||bitmask==WRAP_BIND_FLAG){var result=createBind(func,bitmask,thisArg)}else if(bitmask==WRAP_CURRY_FLAG||bitmask==WRAP_CURRY_RIGHT_FLAG){result=createCurry(func,bitmask,arity)}else if((bitmask==WRAP_PARTIAL_FLAG||bitmask==(WRAP_BIND_FLAG|WRAP_PARTIAL_FLAG))&&!holders.length){result=createPartial(func,bitmask,thisArg,partials)}else{result=createHybrid.apply(undefined,newData)}var setter=data?baseSetData:setData;return setWrapToString(setter(result,newData),func,bitmask)}function customDefaultsAssignIn(objValue,srcValue,key,object){if(objValue===undefined||eq(objValue,objectProto[key])&&!hasOwnProperty.call(object,key)){return srcValue}return objValue}function customDefaultsMerge(objValue,srcValue,key,object,source,stack){if(isObject(objValue)&&isObject(srcValue)){stack.set(srcValue,objValue);baseMerge(objValue,srcValue,undefined,customDefaultsMerge,stack);stack["delete"](srcValue)}return objValue}function customOmitClone(value){return isPlainObject(value)?undefined:value}function equalArrays(array,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength)){return false}var stacked=stack.get(array);if(stacked&&stack.get(other)){return stacked==other}var index=-1,result=true,seen=bitmask&COMPARE_UNORDERED_FLAG?new SetCache:undefined;stack.set(array,other);stack.set(other,array);while(++index<arrLength){var arrValue=array[index],othValue=other[index];if(customizer){var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack)}if(compared!==undefined){if(compared){continue}result=false;break}if(seen){if(!arraySome(other,function(othValue,othIndex){if(!cacheHas(seen,othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack))){return seen.push(othIndex)}})){result=false;break}}else if(!(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack))){result=false;break}}stack["delete"](array);stack["delete"](other);return result}function equalByTag(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case dataViewTag:if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset){return false}object=object.buffer;other=other.buffer;case arrayBufferTag:if(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other))){return false}return true;case boolTag:case dateTag:case numberTag:return eq(+object,+other);case errorTag:return object.name==other.name&&object.message==other.message;case regexpTag:case stringTag:return object==other+"";case mapTag:var convert=mapToArray;case setTag:var isPartial=bitmask&COMPARE_PARTIAL_FLAG;convert||(convert=setToArray);if(object.size!=other.size&&!isPartial){return false}var stacked=stack.get(object);if(stacked){return stacked==other}bitmask|=COMPARE_UNORDERED_FLAG;stack.set(object,other);var result=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack);stack["delete"](object);return result;case symbolTag:if(symbolValueOf){return symbolValueOf.call(object)==symbolValueOf.call(other)}}return false}function equalObjects(object,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,objProps=getAllKeys(object),objLength=objProps.length,othProps=getAllKeys(other),othLength=othProps.length;if(objLength!=othLength&&!isPartial){return false}var index=objLength;while(index--){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key))){return false}}var stacked=stack.get(object);if(stacked&&stack.get(other)){return stacked==other}var result=true;stack.set(object,other);stack.set(other,object);var skipCtor=isPartial;while(++index<objLength){key=objProps[index];var objValue=object[key],othValue=other[key];if(customizer){var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack)}if(!(compared===undefined?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=false;break}skipCtor||(skipCtor=key=="constructor")}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;if(objCtor!=othCtor&&("constructor"in object&&"constructor"in other)&&!(typeof objCtor=="function"&&objCtor instanceof objCtor&&typeof othCtor=="function"&&othCtor instanceof othCtor)){result=false}}stack["delete"](object);stack["delete"](other);return result}function flatRest(func){return setToString(overRest(func,undefined,flatten),func+"")}function getAllKeys(object){return baseGetAllKeys(object,keys,getSymbols)}function getAllKeysIn(object){return baseGetAllKeys(object,keysIn,getSymbolsIn)}var getData=!metaMap?noop:function(func){return metaMap.get(func)};function getFuncName(func){var result=func.name+"",array=realNames[result],length=hasOwnProperty.call(realNames,result)?array.length:0;while(length--){var data=array[length],otherFunc=data.func;if(otherFunc==null||otherFunc==func){return data.name}}return result}function getHolder(func){var object=hasOwnProperty.call(lodash,"placeholder")?lodash:func;return object.placeholder}function getIteratee(){var result=lodash.iteratee||iteratee;result=result===iteratee?baseIteratee:result;return arguments.length?result(arguments[0],arguments[1]):result}function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data[typeof key=="string"?"string":"hash"]:data.map}function getMatchData(object){var result=keys(object),length=result.length;while(length--){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)]}return result}function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:undefined}function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=undefined;var unmasked=true}catch(e){}var result=nativeObjectToString.call(value);if(unmasked){if(isOwn){value[symToStringTag]=tag}else{delete value[symToStringTag]}}return result}var getSymbols=!nativeGetSymbols?stubArray:function(object){if(object==null){return[]}object=Object(object);return arrayFilter(nativeGetSymbols(object),function(symbol){return propertyIsEnumerable.call(object,symbol)})};var getSymbolsIn=!nativeGetSymbols?stubArray:function(object){var result=[];while(object){arrayPush(result,getSymbols(object));object=getPrototype(object)}return result};var getTag=baseGetTag;if(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&getTag(Promise.resolve())!=promiseTag||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag){getTag=function(value){var result=baseGetTag(value),Ctor=result==objectTag?value.constructor:undefined,ctorString=Ctor?toSource(Ctor):"";if(ctorString){switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}}return result}}function getView(start,end,transforms){var index=-1,length=transforms.length;while(++index<length){var data=transforms[index],size=data.size;switch(data.type){case"drop":start+=size;break;case"dropRight":end-=size;break;case"take":end=nativeMin(end,start+size);break;case"takeRight":start=nativeMax(start,end-size);break}}return{start:start,end:end}}function getWrapDetails(source){var match=source.match(reWrapDetails);return match?match[1].split(reSplitDetails):[]}function hasPath(object,path,hasFunc){path=castPath(path,object);var index=-1,length=path.length,result=false;while(++index<length){var key=toKey(path[index]);if(!(result=object!=null&&hasFunc(object,key))){break}object=object[key]}if(result||++index!=length){return result}length=object==null?0:object.length;return!!length&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isArguments(object))}function initCloneArray(array){var length=array.length,result=new array.constructor(length);if(length&&typeof array[0]=="string"&&hasOwnProperty.call(array,"index")){result.index=array.index;result.input=array.input}return result}function initCloneObject(object){return typeof object.constructor=="function"&&!isPrototype(object)?baseCreate(getPrototype(object)):{}}function initCloneByTag(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return cloneArrayBuffer(object);case boolTag:case dateTag:return new Ctor(+object);case dataViewTag:return cloneDataView(object,isDeep);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:return cloneTypedArray(object,isDeep);case mapTag:return new Ctor;case numberTag:case stringTag:return new Ctor(object);case regexpTag:return cloneRegExp(object);case setTag:return new Ctor;case symbolTag:return cloneSymbol(object)}}function insertWrapDetails(source,details){var length=details.length;if(!length){return source}var lastIndex=length-1;details[lastIndex]=(length>1?"& ":"")+details[lastIndex];details=details.join(length>2?", ":" ");return source.replace(reWrapComment,"{\n/* [wrapped with "+details+"] */\n")}function isFlattenable(value){return isArray(value)||isArguments(value)||!!(spreadableSymbol&&value&&value[spreadableSymbol])}function isIndex(value,length){var type=typeof value;length=length==null?MAX_SAFE_INTEGER:length;return!!length&&(type=="number"||type!="symbol"&&reIsUint.test(value))&&(value>-1&&value%1==0&&value<length)}function isIterateeCall(value,index,object){if(!isObject(object)){return false}var type=typeof index;if(type=="number"?isArrayLike(object)&&isIndex(index,object.length):type=="string"&&index in object){return eq(object[index],value)}return false}function isKey(value,object){if(isArray(value)){return false}var type=typeof value;if(type=="number"||type=="symbol"||type=="boolean"||value==null||isSymbol(value)){return true}return reIsPlainProp.test(value)||!reIsDeepProp.test(value)||object!=null&&value in Object(object)}function isKeyable(value){var type=typeof value;return type=="string"||type=="number"||type=="symbol"||type=="boolean"?value!=="__proto__":value===null}function isLaziable(func){var funcName=getFuncName(func),other=lodash[funcName];if(typeof other!="function"||!(funcName in LazyWrapper.prototype)){return false}if(func===other){return true}var data=getData(other);return!!data&&func===data[0]}function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}var isMaskable=coreJsData?isFunction:stubFalse;function isPrototype(value){var Ctor=value&&value.constructor,proto=typeof Ctor=="function"&&Ctor.prototype||objectProto;return value===proto}function isStrictComparable(value){return value===value&&!isObject(value)}function matchesStrictComparable(key,srcValue){return function(object){if(object==null){return false}return object[key]===srcValue&&(srcValue!==undefined||key in Object(object))}}function memoizeCapped(func){var result=memoize(func,function(key){if(cache.size===MAX_MEMOIZE_SIZE){cache.clear()}return key});var cache=result.cache;return result}function mergeData(data,source){var bitmask=data[1],srcBitmask=source[1],newBitmask=bitmask|srcBitmask,isCommon=newBitmask<(WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG|WRAP_ARY_FLAG);var isCombo=srcBitmask==WRAP_ARY_FLAG&&bitmask==WRAP_CURRY_FLAG||srcBitmask==WRAP_ARY_FLAG&&bitmask==WRAP_REARG_FLAG&&data[7].length<=source[8]||srcBitmask==(WRAP_ARY_FLAG|WRAP_REARG_FLAG)&&source[7].length<=source[8]&&bitmask==WRAP_CURRY_FLAG;if(!(isCommon||isCombo)){return data}if(srcBitmask&WRAP_BIND_FLAG){data[2]=source[2];newBitmask|=bitmask&WRAP_BIND_FLAG?0:WRAP_CURRY_BOUND_FLAG}var value=source[3];if(value){var partials=data[3];data[3]=partials?composeArgs(partials,value,source[4]):value;data[4]=partials?replaceHolders(data[3],PLACEHOLDER):source[4]}value=source[5];if(value){partials=data[5];data[5]=partials?composeArgsRight(partials,value,source[6]):value;data[6]=partials?replaceHolders(data[5],PLACEHOLDER):source[6]}value=source[7];if(value){data[7]=value}if(srcBitmask&WRAP_ARY_FLAG){data[8]=data[8]==null?source[8]:nativeMin(data[8],source[8])}if(data[9]==null){data[9]=source[9]}data[0]=source[0];data[1]=newBitmask;return data}function nativeKeysIn(object){var result=[];if(object!=null){for(var key in Object(object)){result.push(key)}}return result}function objectToString(value){return nativeObjectToString.call(value)}function overRest(func,start,transform){start=nativeMax(start===undefined?func.length-1:start,0);return function(){var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);while(++index<length){array[index]=args[start+index]}index=-1;var otherArgs=Array(start+1);while(++index<start){otherArgs[index]=args[index]}otherArgs[start]=transform(array);return apply(func,this,otherArgs)}}function parent(object,path){return path.length<2?object:baseGet(object,baseSlice(path,0,-1))}function reorder(array,indexes){var arrLength=array.length,length=nativeMin(indexes.length,arrLength),oldArray=copyArray(array);while(length--){var index=indexes[length];array[length]=isIndex(index,arrLength)?oldArray[index]:undefined}return array}function safeGet(object,key){if(key==="constructor"&&typeof object[key]==="function"){return}if(key=="__proto__"){return}return object[key]}var setData=shortOut(baseSetData);var setTimeout=ctxSetTimeout||function(func,wait){return root.setTimeout(func,wait)};var setToString=shortOut(baseSetToString);function setWrapToString(wrapper,reference,bitmask){var source=reference+"";return setToString(wrapper,insertWrapDetails(source,updateWrapDetails(getWrapDetails(source),bitmask)))}function shortOut(func){var count=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=HOT_SPAN-(stamp-lastCalled);lastCalled=stamp;if(remaining>0){if(++count>=HOT_COUNT){return arguments[0]}}else{count=0}return func.apply(undefined,arguments)}}function shuffleSelf(array,size){var index=-1,length=array.length,lastIndex=length-1;size=size===undefined?length:size;while(++index<size){var rand=baseRandom(index,lastIndex),value=array[rand];array[rand]=array[index];array[index]=value}array.length=size;return array}var stringToPath=memoizeCapped(function(string){var result=[];if(string.charCodeAt(0)===46){result.push("")}string.replace(rePropName,function(match,number,quote,subString){result.push(quote?subString.replace(reEscapeChar,"$1"):number||match)});return result});function toKey(value){if(typeof value=="string"||isSymbol(value)){return value}var result=value+"";return result=="0"&&1/value==-INFINITY?"-0":result}function toSource(func){if(func!=null){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function updateWrapDetails(details,bitmask){arrayEach(wrapFlags,function(pair){var value="_."+pair[0];if(bitmask&pair[1]&&!arrayIncludes(details,value)){details.push(value)}});return details.sort()}function wrapperClone(wrapper){if(wrapper instanceof LazyWrapper){return wrapper.clone()}var result=new LodashWrapper(wrapper.__wrapped__,wrapper.__chain__);result.__actions__=copyArray(wrapper.__actions__);result.__index__=wrapper.__index__;result.__values__=wrapper.__values__;return result}function chunk(array,size,guard){if(guard?isIterateeCall(array,size,guard):size===undefined){size=1}else{size=nativeMax(toInteger(size),0)}var length=array==null?0:array.length;if(!length||size<1){return[]}var index=0,resIndex=0,result=Array(nativeCeil(length/size));while(index<length){result[resIndex++]=baseSlice(array,index,index+=size)}return result}function compact(array){var index=-1,length=array==null?0:array.length,resIndex=0,result=[];while(++index<length){var value=array[index];if(value){result[resIndex++]=value}}return result}function concat(){var length=arguments.length;if(!length){return[]}var args=Array(length-1),array=arguments[0],index=length;while(index--){args[index-1]=arguments[index]}return arrayPush(isArray(array)?copyArray(array):[array],baseFlatten(args,1))}var difference=baseRest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,true)):[]});var differenceBy=baseRest(function(array,values){var iteratee=last(values);if(isArrayLikeObject(iteratee)){iteratee=undefined}return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,true),getIteratee(iteratee,2)):[]});var differenceWith=baseRest(function(array,values){var comparator=last(values);if(isArrayLikeObject(comparator)){comparator=undefined}return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,true),undefined,comparator):[]});function drop(array,n,guard){var length=array==null?0:array.length;if(!length){return[]}n=guard||n===undefined?1:toInteger(n);return baseSlice(array,n<0?0:n,length)}function dropRight(array,n,guard){var length=array==null?0:array.length;if(!length){return[]}n=guard||n===undefined?1:toInteger(n);n=length-n;return baseSlice(array,0,n<0?0:n)}function dropRightWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),true,true):[]}function dropWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),true):[]}function fill(array,value,start,end){var length=array==null?0:array.length;if(!length){return[]}if(start&&typeof start!="number"&&isIterateeCall(array,value,start)){start=0;end=length}return baseFill(array,value,start,end)}function findIndex(array,predicate,fromIndex){var length=array==null?0:array.length;if(!length){return-1}var index=fromIndex==null?0:toInteger(fromIndex);if(index<0){index=nativeMax(length+index,0)}return baseFindIndex(array,getIteratee(predicate,3),index)}function findLastIndex(array,predicate,fromIndex){var length=array==null?0:array.length;if(!length){return-1}var index=length-1;if(fromIndex!==undefined){index=toInteger(fromIndex);index=fromIndex<0?nativeMax(length+index,0):nativeMin(index,length-1)}return baseFindIndex(array,getIteratee(predicate,3),index,true)}function flatten(array){var length=array==null?0:array.length;return length?baseFlatten(array,1):[]}function flattenDeep(array){var length=array==null?0:array.length;return length?baseFlatten(array,INFINITY):[]}function flattenDepth(array,depth){var length=array==null?0:array.length;if(!length){return[]}depth=depth===undefined?1:toInteger(depth);return baseFlatten(array,depth)}function fromPairs(pairs){var index=-1,length=pairs==null?0:pairs.length,result={};while(++index<length){var pair=pairs[index];result[pair[0]]=pair[1]}return result}function head(array){return array&&array.length?array[0]:undefined}function indexOf(array,value,fromIndex){var length=array==null?0:array.length;if(!length){return-1}var index=fromIndex==null?0:toInteger(fromIndex);if(index<0){index=nativeMax(length+index,0)}return baseIndexOf(array,value,index)}function initial(array){var length=array==null?0:array.length;return length?baseSlice(array,0,-1):[]}var intersection=baseRest(function(arrays){var mapped=arrayMap(arrays,castArrayLikeObject);return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped):[]});var intersectionBy=baseRest(function(arrays){var iteratee=last(arrays),mapped=arrayMap(arrays,castArrayLikeObject);if(iteratee===last(mapped)){iteratee=undefined}else{mapped.pop()}return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,getIteratee(iteratee,2)):[]});var intersectionWith=baseRest(function(arrays){var comparator=last(arrays),mapped=arrayMap(arrays,castArrayLikeObject);comparator=typeof comparator=="function"?comparator:undefined;if(comparator){mapped.pop()}return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,undefined,comparator):[]});function join(array,separator){return array==null?"":nativeJoin.call(array,separator)}function last(array){var length=array==null?0:array.length;return length?array[length-1]:undefined}function lastIndexOf(array,value,fromIndex){var length=array==null?0:array.length;if(!length){return-1}var index=length;if(fromIndex!==undefined){index=toInteger(fromIndex);index=index<0?nativeMax(length+index,0):nativeMin(index,length-1)}return value===value?strictLastIndexOf(array,value,index):baseFindIndex(array,baseIsNaN,index,true)}function nth(array,n){return array&&array.length?baseNth(array,toInteger(n)):undefined}var pull=baseRest(pullAll);function pullAll(array,values){return array&&array.length&&values&&values.length?basePullAll(array,values):array}function pullAllBy(array,values,iteratee){return array&&array.length&&values&&values.length?basePullAll(array,values,getIteratee(iteratee,2)):array}function pullAllWith(array,values,comparator){return array&&array.length&&values&&values.length?basePullAll(array,values,undefined,comparator):array}var pullAt=flatRest(function(array,indexes){var length=array==null?0:array.length,result=baseAt(array,indexes);basePullAt(array,arrayMap(indexes,function(index){return isIndex(index,length)?+index:index}).sort(compareAscending));return result});function remove(array,predicate){var result=[];if(!(array&&array.length)){return result}var index=-1,indexes=[],length=array.length;predicate=getIteratee(predicate,3);while(++index<length){var value=array[index];if(predicate(value,index,array)){result.push(value);indexes.push(index)}}basePullAt(array,indexes);return result}function reverse(array){return array==null?array:nativeReverse.call(array)}function slice(array,start,end){var length=array==null?0:array.length;if(!length){return[]}if(end&&typeof end!="number"&&isIterateeCall(array,start,end)){start=0;end=length}else{start=start==null?0:toInteger(start);end=end===undefined?length:toInteger(end)}return baseSlice(array,start,end)}function sortedIndex(array,value){return baseSortedIndex(array,value)}function sortedIndexBy(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee,2))}function sortedIndexOf(array,value){var length=array==null?0:array.length;if(length){var index=baseSortedIndex(array,value);if(index<length&&eq(array[index],value)){return index}}return-1}function sortedLastIndex(array,value){return baseSortedIndex(array,value,true)}function sortedLastIndexBy(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee,2),true)}function sortedLastIndexOf(array,value){var length=array==null?0:array.length;if(length){var index=baseSortedIndex(array,value,true)-1;if(eq(array[index],value)){return index}}return-1}function sortedUniq(array){return array&&array.length?baseSortedUniq(array):[]}function sortedUniqBy(array,iteratee){return array&&array.length?baseSortedUniq(array,getIteratee(iteratee,2)):[]}function tail(array){var length=array==null?0:array.length;return length?baseSlice(array,1,length):[]}function take(array,n,guard){if(!(array&&array.length)){return[]}n=guard||n===undefined?1:toInteger(n);return baseSlice(array,0,n<0?0:n)}function takeRight(array,n,guard){var length=array==null?0:array.length;if(!length){return[]}n=guard||n===undefined?1:toInteger(n);n=length-n;return baseSlice(array,n<0?0:n,length)}function takeRightWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),false,true):[]}function takeWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3)):[]}var union=baseRest(function(arrays){return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,true))});var unionBy=baseRest(function(arrays){var iteratee=last(arrays);if(isArrayLikeObject(iteratee)){iteratee=undefined}return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,true),getIteratee(iteratee,2))});var unionWith=baseRest(function(arrays){var comparator=last(arrays);comparator=typeof comparator=="function"?comparator:undefined;return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,true),undefined,comparator)});function uniq(array){return array&&array.length?baseUniq(array):[]}function uniqBy(array,iteratee){return array&&array.length?baseUniq(array,getIteratee(iteratee,2)):[]}function uniqWith(array,comparator){comparator=typeof comparator=="function"?comparator:undefined;return array&&array.length?baseUniq(array,undefined,comparator):[]}function unzip(array){if(!(array&&array.length)){return[]}var length=0;array=arrayFilter(array,function(group){if(isArrayLikeObject(group)){length=nativeMax(group.length,length);return true}});return baseTimes(length,function(index){return arrayMap(array,baseProperty(index))})}function unzipWith(array,iteratee){if(!(array&&array.length)){return[]}var result=unzip(array);if(iteratee==null){return result}return arrayMap(result,function(group){return apply(iteratee,undefined,group)})}var without=baseRest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,values):[]});var xor=baseRest(function(arrays){return baseXor(arrayFilter(arrays,isArrayLikeObject))});var xorBy=baseRest(function(arrays){var iteratee=last(arrays);if(isArrayLikeObject(iteratee)){iteratee=undefined}return baseXor(arrayFilter(arrays,isArrayLikeObject),getIteratee(iteratee,2))});var xorWith=baseRest(function(arrays){var comparator=last(arrays);comparator=typeof comparator=="function"?comparator:undefined;return baseXor(arrayFilter(arrays,isArrayLikeObject),undefined,comparator)});var zip=baseRest(unzip);function zipObject(props,values){return baseZipObject(props||[],values||[],assignValue)}function zipObjectDeep(props,values){return baseZipObject(props||[],values||[],baseSet)}var zipWith=baseRest(function(arrays){var length=arrays.length,iteratee=length>1?arrays[length-1]:undefined;iteratee=typeof iteratee=="function"?(arrays.pop(),iteratee):undefined;return unzipWith(arrays,iteratee)});function chain(value){var result=lodash(value);result.__chain__=true;return result}function tap(value,interceptor){interceptor(value);return value}function thru(value,interceptor){return interceptor(value)}var wrapperAt=flatRest(function(paths){var length=paths.length,start=length?paths[0]:0,value=this.__wrapped__,interceptor=function(object){return baseAt(object,paths)};if(length>1||this.__actions__.length||!(value instanceof LazyWrapper)||!isIndex(start)){return this.thru(interceptor)}value=value.slice(start,+start+(length?1:0));value.__actions__.push({func:thru,args:[interceptor],thisArg:undefined});return new LodashWrapper(value,this.__chain__).thru(function(array){if(length&&!array.length){array.push(undefined)}return array})});function wrapperChain(){return chain(this)}function wrapperCommit(){return new LodashWrapper(this.value(),this.__chain__)}function wrapperNext(){if(this.__values__===undefined){this.__values__=toArray(this.value())}var done=this.__index__>=this.__values__.length,value=done?undefined:this.__values__[this.__index__++];return{done:done,value:value}}function wrapperToIterator(){return this}function wrapperPlant(value){var result,parent=this;while(parent instanceof baseLodash){var clone=wrapperClone(parent);clone.__index__=0;clone.__values__=undefined;if(result){previous.__wrapped__=clone}else{result=clone}var previous=clone;parent=parent.__wrapped__}previous.__wrapped__=value;return result}function wrapperReverse(){var value=this.__wrapped__;if(value instanceof LazyWrapper){var wrapped=value;if(this.__actions__.length){wrapped=new LazyWrapper(this)}wrapped=wrapped.reverse();wrapped.__actions__.push({func:thru,args:[reverse],thisArg:undefined});return new LodashWrapper(wrapped,this.__chain__)}return this.thru(reverse)}function wrapperValue(){return baseWrapperValue(this.__wrapped__,this.__actions__)}var countBy=createAggregator(function(result,value,key){if(hasOwnProperty.call(result,key)){++result[key]}else{baseAssignValue(result,key,1)}});function every(collection,predicate,guard){var func=isArray(collection)?arrayEvery:baseEvery;if(guard&&isIterateeCall(collection,predicate,guard)){predicate=undefined}return func(collection,getIteratee(predicate,3))}function filter(collection,predicate){var func=isArray(collection)?arrayFilter:baseFilter;return func(collection,getIteratee(predicate,3))}var find=createFind(findIndex);var findLast=createFind(findLastIndex);function flatMap(collection,iteratee){return baseFlatten(map(collection,iteratee),1)}function flatMapDeep(collection,iteratee){return baseFlatten(map(collection,iteratee),INFINITY)}function flatMapDepth(collection,iteratee,depth){depth=depth===undefined?1:toInteger(depth);return baseFlatten(map(collection,iteratee),depth)}function forEach(collection,iteratee){var func=isArray(collection)?arrayEach:baseEach;return func(collection,getIteratee(iteratee,3))}function forEachRight(collection,iteratee){var func=isArray(collection)?arrayEachRight:baseEachRight;return func(collection,getIteratee(iteratee,3))}var groupBy=createAggregator(function(result,value,key){if(hasOwnProperty.call(result,key)){result[key].push(value)}else{baseAssignValue(result,key,[value])}});function includes(collection,value,fromIndex,guard){collection=isArrayLike(collection)?collection:values(collection);fromIndex=fromIndex&&!guard?toInteger(fromIndex):0;var length=collection.length;if(fromIndex<0){fromIndex=nativeMax(length+fromIndex,0)}return isString(collection)?fromIndex<=length&&collection.indexOf(value,fromIndex)>-1:!!length&&baseIndexOf(collection,value,fromIndex)>-1}var invokeMap=baseRest(function(collection,path,args){var index=-1,isFunc=typeof path=="function",result=isArrayLike(collection)?Array(collection.length):[];baseEach(collection,function(value){result[++index]=isFunc?apply(path,value,args):baseInvoke(value,path,args)});return result});var keyBy=createAggregator(function(result,value,key){baseAssignValue(result,key,value)});function map(collection,iteratee){var func=isArray(collection)?arrayMap:baseMap;return func(collection,getIteratee(iteratee,3))}function orderBy(collection,iteratees,orders,guard){if(collection==null){return[]}if(!isArray(iteratees)){iteratees=iteratees==null?[]:[iteratees]}orders=guard?undefined:orders;if(!isArray(orders)){orders=orders==null?[]:[orders]}return baseOrderBy(collection,iteratees,orders)}var partition=createAggregator(function(result,value,key){result[key?0:1].push(value)},function(){return[[],[]]});function reduce(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduce:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEach)}function reduceRight(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduceRight:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEachRight)}function reject(collection,predicate){var func=isArray(collection)?arrayFilter:baseFilter;return func(collection,negate(getIteratee(predicate,3)))}function sample(collection){var func=isArray(collection)?arraySample:baseSample;return func(collection)}function sampleSize(collection,n,guard){if(guard?isIterateeCall(collection,n,guard):n===undefined){n=1}else{n=toInteger(n)}var func=isArray(collection)?arraySampleSize:baseSampleSize;return func(collection,n)}function shuffle(collection){var func=isArray(collection)?arrayShuffle:baseShuffle;return func(collection)}function size(collection){if(collection==null){return 0}if(isArrayLike(collection)){return isString(collection)?stringSize(collection):collection.length}var tag=getTag(collection);if(tag==mapTag||tag==setTag){return collection.size}return baseKeys(collection).length}function some(collection,predicate,guard){var func=isArray(collection)?arraySome:baseSome;if(guard&&isIterateeCall(collection,predicate,guard)){predicate=undefined}return func(collection,getIteratee(predicate,3))}var sortBy=baseRest(function(collection,iteratees){if(collection==null){return[]}var length=iteratees.length;if(length>1&&isIterateeCall(collection,iteratees[0],iteratees[1])){iteratees=[]}else if(length>2&&isIterateeCall(iteratees[0],iteratees[1],iteratees[2])){iteratees=[iteratees[0]]}return baseOrderBy(collection,baseFlatten(iteratees,1),[])});var now=ctxNow||function(){return root.Date.now()};function after(n,func){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}n=toInteger(n);return function(){if(--n<1){return func.apply(this,arguments)}}}function ary(func,n,guard){n=guard?undefined:n;n=func&&n==null?func.length:n;return createWrap(func,WRAP_ARY_FLAG,undefined,undefined,undefined,undefined,n)}function before(n,func){var result;if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}n=toInteger(n);return function(){if(--n>0){result=func.apply(this,arguments)}if(n<=1){func=undefined}return result}}var bind=baseRest(function(func,thisArg,partials){var bitmask=WRAP_BIND_FLAG;if(partials.length){var holders=replaceHolders(partials,getHolder(bind));bitmask|=WRAP_PARTIAL_FLAG}return createWrap(func,bitmask,thisArg,partials,holders)});var bindKey=baseRest(function(object,key,partials){var bitmask=WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG;if(partials.length){var holders=replaceHolders(partials,getHolder(bindKey));bitmask|=WRAP_PARTIAL_FLAG}return createWrap(key,bitmask,object,partials,holders)});function curry(func,arity,guard){arity=guard?undefined:arity;var result=createWrap(func,WRAP_CURRY_FLAG,undefined,undefined,undefined,undefined,undefined,arity);result.placeholder=curry.placeholder;return result}function curryRight(func,arity,guard){arity=guard?undefined:arity;var result=createWrap(func,WRAP_CURRY_RIGHT_FLAG,undefined,undefined,undefined,undefined,undefined,arity);result.placeholder=curryRight.placeholder;return result}function debounce(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=false,maxing=false,trailing=true;if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}wait=toNumber(wait)||0;if(isObject(options)){leading=!!options.leading;maxing="maxWait"in options;maxWait=maxing?nativeMax(toNumber(options.maxWait)||0,wait):maxWait;trailing="trailing"in options?!!options.trailing:trailing}function invokeFunc(time){var args=lastArgs,thisArg=lastThis;lastArgs=lastThis=undefined;lastInvokeTime=time;result=func.apply(thisArg,args);return result}function leadingEdge(time){lastInvokeTime=time;timerId=setTimeout(timerExpired,wait);return leading?invokeFunc(time):result}function remainingWait(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime,timeWaiting=wait-timeSinceLastCall;return maxing?nativeMin(timeWaiting,maxWait-timeSinceLastInvoke):timeWaiting}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime;return lastCallTime===undefined||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&timeSinceLastInvoke>=maxWait}function timerExpired(){var time=now();if(shouldInvoke(time)){return trailingEdge(time)}timerId=setTimeout(timerExpired,remainingWait(time))}function trailingEdge(time){timerId=undefined;if(trailing&&lastArgs){return invokeFunc(time)}lastArgs=lastThis=undefined;return result}function cancel(){if(timerId!==undefined){clearTimeout(timerId)}lastInvokeTime=0;lastArgs=lastCallTime=lastThis=timerId=undefined}function flush(){return timerId===undefined?result:trailingEdge(now())}function debounced(){var time=now(),isInvoking=shouldInvoke(time);lastArgs=arguments;lastThis=this;lastCallTime=time;if(isInvoking){if(timerId===undefined){return leadingEdge(lastCallTime)}if(maxing){clearTimeout(timerId);timerId=setTimeout(timerExpired,wait);return invokeFunc(lastCallTime)}}if(timerId===undefined){timerId=setTimeout(timerExpired,wait)}return result}debounced.cancel=cancel;debounced.flush=flush;return debounced}var defer=baseRest(function(func,args){return baseDelay(func,1,args)});var delay=baseRest(function(func,wait,args){return baseDelay(func,toNumber(wait)||0,args)});function flip(func){return createWrap(func,WRAP_FLIP_FLAG)}function memoize(func,resolver){if(typeof func!="function"||resolver!=null&&typeof resolver!="function"){throw new TypeError(FUNC_ERROR_TEXT)}var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key)){return cache.get(key)}var result=func.apply(this,args);memoized.cache=cache.set(key,result)||cache;return result};memoized.cache=new(memoize.Cache||MapCache);return memoized}memoize.Cache=MapCache;function negate(predicate){if(typeof predicate!="function"){throw new TypeError(FUNC_ERROR_TEXT)}return function(){var args=arguments;switch(args.length){case 0:return!predicate.call(this);case 1:return!predicate.call(this,args[0]);case 2:return!predicate.call(this,args[0],args[1]);case 3:return!predicate.call(this,args[0],args[1],args[2])}return!predicate.apply(this,args)}}function once(func){return before(2,func)}var overArgs=castRest(function(func,transforms){transforms=transforms.length==1&&isArray(transforms[0])?arrayMap(transforms[0],baseUnary(getIteratee())):arrayMap(baseFlatten(transforms,1),baseUnary(getIteratee()));var funcsLength=transforms.length;return baseRest(function(args){var index=-1,length=nativeMin(args.length,funcsLength);while(++index<length){args[index]=transforms[index].call(this,args[index])}return apply(func,this,args)})});var partial=baseRest(function(func,partials){var holders=replaceHolders(partials,getHolder(partial));return createWrap(func,WRAP_PARTIAL_FLAG,undefined,partials,holders)});var partialRight=baseRest(function(func,partials){var holders=replaceHolders(partials,getHolder(partialRight));return createWrap(func,WRAP_PARTIAL_RIGHT_FLAG,undefined,partials,holders)});var rearg=flatRest(function(func,indexes){return createWrap(func,WRAP_REARG_FLAG,undefined,undefined,undefined,indexes)});function rest(func,start){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}start=start===undefined?start:toInteger(start);return baseRest(func,start)}function spread(func,start){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}start=start==null?0:nativeMax(toInteger(start),0);return baseRest(function(args){var array=args[start],otherArgs=castSlice(args,0,start);if(array){arrayPush(otherArgs,array)}return apply(func,this,otherArgs)})}function throttle(func,wait,options){var leading=true,trailing=true;if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}if(isObject(options)){leading="leading"in options?!!options.leading:leading;trailing="trailing"in options?!!options.trailing:trailing}return debounce(func,wait,{leading:leading,maxWait:wait,trailing:trailing})}function unary(func){return ary(func,1)}function wrap(value,wrapper){return partial(castFunction(wrapper),value)}function castArray(){if(!arguments.length){return[]}var value=arguments[0];return isArray(value)?value:[value]}function clone(value){return baseClone(value,CLONE_SYMBOLS_FLAG)}function cloneWith(value,customizer){customizer=typeof customizer=="function"?customizer:undefined;return baseClone(value,CLONE_SYMBOLS_FLAG,customizer)}function cloneDeep(value){return baseClone(value,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG)}function cloneDeepWith(value,customizer){customizer=typeof customizer=="function"?customizer:undefined;return baseClone(value,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG,customizer)}function conformsTo(object,source){return source==null||baseConformsTo(object,source,keys(source))}function eq(value,other){return value===other||value!==value&&other!==other}var gt=createRelationalOperation(baseGt);var gte=createRelationalOperation(function(value,other){return value>=other});var isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")};var isArray=Array.isArray;var isArrayBuffer=nodeIsArrayBuffer?baseUnary(nodeIsArrayBuffer):baseIsArrayBuffer;function isArrayLike(value){return value!=null&&isLength(value.length)&&!isFunction(value)}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}function isBoolean(value){return value===true||value===false||isObjectLike(value)&&baseGetTag(value)==boolTag}var isBuffer=nativeIsBuffer||stubFalse;var isDate=nodeIsDate?baseUnary(nodeIsDate):baseIsDate;function isElement(value){return isObjectLike(value)&&value.nodeType===1&&!isPlainObject(value)}function isEmpty(value){if(value==null){return true}if(isArrayLike(value)&&(isArray(value)||typeof value=="string"||typeof value.splice=="function"||isBuffer(value)||isTypedArray(value)||isArguments(value))){return!value.length}var tag=getTag(value);if(tag==mapTag||tag==setTag){return!value.size}if(isPrototype(value)){return!baseKeys(value).length}for(var key in value){if(hasOwnProperty.call(value,key)){return false}}return true}function isEqual(value,other){return baseIsEqual(value,other)}function isEqualWith(value,other,customizer){customizer=typeof customizer=="function"?customizer:undefined;var result=customizer?customizer(value,other):undefined;return result===undefined?baseIsEqual(value,other,undefined,customizer):!!result}function isError(value){if(!isObjectLike(value)){return false}var tag=baseGetTag(value);return tag==errorTag||tag==domExcTag||typeof value.message=="string"&&typeof value.name=="string"&&!isPlainObject(value)}function isFinite(value){return typeof value=="number"&&nativeIsFinite(value)}function isFunction(value){if(!isObject(value)){return false}var tag=baseGetTag(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag}function isInteger(value){return typeof value=="number"&&value==toInteger(value)}function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return value!=null&&(type=="object"||type=="function")}function isObjectLike(value){return value!=null&&typeof value=="object"}var isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap;function isMatch(object,source){return object===source||baseIsMatch(object,source,getMatchData(source))}function isMatchWith(object,source,customizer){customizer=typeof customizer=="function"?customizer:undefined;return baseIsMatch(object,source,getMatchData(source),customizer)}function isNaN(value){return isNumber(value)&&value!=+value}function isNative(value){if(isMaskable(value)){throw new Error(CORE_ERROR_TEXT)}return baseIsNative(value)}function isNull(value){return value===null}function isNil(value){return value==null}function isNumber(value){return typeof value=="number"||isObjectLike(value)&&baseGetTag(value)==numberTag}function isPlainObject(value){if(!isObjectLike(value)||baseGetTag(value)!=objectTag){return false}var proto=getPrototype(value);if(proto===null){return true}var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return typeof Ctor=="function"&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}var isRegExp=nodeIsRegExp?baseUnary(nodeIsRegExp):baseIsRegExp;function isSafeInteger(value){return isInteger(value)&&value>=-MAX_SAFE_INTEGER&&value<=MAX_SAFE_INTEGER}var isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet;function isString(value){return typeof value=="string"||!isArray(value)&&isObjectLike(value)&&baseGetTag(value)==stringTag}function isSymbol(value){return typeof value=="symbol"||isObjectLike(value)&&baseGetTag(value)==symbolTag}var isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;function isUndefined(value){return value===undefined}function isWeakMap(value){return isObjectLike(value)&&getTag(value)==weakMapTag}function isWeakSet(value){return isObjectLike(value)&&baseGetTag(value)==weakSetTag}var lt=createRelationalOperation(baseLt);var lte=createRelationalOperation(function(value,other){return value<=other});function toArray(value){if(!value){return[]}if(isArrayLike(value)){return isString(value)?stringToArray(value):copyArray(value)}if(symIterator&&value[symIterator]){return iteratorToArray(value[symIterator]())}var tag=getTag(value),func=tag==mapTag?mapToArray:tag==setTag?setToArray:values;return func(value)}function toFinite(value){if(!value){return value===0?value:0}value=toNumber(value);if(value===INFINITY||value===-INFINITY){var sign=value<0?-1:1;return sign*MAX_INTEGER}return value===value?value:0}function toInteger(value){var result=toFinite(value),remainder=result%1;return result===result?remainder?result-remainder:result:0}function toLength(value){return value?baseClamp(toInteger(value),0,MAX_ARRAY_LENGTH):0}function toNumber(value){if(typeof value=="number"){return value}if(isSymbol(value)){return NAN}if(isObject(value)){var other=typeof value.valueOf=="function"?value.valueOf():value;value=isObject(other)?other+"":other}if(typeof value!="string"){return value===0?value:+value}value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}function toPlainObject(value){return copyObject(value,keysIn(value))}function toSafeInteger(value){return value?baseClamp(toInteger(value),-MAX_SAFE_INTEGER,MAX_SAFE_INTEGER):value===0?value:0}function toString(value){return value==null?"":baseToString(value)}var assign=createAssigner(function(object,source){if(isPrototype(source)||isArrayLike(source)){copyObject(source,keys(source),object);return}for(var key in source){if(hasOwnProperty.call(source,key)){assignValue(object,key,source[key])}}});var assignIn=createAssigner(function(object,source){copyObject(source,keysIn(source),object)});var assignInWith=createAssigner(function(object,source,srcIndex,customizer){copyObject(source,keysIn(source),object,customizer)});var assignWith=createAssigner(function(object,source,srcIndex,customizer){copyObject(source,keys(source),object,customizer)});var at=flatRest(baseAt);function create(prototype,properties){var result=baseCreate(prototype);return properties==null?result:baseAssign(result,properties)}var defaults=baseRest(function(object,sources){object=Object(object);var index=-1;var length=sources.length;var guard=length>2?sources[2]:undefined;if(guard&&isIterateeCall(sources[0],sources[1],guard)){length=1}while(++index<length){var source=sources[index];var props=keysIn(source);var propsIndex=-1;var propsLength=props.length;while(++propsIndex<propsLength){var key=props[propsIndex];var value=object[key];if(value===undefined||eq(value,objectProto[key])&&!hasOwnProperty.call(object,key)){object[key]=source[key]}}}return object});var defaultsDeep=baseRest(function(args){args.push(undefined,customDefaultsMerge);return apply(mergeWith,undefined,args)});function findKey(object,predicate){return baseFindKey(object,getIteratee(predicate,3),baseForOwn)}function findLastKey(object,predicate){return baseFindKey(object,getIteratee(predicate,3),baseForOwnRight)}function forIn(object,iteratee){return object==null?object:baseFor(object,getIteratee(iteratee,3),keysIn)}function forInRight(object,iteratee){return object==null?object:baseForRight(object,getIteratee(iteratee,3),keysIn)}function forOwn(object,iteratee){return object&&baseForOwn(object,getIteratee(iteratee,3))}function forOwnRight(object,iteratee){return object&&baseForOwnRight(object,getIteratee(iteratee,3))}function functions(object){return object==null?[]:baseFunctions(object,keys(object))}function functionsIn(object){return object==null?[]:baseFunctions(object,keysIn(object))}function get(object,path,defaultValue){var result=object==null?undefined:baseGet(object,path);return result===undefined?defaultValue:result}function has(object,path){return object!=null&&hasPath(object,path,baseHas)}function hasIn(object,path){return object!=null&&hasPath(object,path,baseHasIn)}var invert=createInverter(function(result,value,key){if(value!=null&&typeof value.toString!="function"){value=nativeObjectToString.call(value)}result[value]=key},constant(identity));var invertBy=createInverter(function(result,value,key){if(value!=null&&typeof value.toString!="function"){value=nativeObjectToString.call(value)}if(hasOwnProperty.call(result,value)){result[value].push(key)}else{result[value]=[key]}},getIteratee);var invoke=baseRest(baseInvoke);function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}function keysIn(object){return isArrayLike(object)?arrayLikeKeys(object,true):baseKeysIn(object)}function mapKeys(object,iteratee){var result={};iteratee=getIteratee(iteratee,3);baseForOwn(object,function(value,key,object){baseAssignValue(result,iteratee(value,key,object),value)});return result}function mapValues(object,iteratee){var result={};iteratee=getIteratee(iteratee,3);baseForOwn(object,function(value,key,object){baseAssignValue(result,key,iteratee(value,key,object))});return result}var merge=createAssigner(function(object,source,srcIndex){baseMerge(object,source,srcIndex)});var mergeWith=createAssigner(function(object,source,srcIndex,customizer){baseMerge(object,source,srcIndex,customizer)});var omit=flatRest(function(object,paths){var result={};if(object==null){return result}var isDeep=false;paths=arrayMap(paths,function(path){path=castPath(path,object);isDeep||(isDeep=path.length>1);return path});copyObject(object,getAllKeysIn(object),result);if(isDeep){result=baseClone(result,CLONE_DEEP_FLAG|CLONE_FLAT_FLAG|CLONE_SYMBOLS_FLAG,customOmitClone)}var length=paths.length;while(length--){baseUnset(result,paths[length])}return result});function omitBy(object,predicate){return pickBy(object,negate(getIteratee(predicate)))}var pick=flatRest(function(object,paths){return object==null?{}:basePick(object,paths)});function pickBy(object,predicate){if(object==null){return{}}var props=arrayMap(getAllKeysIn(object),function(prop){return[prop]});predicate=getIteratee(predicate);return basePickBy(object,props,function(value,path){return predicate(value,path[0])})}function result(object,path,defaultValue){path=castPath(path,object);var index=-1,length=path.length;if(!length){length=1;object=undefined}while(++index<length){var value=object==null?undefined:object[toKey(path[index])];if(value===undefined){index=length;value=defaultValue}object=isFunction(value)?value.call(object):value}return object}function set(object,path,value){return object==null?object:baseSet(object,path,value)}function setWith(object,path,value,customizer){customizer=typeof customizer=="function"?customizer:undefined;return object==null?object:baseSet(object,path,value,customizer)}var toPairs=createToPairs(keys);var toPairsIn=createToPairs(keysIn);function transform(object,iteratee,accumulator){var isArr=isArray(object),isArrLike=isArr||isBuffer(object)||isTypedArray(object);iteratee=getIteratee(iteratee,4);if(accumulator==null){var Ctor=object&&object.constructor;if(isArrLike){accumulator=isArr?new Ctor:[]}else if(isObject(object)){accumulator=isFunction(Ctor)?baseCreate(getPrototype(object)):{}}else{accumulator={}}}(isArrLike?arrayEach:baseForOwn)(object,function(value,index,object){return iteratee(accumulator,value,index,object)});return accumulator}function unset(object,path){return object==null?true:baseUnset(object,path)}function update(object,path,updater){return object==null?object:baseUpdate(object,path,castFunction(updater))}function updateWith(object,path,updater,customizer){customizer=typeof customizer=="function"?customizer:undefined;return object==null?object:baseUpdate(object,path,castFunction(updater),customizer)}function values(object){return object==null?[]:baseValues(object,keys(object))}function valuesIn(object){return object==null?[]:baseValues(object,keysIn(object))}function clamp(number,lower,upper){if(upper===undefined){upper=lower;lower=undefined}if(upper!==undefined){upper=toNumber(upper);upper=upper===upper?upper:0}if(lower!==undefined){lower=toNumber(lower);lower=lower===lower?lower:0}return baseClamp(toNumber(number),lower,upper)}function inRange(number,start,end){start=toFinite(start);if(end===undefined){end=start;start=0}else{end=toFinite(end)}number=toNumber(number);return baseInRange(number,start,end)}function random(lower,upper,floating){if(floating&&typeof floating!="boolean"&&isIterateeCall(lower,upper,floating)){upper=floating=undefined}if(floating===undefined){if(typeof upper=="boolean"){floating=upper;upper=undefined}else if(typeof lower=="boolean"){floating=lower;lower=undefined}}if(lower===undefined&&upper===undefined){lower=0;upper=1}else{lower=toFinite(lower);if(upper===undefined){upper=lower;lower=0}else{upper=toFinite(upper)}}if(lower>upper){var temp=lower;lower=upper;upper=temp}if(floating||lower%1||upper%1){var rand=nativeRandom();return nativeMin(lower+rand*(upper-lower+freeParseFloat("1e-"+((rand+"").length-1))),upper)}return baseRandom(lower,upper)}var camelCase=createCompounder(function(result,word,index){word=word.toLowerCase();return result+(index?capitalize(word):word)});function capitalize(string){return upperFirst(toString(string).toLowerCase())}function deburr(string){string=toString(string);return string&&string.replace(reLatin,deburrLetter).replace(reComboMark,"")}function endsWith(string,target,position){string=toString(string);target=baseToString(target);var length=string.length;position=position===undefined?length:baseClamp(toInteger(position),0,length);var end=position;position-=target.length;return position>=0&&string.slice(position,end)==target}function escape(string){string=toString(string);return string&&reHasUnescapedHtml.test(string)?string.replace(reUnescapedHtml,escapeHtmlChar):string}function escapeRegExp(string){string=toString(string);return string&&reHasRegExpChar.test(string)?string.replace(reRegExpChar,"\\$&"):string}var kebabCase=createCompounder(function(result,word,index){return result+(index?"-":"")+word.toLowerCase()});var lowerCase=createCompounder(function(result,word,index){return result+(index?" ":"")+word.toLowerCase()});var lowerFirst=createCaseFirst("toLowerCase");function pad(string,length,chars){string=toString(string);length=toInteger(length);var strLength=length?stringSize(string):0;if(!length||strLength>=length){return string}var mid=(length-strLength)/2;return createPadding(nativeFloor(mid),chars)+string+createPadding(nativeCeil(mid),chars)}function padEnd(string,length,chars){string=toString(string);length=toInteger(length);var strLength=length?stringSize(string):0;return length&&strLength<length?string+createPadding(length-strLength,chars):string}function padStart(string,length,chars){string=toString(string);length=toInteger(length);var strLength=length?stringSize(string):0;return length&&strLength<length?createPadding(length-strLength,chars)+string:string}function parseInt(string,radix,guard){if(guard||radix==null){radix=0}else if(radix){radix=+radix}return nativeParseInt(toString(string).replace(reTrimStart,""),radix||0)}function repeat(string,n,guard){if(guard?isIterateeCall(string,n,guard):n===undefined){n=1}else{n=toInteger(n)}return baseRepeat(toString(string),n)}function replace(){var args=arguments,string=toString(args[0]);return args.length<3?string:string.replace(args[1],args[2])}var snakeCase=createCompounder(function(result,word,index){return result+(index?"_":"")+word.toLowerCase()});function split(string,separator,limit){if(limit&&typeof limit!="number"&&isIterateeCall(string,separator,limit)){separator=limit=undefined}limit=limit===undefined?MAX_ARRAY_LENGTH:limit>>>0;if(!limit){return[]}string=toString(string);if(string&&(typeof separator=="string"||separator!=null&&!isRegExp(separator))){separator=baseToString(separator);if(!separator&&hasUnicode(string)){return castSlice(stringToArray(string),0,limit)}}return string.split(separator,limit)}var startCase=createCompounder(function(result,word,index){return result+(index?" ":"")+upperFirst(word)});function startsWith(string,target,position){string=toString(string);position=position==null?0:baseClamp(toInteger(position),0,string.length);target=baseToString(target);return string.slice(position,position+target.length)==target}function template(string,options,guard){var settings=lodash.templateSettings;if(guard&&isIterateeCall(string,options,guard)){options=undefined}string=toString(string);options=assignInWith({},options,settings,customDefaultsAssignIn);var imports=assignInWith({},options.imports,settings.imports,customDefaultsAssignIn),importsKeys=keys(imports),importsValues=baseValues(imports,importsKeys);var isEscaping,isEvaluating,index=0,interpolate=options.interpolate||reNoMatch,source="__p += '";var reDelimiters=RegExp((options.escape||reNoMatch).source+"|"+interpolate.source+"|"+(interpolate===reInterpolate?reEsTemplate:reNoMatch).source+"|"+(options.evaluate||reNoMatch).source+"|$","g");var sourceURL="//# sourceURL="+(hasOwnProperty.call(options,"sourceURL")?(options.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++templateCounter+"]")+"\n";string.replace(reDelimiters,function(match,escapeValue,interpolateValue,esTemplateValue,evaluateValue,offset){interpolateValue||(interpolateValue=esTemplateValue);source+=string.slice(index,offset).replace(reUnescapedString,escapeStringChar);if(escapeValue){isEscaping=true;source+="' +\n__e("+escapeValue+") +\n'"}if(evaluateValue){isEvaluating=true;source+="';\n"+evaluateValue+";\n__p += '"}if(interpolateValue){source+="' +\n((__t = ("+interpolateValue+")) == null ? '' : __t) +\n'"}index=offset+match.length;return match});source+="';\n";var variable=hasOwnProperty.call(options,"variable")&&options.variable;if(!variable){source="with (obj) {\n"+source+"\n}\n"}source=(isEvaluating?source.replace(reEmptyStringLeading,""):source).replace(reEmptyStringMiddle,"$1").replace(reEmptyStringTrailing,"$1;");source="function("+(variable||"obj")+") {\n"+(variable?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(isEscaping?", __e = _.escape":"")+(isEvaluating?", __j = Array.prototype.join;\n"+"function print() { __p += __j.call(arguments, '') }\n":";\n")+source+"return __p\n}";var result=attempt(function(){return Function(importsKeys,sourceURL+"return "+source).apply(undefined,importsValues)});result.source=source;if(isError(result)){throw result}return result}function toLower(value){return toString(value).toLowerCase()}function toUpper(value){return toString(value).toUpperCase()}function trim(string,chars,guard){string=toString(string);if(string&&(guard||chars===undefined)){return string.replace(reTrim,"")}if(!string||!(chars=baseToString(chars))){return string}var strSymbols=stringToArray(string),chrSymbols=stringToArray(chars),start=charsStartIndex(strSymbols,chrSymbols),end=charsEndIndex(strSymbols,chrSymbols)+1;return castSlice(strSymbols,start,end).join("")}function trimEnd(string,chars,guard){string=toString(string);if(string&&(guard||chars===undefined)){return string.replace(reTrimEnd,"")}if(!string||!(chars=baseToString(chars))){return string}var strSymbols=stringToArray(string),end=charsEndIndex(strSymbols,stringToArray(chars))+1;return castSlice(strSymbols,0,end).join("")}function trimStart(string,chars,guard){string=toString(string);if(string&&(guard||chars===undefined)){return string.replace(reTrimStart,"")}if(!string||!(chars=baseToString(chars))){return string}var strSymbols=stringToArray(string),start=charsStartIndex(strSymbols,stringToArray(chars));return castSlice(strSymbols,start).join("")}function truncate(string,options){var length=DEFAULT_TRUNC_LENGTH,omission=DEFAULT_TRUNC_OMISSION;if(isObject(options)){var separator="separator"in options?options.separator:separator;length="length"in options?toInteger(options.length):length;omission="omission"in options?baseToString(options.omission):omission}string=toString(string);var strLength=string.length;if(hasUnicode(string)){var strSymbols=stringToArray(string);strLength=strSymbols.length}if(length>=strLength){return string}var end=length-stringSize(omission);if(end<1){return omission}var result=strSymbols?castSlice(strSymbols,0,end).join(""):string.slice(0,end);if(separator===undefined){return result+omission}if(strSymbols){end+=result.length-end}if(isRegExp(separator)){if(string.slice(end).search(separator)){var match,substring=result;if(!separator.global){separator=RegExp(separator.source,toString(reFlags.exec(separator))+"g")}separator.lastIndex=0;while(match=separator.exec(substring)){var newEnd=match.index}result=result.slice(0,newEnd===undefined?end:newEnd)}}else if(string.indexOf(baseToString(separator),end)!=end){var index=result.lastIndexOf(separator);if(index>-1){result=result.slice(0,index)}}return result+omission}function unescape(string){string=toString(string);return string&&reHasEscapedHtml.test(string)?string.replace(reEscapedHtml,unescapeHtmlChar):string}var upperCase=createCompounder(function(result,word,index){return result+(index?" ":"")+word.toUpperCase()});var upperFirst=createCaseFirst("toUpperCase");function words(string,pattern,guard){string=toString(string);pattern=guard?undefined:pattern;if(pattern===undefined){return hasUnicodeWord(string)?unicodeWords(string):asciiWords(string)}return string.match(pattern)||[]}var attempt=baseRest(function(func,args){try{return apply(func,undefined,args)}catch(e){return isError(e)?e:new Error(e)}});var bindAll=flatRest(function(object,methodNames){arrayEach(methodNames,function(key){key=toKey(key);baseAssignValue(object,key,bind(object[key],object))});return object});function cond(pairs){var length=pairs==null?0:pairs.length,toIteratee=getIteratee();pairs=!length?[]:arrayMap(pairs,function(pair){if(typeof pair[1]!="function"){throw new TypeError(FUNC_ERROR_TEXT)}return[toIteratee(pair[0]),pair[1]]});return baseRest(function(args){var index=-1;while(++index<length){var pair=pairs[index];if(apply(pair[0],this,args)){return apply(pair[1],this,args)}}})}function conforms(source){return baseConforms(baseClone(source,CLONE_DEEP_FLAG))}function constant(value){return function(){return value}}function defaultTo(value,defaultValue){return value==null||value!==value?defaultValue:value}var flow=createFlow();var flowRight=createFlow(true);function identity(value){return value}function iteratee(func){return baseIteratee(typeof func=="function"?func:baseClone(func,CLONE_DEEP_FLAG))}function matches(source){return baseMatches(baseClone(source,CLONE_DEEP_FLAG))}function matchesProperty(path,srcValue){return baseMatchesProperty(path,baseClone(srcValue,CLONE_DEEP_FLAG))}var method=baseRest(function(path,args){return function(object){return baseInvoke(object,path,args)}});var methodOf=baseRest(function(object,args){return function(path){return baseInvoke(object,path,args)}});function mixin(object,source,options){var props=keys(source),methodNames=baseFunctions(source,props);if(options==null&&!(isObject(source)&&(methodNames.length||!props.length))){options=source;source=object;object=this;methodNames=baseFunctions(source,keys(source))}var chain=!(isObject(options)&&"chain"in options)||!!options.chain,isFunc=isFunction(object);arrayEach(methodNames,function(methodName){var func=source[methodName];object[methodName]=func;if(isFunc){object.prototype[methodName]=function(){var chainAll=this.__chain__;if(chain||chainAll){var result=object(this.__wrapped__),actions=result.__actions__=copyArray(this.__actions__);actions.push({func:func,args:arguments,thisArg:object});result.__chain__=chainAll;return result}return func.apply(object,arrayPush([this.value()],arguments))}}});return object}function noConflict(){if(root._===this){root._=oldDash}return this}function noop(){}function nthArg(n){n=toInteger(n);return baseRest(function(args){return baseNth(args,n)})}var over=createOver(arrayMap);var overEvery=createOver(arrayEvery);var overSome=createOver(arraySome);function property(path){return isKey(path)?baseProperty(toKey(path)):basePropertyDeep(path)}function propertyOf(object){return function(path){return object==null?undefined:baseGet(object,path)}}var range=createRange();var rangeRight=createRange(true);function stubArray(){return[]}function stubFalse(){return false}function stubObject(){return{}}function stubString(){return""}function stubTrue(){return true}function times(n,iteratee){n=toInteger(n);if(n<1||n>MAX_SAFE_INTEGER){return[]}var index=MAX_ARRAY_LENGTH,length=nativeMin(n,MAX_ARRAY_LENGTH);iteratee=getIteratee(iteratee);n-=MAX_ARRAY_LENGTH;var result=baseTimes(length,iteratee);while(++index<n){iteratee(index)}return result}function toPath(value){if(isArray(value)){return arrayMap(value,toKey)}return isSymbol(value)?[value]:copyArray(stringToPath(toString(value)))}function uniqueId(prefix){var id=++idCounter;return toString(prefix)+id}var add=createMathOperation(function(augend,addend){return augend+addend},0);var ceil=createRound("ceil");var divide=createMathOperation(function(dividend,divisor){return dividend/divisor},1);var floor=createRound("floor");function max(array){return array&&array.length?baseExtremum(array,identity,baseGt):undefined}function maxBy(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee,2),baseGt):undefined}function mean(array){return baseMean(array,identity)}function meanBy(array,iteratee){return baseMean(array,getIteratee(iteratee,2))}function min(array){return array&&array.length?baseExtremum(array,identity,baseLt):undefined}function minBy(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee,2),baseLt):undefined}var multiply=createMathOperation(function(multiplier,multiplicand){return multiplier*multiplicand},1);var round=createRound("round");var subtract=createMathOperation(function(minuend,subtrahend){return minuend-subtrahend},0);function sum(array){return array&&array.length?baseSum(array,identity):0}function sumBy(array,iteratee){return array&&array.length?baseSum(array,getIteratee(iteratee,2)):0}lodash.after=after;lodash.ary=ary;lodash.assign=assign;lodash.assignIn=assignIn;lodash.assignInWith=assignInWith;lodash.assignWith=assignWith;lodash.at=at;lodash.before=before;lodash.bind=bind;lodash.bindAll=bindAll;lodash.bindKey=bindKey;lodash.castArray=castArray;lodash.chain=chain;lodash.chunk=chunk;lodash.compact=compact;lodash.concat=concat;lodash.cond=cond;lodash.conforms=conforms;lodash.constant=constant;lodash.countBy=countBy;lodash.create=create;lodash.curry=curry;lodash.curryRight=curryRight;lodash.debounce=debounce;lodash.defaults=defaults;lodash.defaultsDeep=defaultsDeep;lodash.defer=defer;lodash.delay=delay;lodash.difference=difference;lodash.differenceBy=differenceBy;lodash.differenceWith=differenceWith;lodash.drop=drop;lodash.dropRight=dropRight;lodash.dropRightWhile=dropRightWhile;lodash.dropWhile=dropWhile;lodash.fill=fill;lodash.filter=filter;lodash.flatMap=flatMap;lodash.flatMapDeep=flatMapDeep;lodash.flatMapDepth=flatMapDepth;lodash.flatten=flatten;lodash.flattenDeep=flattenDeep;lodash.flattenDepth=flattenDepth;lodash.flip=flip;lodash.flow=flow;lodash.flowRight=flowRight;lodash.fromPairs=fromPairs;lodash.functions=functions;lodash.functionsIn=functionsIn;lodash.groupBy=groupBy;lodash.initial=initial;lodash.intersection=intersection;lodash.intersectionBy=intersectionBy;lodash.intersectionWith=intersectionWith;lodash.invert=invert;lodash.invertBy=invertBy;lodash.invokeMap=invokeMap;lodash.iteratee=iteratee;lodash.keyBy=keyBy;lodash.keys=keys;lodash.keysIn=keysIn;lodash.map=map;lodash.mapKeys=mapKeys;lodash.mapValues=mapValues;lodash.matches=matches;lodash.matchesProperty=matchesProperty;lodash.memoize=memoize;lodash.merge=merge;lodash.mergeWith=mergeWith;lodash.method=method;lodash.methodOf=methodOf;lodash.mixin=mixin;lodash.negate=negate;lodash.nthArg=nthArg;lodash.omit=omit;lodash.omitBy=omitBy;lodash.once=once;lodash.orderBy=orderBy;lodash.over=over;lodash.overArgs=overArgs;lodash.overEvery=overEvery;lodash.overSome=overSome;lodash.partial=partial;lodash.partialRight=partialRight;lodash.partition=partition;lodash.pick=pick;lodash.pickBy=pickBy;lodash.property=property;lodash.propertyOf=propertyOf;lodash.pull=pull;lodash.pullAll=pullAll;lodash.pullAllBy=pullAllBy;lodash.pullAllWith=pullAllWith;lodash.pullAt=pullAt;lodash.range=range;lodash.rangeRight=rangeRight;lodash.rearg=rearg;lodash.reject=reject;lodash.remove=remove;lodash.rest=rest;lodash.reverse=reverse;lodash.sampleSize=sampleSize;lodash.set=set;lodash.setWith=setWith;lodash.shuffle=shuffle;lodash.slice=slice;lodash.sortBy=sortBy;lodash.sortedUniq=sortedUniq;lodash.sortedUniqBy=sortedUniqBy;lodash.split=split;lodash.spread=spread;lodash.tail=tail;lodash.take=take;lodash.takeRight=takeRight;lodash.takeRightWhile=takeRightWhile;lodash.takeWhile=takeWhile;lodash.tap=tap;lodash.throttle=throttle;lodash.thru=thru;lodash.toArray=toArray;lodash.toPairs=toPairs;lodash.toPairsIn=toPairsIn;lodash.toPath=toPath;lodash.toPlainObject=toPlainObject;lodash.transform=transform;lodash.unary=unary;lodash.union=union;lodash.unionBy=unionBy;lodash.unionWith=unionWith;lodash.uniq=uniq;lodash.uniqBy=uniqBy;lodash.uniqWith=uniqWith;lodash.unset=unset;lodash.unzip=unzip;lodash.unzipWith=unzipWith;lodash.update=update;lodash.updateWith=updateWith;lodash.values=values;lodash.valuesIn=valuesIn;lodash.without=without;lodash.words=words;lodash.wrap=wrap;lodash.xor=xor;lodash.xorBy=xorBy;lodash.xorWith=xorWith;lodash.zip=zip;lodash.zipObject=zipObject;lodash.zipObjectDeep=zipObjectDeep;lodash.zipWith=zipWith;lodash.entries=toPairs;lodash.entriesIn=toPairsIn;lodash.extend=assignIn;lodash.extendWith=assignInWith;mixin(lodash,lodash);lodash.add=add;lodash.attempt=attempt;lodash.camelCase=camelCase;lodash.capitalize=capitalize;lodash.ceil=ceil;lodash.clamp=clamp;lodash.clone=clone;lodash.cloneDeep=cloneDeep;lodash.cloneDeepWith=cloneDeepWith;lodash.cloneWith=cloneWith;lodash.conformsTo=conformsTo;lodash.deburr=deburr;lodash.defaultTo=defaultTo;lodash.divide=divide;lodash.endsWith=endsWith;lodash.eq=eq;lodash.escape=escape;lodash.escapeRegExp=escapeRegExp;lodash.every=every;lodash.find=find;lodash.findIndex=findIndex;lodash.findKey=findKey;lodash.findLast=findLast;lodash.findLastIndex=findLastIndex;lodash.findLastKey=findLastKey;lodash.floor=floor;lodash.forEach=forEach;lodash.forEachRight=forEachRight;lodash.forIn=forIn;lodash.forInRight=forInRight;lodash.forOwn=forOwn;lodash.forOwnRight=forOwnRight;lodash.get=get;lodash.gt=gt;lodash.gte=gte;lodash.has=has;lodash.hasIn=hasIn;lodash.head=head;lodash.identity=identity;lodash.includes=includes;lodash.indexOf=indexOf;lodash.inRange=inRange;lodash.invoke=invoke;lodash.isArguments=isArguments;lodash.isArray=isArray;lodash.isArrayBuffer=isArrayBuffer;lodash.isArrayLike=isArrayLike;lodash.isArrayLikeObject=isArrayLikeObject;lodash.isBoolean=isBoolean;lodash.isBuffer=isBuffer;lodash.isDate=isDate;lodash.isElement=isElement;lodash.isEmpty=isEmpty;lodash.isEqual=isEqual;lodash.isEqualWith=isEqualWith;lodash.isError=isError;lodash.isFinite=isFinite;lodash.isFunction=isFunction;lodash.isInteger=isInteger;lodash.isLength=isLength;lodash.isMap=isMap;lodash.isMatch=isMatch;lodash.isMatchWith=isMatchWith;lodash.isNaN=isNaN;lodash.isNative=isNative;lodash.isNil=isNil;lodash.isNull=isNull;lodash.isNumber=isNumber;lodash.isObject=isObject;lodash.isObjectLike=isObjectLike;lodash.isPlainObject=isPlainObject;lodash.isRegExp=isRegExp;lodash.isSafeInteger=isSafeInteger;lodash.isSet=isSet;lodash.isString=isString;lodash.isSymbol=isSymbol;lodash.isTypedArray=isTypedArray;lodash.isUndefined=isUndefined;lodash.isWeakMap=isWeakMap;lodash.isWeakSet=isWeakSet;lodash.join=join;lodash.kebabCase=kebabCase;lodash.last=last;lodash.lastIndexOf=lastIndexOf;lodash.lowerCase=lowerCase;lodash.lowerFirst=lowerFirst;lodash.lt=lt;lodash.lte=lte;lodash.max=max;lodash.maxBy=maxBy;lodash.mean=mean;lodash.meanBy=meanBy;lodash.min=min;lodash.minBy=minBy;lodash.stubArray=stubArray;lodash.stubFalse=stubFalse;lodash.stubObject=stubObject;lodash.stubString=stubString;lodash.stubTrue=stubTrue;lodash.multiply=multiply;lodash.nth=nth;lodash.noConflict=noConflict;lodash.noop=noop;lodash.now=now;lodash.pad=pad;lodash.padEnd=padEnd;lodash.padStart=padStart;lodash.parseInt=parseInt;lodash.random=random;lodash.reduce=reduce;lodash.reduceRight=reduceRight;lodash.repeat=repeat;lodash.replace=replace;lodash.result=result;lodash.round=round;lodash.runInContext=runInContext;lodash.sample=sample;lodash.size=size;lodash.snakeCase=snakeCase;lodash.some=some;lodash.sortedIndex=sortedIndex;lodash.sortedIndexBy=sortedIndexBy;lodash.sortedIndexOf=sortedIndexOf;lodash.sortedLastIndex=sortedLastIndex;lodash.sortedLastIndexBy=sortedLastIndexBy;lodash.sortedLastIndexOf=sortedLastIndexOf;lodash.startCase=startCase;lodash.startsWith=startsWith;lodash.subtract=subtract;lodash.sum=sum;lodash.sumBy=sumBy;lodash.template=template;lodash.times=times;lodash.toFinite=toFinite;lodash.toInteger=toInteger;lodash.toLength=toLength;lodash.toLower=toLower;lodash.toNumber=toNumber;lodash.toSafeInteger=toSafeInteger;lodash.toString=toString;lodash.toUpper=toUpper;lodash.trim=trim;lodash.trimEnd=trimEnd;lodash.trimStart=trimStart;lodash.truncate=truncate;lodash.unescape=unescape;lodash.uniqueId=uniqueId;lodash.upperCase=upperCase;lodash.upperFirst=upperFirst;lodash.each=forEach;lodash.eachRight=forEachRight;lodash.first=head;mixin(lodash,function(){var source={};baseForOwn(lodash,function(func,methodName){if(!hasOwnProperty.call(lodash.prototype,methodName)){source[methodName]=func}});return source}(),{chain:false});lodash.VERSION=VERSION;arrayEach(["bind","bindKey","curry","curryRight","partial","partialRight"],function(methodName){lodash[methodName].placeholder=lodash});arrayEach(["drop","take"],function(methodName,index){LazyWrapper.prototype[methodName]=function(n){n=n===undefined?1:nativeMax(toInteger(n),0);var result=this.__filtered__&&!index?new LazyWrapper(this):this.clone();if(result.__filtered__){result.__takeCount__=nativeMin(n,result.__takeCount__)}else{result.__views__.push({size:nativeMin(n,MAX_ARRAY_LENGTH),type:methodName+(result.__dir__<0?"Right":"")})}return result};LazyWrapper.prototype[methodName+"Right"]=function(n){return this.reverse()[methodName](n).reverse()}});arrayEach(["filter","map","takeWhile"],function(methodName,index){var type=index+1,isFilter=type==LAZY_FILTER_FLAG||type==LAZY_WHILE_FLAG;LazyWrapper.prototype[methodName]=function(iteratee){var result=this.clone();result.__iteratees__.push({iteratee:getIteratee(iteratee,3),type:type});result.__filtered__=result.__filtered__||isFilter;return result}});arrayEach(["head","last"],function(methodName,index){var takeName="take"+(index?"Right":"");LazyWrapper.prototype[methodName]=function(){return this[takeName](1).value()[0]}});arrayEach(["initial","tail"],function(methodName,index){var dropName="drop"+(index?"":"Right");LazyWrapper.prototype[methodName]=function(){return this.__filtered__?new LazyWrapper(this):this[dropName](1)}});LazyWrapper.prototype.compact=function(){return this.filter(identity)};LazyWrapper.prototype.find=function(predicate){return this.filter(predicate).head()};LazyWrapper.prototype.findLast=function(predicate){return this.reverse().find(predicate)};LazyWrapper.prototype.invokeMap=baseRest(function(path,args){if(typeof path=="function"){return new LazyWrapper(this)}return this.map(function(value){return baseInvoke(value,path,args)})});LazyWrapper.prototype.reject=function(predicate){return this.filter(negate(getIteratee(predicate)))};LazyWrapper.prototype.slice=function(start,end){start=toInteger(start);var result=this;if(result.__filtered__&&(start>0||end<0)){return new LazyWrapper(result)}if(start<0){result=result.takeRight(-start)}else if(start){result=result.drop(start)}if(end!==undefined){end=toInteger(end);result=end<0?result.dropRight(-end):result.take(end-start)}return result};LazyWrapper.prototype.takeRightWhile=function(predicate){return this.reverse().takeWhile(predicate).reverse()};LazyWrapper.prototype.toArray=function(){return this.take(MAX_ARRAY_LENGTH)};baseForOwn(LazyWrapper.prototype,function(func,methodName){var checkIteratee=/^(?:filter|find|map|reject)|While$/.test(methodName),isTaker=/^(?:head|last)$/.test(methodName),lodashFunc=lodash[isTaker?"take"+(methodName=="last"?"Right":""):methodName],retUnwrapped=isTaker||/^find/.test(methodName);if(!lodashFunc){return}lodash.prototype[methodName]=function(){var value=this.__wrapped__,args=isTaker?[1]:arguments,isLazy=value instanceof LazyWrapper,iteratee=args[0],useLazy=isLazy||isArray(value);var interceptor=function(value){var result=lodashFunc.apply(lodash,arrayPush([value],args));return isTaker&&chainAll?result[0]:result};if(useLazy&&checkIteratee&&typeof iteratee=="function"&&iteratee.length!=1){isLazy=useLazy=false}var chainAll=this.__chain__,isHybrid=!!this.__actions__.length,isUnwrapped=retUnwrapped&&!chainAll,onlyLazy=isLazy&&!isHybrid;if(!retUnwrapped&&useLazy){value=onlyLazy?value:new LazyWrapper(this);var result=func.apply(value,args);result.__actions__.push({func:thru,args:[interceptor],thisArg:undefined});return new LodashWrapper(result,chainAll)}if(isUnwrapped&&onlyLazy){return func.apply(this,args)}result=this.thru(interceptor);return isUnwrapped?isTaker?result.value()[0]:result.value():result}});arrayEach(["pop","push","shift","sort","splice","unshift"],function(methodName){var func=arrayProto[methodName],chainName=/^(?:push|sort|unshift)$/.test(methodName)?"tap":"thru",retUnwrapped=/^(?:pop|shift)$/.test(methodName);lodash.prototype[methodName]=function(){var args=arguments;if(retUnwrapped&&!this.__chain__){var value=this.value();return func.apply(isArray(value)?value:[],args)}return this[chainName](function(value){return func.apply(isArray(value)?value:[],args)})}});baseForOwn(LazyWrapper.prototype,function(func,methodName){var lodashFunc=lodash[methodName];if(lodashFunc){var key=lodashFunc.name+"";if(!hasOwnProperty.call(realNames,key)){realNames[key]=[]}realNames[key].push({name:methodName,func:lodashFunc})}});realNames[createHybrid(undefined,WRAP_BIND_KEY_FLAG).name]=[{name:"wrapper",func:undefined}];LazyWrapper.prototype.clone=lazyClone;LazyWrapper.prototype.reverse=lazyReverse;LazyWrapper.prototype.value=lazyValue;lodash.prototype.at=wrapperAt;lodash.prototype.chain=wrapperChain;lodash.prototype.commit=wrapperCommit;lodash.prototype.next=wrapperNext;lodash.prototype.plant=wrapperPlant;lodash.prototype.reverse=wrapperReverse;lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=wrapperValue;lodash.prototype.first=lodash.prototype.head;if(symIterator){lodash.prototype[symIterator]=wrapperToIterator}return lodash};var _=runInContext();if(typeof define=="function"&&typeof define.amd=="object"&&define.amd){root._=_;define(function(){return _})}else if(freeModule){(freeModule.exports=_)._=_;freeExports._=_}else{root._=_}}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],403:[function(require,module,exports){assert.notEqual=notEqual;assert.notOk=notOk;assert.equal=equal;assert.ok=assert;module.exports=assert;function equal(a,b,m){assert(a==b,m)}function notEqual(a,b,m){assert(a!=b,m)}function notOk(t,m){assert(!t,m)}function assert(t,m){if(!t)throw new Error(m||"AssertionError")}},{}],404:[function(require,module,exports){var splice=require("remove-array-items");var nanotiming=require("nanotiming");var assert=require("assert");module.exports=Nanobus;function Nanobus(name){if(!(this instanceof Nanobus))return new Nanobus(name);this._name=name||"nanobus";this._starListeners=[];this._listeners={}}Nanobus.prototype.emit=function(eventName){assert.ok(typeof eventName==="string"||typeof eventName==="symbol","nanobus.emit: eventName should be type string or symbol");var data=[];for(var i=1,len=arguments.length;i<len;i++){data.push(arguments[i])}var emitTiming=nanotiming(this._name+"('"+eventName.toString()+"')");var listeners=this._listeners[eventName];if(listeners&&listeners.length>0){this._emit(this._listeners[eventName],data)}if(this._starListeners.length>0){this._emit(this._starListeners,eventName,data,emitTiming.uuid)}emitTiming();return this};Nanobus.prototype.on=Nanobus.prototype.addListener=function(eventName,listener){assert.ok(typeof eventName==="string"||typeof eventName==="symbol","nanobus.on: eventName should be type string or symbol");assert.equal(typeof listener,"function","nanobus.on: listener should be type function");if(eventName==="*"){this._starListeners.push(listener)}else{if(!this._listeners[eventName])this._listeners[eventName]=[];this._listeners[eventName].push(listener)}return this};Nanobus.prototype.prependListener=function(eventName,listener){assert.ok(typeof eventName==="string"||typeof eventName==="symbol","nanobus.prependListener: eventName should be type string or symbol");assert.equal(typeof listener,"function","nanobus.prependListener: listener should be type function");if(eventName==="*"){this._starListeners.unshift(listener)}else{if(!this._listeners[eventName])this._listeners[eventName]=[];this._listeners[eventName].unshift(listener)}return this};Nanobus.prototype.once=function(eventName,listener){assert.ok(typeof eventName==="string"||typeof eventName==="symbol","nanobus.once: eventName should be type string or symbol");assert.equal(typeof listener,"function","nanobus.once: listener should be type function");var self=this;this.on(eventName,once);function once(){listener.apply(self,arguments);self.removeListener(eventName,once)}return this};Nanobus.prototype.prependOnceListener=function(eventName,listener){assert.ok(typeof eventName==="string"||typeof eventName==="symbol","nanobus.prependOnceListener: eventName should be type string or symbol");assert.equal(typeof listener,"function","nanobus.prependOnceListener: listener should be type function");var self=this;this.prependListener(eventName,once);function once(){listener.apply(self,arguments);self.removeListener(eventName,once)}return this};Nanobus.prototype.removeListener=function(eventName,listener){assert.ok(typeof eventName==="string"||typeof eventName==="symbol","nanobus.removeListener: eventName should be type string or symbol");assert.equal(typeof listener,"function","nanobus.removeListener: listener should be type function");if(eventName==="*"){this._starListeners=this._starListeners.slice();return remove(this._starListeners,listener)}else{if(typeof this._listeners[eventName]!=="undefined"){this._listeners[eventName]=this._listeners[eventName].slice()}return remove(this._listeners[eventName],listener)}function remove(arr,listener){if(!arr)return;var index=arr.indexOf(listener);if(index!==-1){splice(arr,index,1);return true}}};Nanobus.prototype.removeAllListeners=function(eventName){if(eventName){if(eventName==="*"){this._starListeners=[]}else{this._listeners[eventName]=[]}}else{this._starListeners=[];this._listeners={}}return this};Nanobus.prototype.listeners=function(eventName){var listeners=eventName!=="*"?this._listeners[eventName]:this._starListeners;var ret=[];if(listeners){var ilength=listeners.length;for(var i=0;i<ilength;i++)ret.push(listeners[i])}return ret};Nanobus.prototype._emit=function(arr,eventName,data,uuid){if(typeof arr==="undefined")return;if(arr.length===0)return;if(data===undefined){data=eventName;eventName=null}if(eventName){if(uuid!==undefined){data=[eventName].concat(data,uuid)}else{data=[eventName].concat(data)}}var length=arr.length;for(var i=0;i<length;i++){var listener=arr[i];listener.apply(listener,data)}}},{assert:403,nanotiming:421,"remove-array-items":448}],405:[function(require,module,exports){var document=require("global/document");var nanotiming=require("nanotiming");var morph=require("nanomorph");var onload=require("on-load");var OL_KEY_ID=onload.KEY_ID;var OL_ATTR_ID=onload.KEY_ATTR;var assert=require("assert");module.exports=Nanocomponent;function makeID(){return"ncid-"+Math.floor((1+Math.random())*65536).toString(16).substring(1)}function Nanocomponent(name){this._hasWindow=typeof window!=="undefined";this._id=null;this._ncID=null;this._olID=null;this._proxy=null;this._loaded=false;this._rootNodeName=null;this._name=name||"nanocomponent";this._rerender=false;this._handleLoad=this._handleLoad.bind(this);this._handleUnload=this._handleUnload.bind(this);this._arguments=[];var self=this;Object.defineProperty(this,"element",{get:function(){var el=document.getElementById(self._id);if(el)return el.dataset.nanocomponent===self._ncID?el:undefined}})}Nanocomponent.prototype.render=function(){var renderTiming=nanotiming(this._name+".render");var self=this;var args=new Array(arguments.length);var el;for(var i=0;i<arguments.length;i++)args[i]=arguments[i];if(!this._hasWindow){var createTiming=nanotiming(this._name+".create");el=this.createElement.apply(this,args);createTiming();renderTiming();return el}else if(this.element){el=this.element;var updateTiming=nanotiming(this._name+".update");var shouldUpdate=this._rerender||this.update.apply(this,args);updateTiming();if(this._rerender)this._rerender=false;if(shouldUpdate){var desiredHtml=this._handleRender(args);var morphTiming=nanotiming(this._name+".morph");morph(el,desiredHtml);morphTiming();if(this.afterupdate)this.afterupdate(el)}if(!this._proxy){this._proxy=this._createProxy()}renderTiming();return this._proxy}else{this._reset();el=this._handleRender(args);if(this.beforerender)this.beforerender(el);if(this.load||this.unload||this.afterreorder){onload(el,self._handleLoad,self._handleUnload,self._ncID);this._olID=el.dataset[OL_KEY_ID]}renderTiming();return el}};Nanocomponent.prototype.rerender=function(){assert(this.element,"nanocomponent: cant rerender on an unmounted dom node");this._rerender=true;this.render.apply(this,this._arguments)};Nanocomponent.prototype._handleRender=function(args){var createElementTiming=nanotiming(this._name+".createElement");var el=this.createElement.apply(this,args);createElementTiming();if(!this._rootNodeName)this._rootNodeName=el.nodeName;assert(el instanceof window.Element,"nanocomponent: createElement should return a DOM node");assert.equal(this._rootNodeName,el.nodeName,"nanocomponent: root node types cannot differ between re-renders");this._arguments=args;return this._brandNode(this._ensureID(el))};Nanocomponent.prototype._createProxy=function(){var proxy=document.createElement(this._rootNodeName);var self=this;this._brandNode(proxy);proxy.id=this._id;proxy.setAttribute("data-proxy","");proxy.isSameNode=function(el){return el&&el.dataset.nanocomponent===self._ncID};return proxy};Nanocomponent.prototype._reset=function(){this._ncID=makeID();this._olID=null;this._id=null;this._proxy=null;this._rootNodeName=null};Nanocomponent.prototype._brandNode=function(node){node.setAttribute("data-nanocomponent",this._ncID);if(this._olID)node.setAttribute(OL_ATTR_ID,this._olID);return node};Nanocomponent.prototype._ensureID=function(node){if(node.id)this._id=node.id;else node.id=this._id=this._ncID;if(this._proxy&&this._proxy.id!==this._id)this._proxy.id=this._id;return node};Nanocomponent.prototype._handleLoad=function(el){if(this._loaded){if(this.afterreorder)this.afterreorder(el);return}this._loaded=true;if(this.load)this.load(el)};Nanocomponent.prototype._handleUnload=function(el){if(this.element)return;this._loaded=false;if(this.unload)this.unload(el)};Nanocomponent.prototype.createElement=function(){throw new Error("nanocomponent: createElement should be implemented!")};Nanocomponent.prototype.update=function(){throw new Error("nanocomponent: update should be implemented!")}},{assert:403,"global/document":385,nanomorph:414,nanotiming:421,"on-load":424}],406:[function(require,module,exports){var assert=require("assert");var safeExternalLink=/(noopener|noreferrer) (noopener|noreferrer)/;var protocolLink=/^[\w-_]+:/;module.exports=href;function href(cb,root){assert.notEqual(typeof window,"undefined","nanohref: expected window to exist");root=root||window.document;assert.equal(typeof cb,"function","nanohref: cb should be type function");assert.equal(typeof root,"object","nanohref: root should be type object");window.addEventListener("click",function(e){if(e.button&&e.button!==0||e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||e.defaultPrevented)return;var anchor=function traverse(node){if(!node||node===root)return;if(node.localName!=="a"||node.href===undefined){return traverse(node.parentNode)}return node}(e.target);if(!anchor)return;if(window.location.protocol!==anchor.protocol||window.location.hostname!==anchor.hostname||window.location.port!==anchor.port||anchor.hasAttribute("data-nanohref-ignore")||anchor.hasAttribute("download")||anchor.getAttribute("target")==="_blank"&&safeExternalLink.test(anchor.getAttribute("rel"))||protocolLink.test(anchor.getAttribute("href")))return;e.preventDefault();cb(anchor)})}},{assert:403}],407:[function(require,module,exports){var trailingNewlineRegex=/\n[\s]+$/;var leadingNewlineRegex=/^\n[\s]+/;var trailingSpaceRegex=/[\s]+$/;var leadingSpaceRegex=/^[\s]+/;var multiSpaceRegex=/[\n\s]+/g;var TEXT_TAGS=["a","abbr","b","bdi","bdo","br","cite","data","dfn","em","i","kbd","mark","q","rp","rt","rtc","ruby","s","amp","small","span","strong","sub","sup","time","u","var","wbr"];var VERBATIM_TAGS=["code","pre","textarea"];module.exports=function appendChild(el,childs){if(!Array.isArray(childs))return;var nodeName=el.nodeName.toLowerCase();var hadText=false;var value,leader;for(var i=0,len=childs.length;i<len;i++){var node=childs[i];if(Array.isArray(node)){appendChild(el,node);continue}if(typeof node==="number"||typeof node==="boolean"||typeof node==="function"||node instanceof Date||node instanceof RegExp){node=node.toString()}var lastChild=el.childNodes[el.childNodes.length-1];if(typeof node==="string"){hadText=true;if(lastChild&&lastChild.nodeName==="#text"){lastChild.nodeValue+=node}else{node=document.createTextNode(node);el.appendChild(node);lastChild=node}if(i===len-1){hadText=false;if(TEXT_TAGS.indexOf(nodeName)===-1&&VERBATIM_TAGS.indexOf(nodeName)===-1){value=lastChild.nodeValue.replace(leadingNewlineRegex,"").replace(trailingSpaceRegex,"").replace(trailingNewlineRegex,"").replace(multiSpaceRegex," ");if(value===""){el.removeChild(lastChild)}else{lastChild.nodeValue=value}}else if(VERBATIM_TAGS.indexOf(nodeName)===-1){leader=i===0?"":" ";value=lastChild.nodeValue.replace(leadingNewlineRegex,leader).replace(leadingSpaceRegex," ").replace(trailingSpaceRegex,"").replace(trailingNewlineRegex,"").replace(multiSpaceRegex," ");lastChild.nodeValue=value}}}else if(node&&node.nodeType){if(hadText){hadText=false;if(TEXT_TAGS.indexOf(nodeName)===-1&&VERBATIM_TAGS.indexOf(nodeName)===-1){value=lastChild.nodeValue.replace(leadingNewlineRegex,"").replace(trailingNewlineRegex," ").replace(multiSpaceRegex," ");if(value===""){el.removeChild(lastChild)}else{lastChild.nodeValue=value}}else if(VERBATIM_TAGS.indexOf(nodeName)===-1){value=lastChild.nodeValue.replace(leadingSpaceRegex," ").replace(leadingNewlineRegex,"").replace(trailingNewlineRegex,"").replace(multiSpaceRegex," ");lastChild.nodeValue=value}}var _nodeName=node.nodeName;if(_nodeName)nodeName=_nodeName.toLowerCase();el.appendChild(node)}}}},{}],408:[function(require,module,exports){module.exports=["async","autofocus","autoplay","checked","controls","default","defaultchecked","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","novalidate","open","playsinline","readonly","required","reversed","selected"]},{}],409:[function(require,module,exports){var hyperx=require("hyperx");var appendChild=require("./append-child");var SVG_TAGS=require("./svg-tags");var BOOL_PROPS=require("./bool-props");var DIRECT_PROPS=require("./direct-props");var SVGNS="http://www.w3.org/2000/svg";var XLINKNS="http://www.w3.org/1999/xlink";var COMMENT_TAG="!--";function nanoHtmlCreateElement(tag,props,children){var el;if(SVG_TAGS.indexOf(tag)!==-1){props.namespace=SVGNS}var ns=false;if(props.namespace){ns=props.namespace;delete props.namespace}var isCustomElement=false;if(props.is){isCustomElement=props.is;delete props.is}if(ns){if(isCustomElement){el=document.createElementNS(ns,tag,{is:isCustomElement})}else{el=document.createElementNS(ns,tag)}}else if(tag===COMMENT_TAG){return document.createComment(props.comment)}else if(isCustomElement){el=document.createElement(tag,{is:isCustomElement})}else{el=document.createElement(tag)}for(var p in props){if(props.hasOwnProperty(p)){var key=p.toLowerCase();var val=props[p];if(key==="classname"){key="class";p="class"}if(p==="htmlFor"){p="for"}if(BOOL_PROPS.indexOf(key)!==-1){if(String(val)==="true")val=key;else if(String(val)==="false")continue}if(key.slice(0,2)==="on"||DIRECT_PROPS.indexOf(key)!==-1){el[p]=val}else{if(ns){if(p==="xlink:href"){el.setAttributeNS(XLINKNS,p,val)}else if(/^xmlns($|:)/i.test(p)){}else{el.setAttributeNS(null,p,val)}}else{el.setAttribute(p,val)}}}}appendChild(el,children);return el}function createFragment(nodes){var fragment=document.createDocumentFragment();for(var i=0;i<nodes.length;i++){if(typeof nodes[i]==="string")nodes[i]=document.createTextNode(nodes[i]);fragment.appendChild(nodes[i])}return fragment}module.exports=hyperx(nanoHtmlCreateElement,{comments:true,createFragment:createFragment});module.exports.default=module.exports;module.exports.createElement=nanoHtmlCreateElement},{"./append-child":407,"./bool-props":408,"./direct-props":410,"./svg-tags":411,hyperx:389}],410:[function(require,module,exports){module.exports=["indeterminate"]},{}],411:[function(require,module,exports){module.exports=["svg","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"]},{}],412:[function(require,module,exports){var assert=require("assert");var xtend=require("xtend");var emojis={trace:"🔍",debug:"🐛",info:"✨",warn:"⚠️",error:"🚨",fatal:"💀"};var levels={trace:10,debug:20,info:30,warn:40,error:50,fatal:60};var defaultColors={foreground:"#d3c0c8",background:"#2d2d2d",black:"#2d2d2d",red:"#f2777a",green:"#99cc99",yellow:"#ffcc66",blue:"#6699cc",magenta:"#cc99cc",cyan:"#66cccc",white:"#d3d0c8",brightBlack:"#747369"};module.exports=Nanologger;function Nanologger(name,opts){opts=opts||{};if(!(this instanceof Nanologger))return new Nanologger(name,opts);assert.equal(typeof opts,"object","nanologger: opts should be type object");this._name=name||"";this._colors=xtend(defaultColors,opts.colors||{});try{this.logLevel=window.localStorage.getItem("logLevel")||"info"}catch(e){this.logLevel="info"}this._logLevel=levels[this.logLevel]}Nanologger.prototype.trace=function(){var args=["trace"];for(var i=0,len=arguments.length;i<len;i++)args.push(arguments[i]);this._print.apply(this,args)};Nanologger.prototype.debug=function(){var args=["debug"];for(var i=0,len=arguments.length;i<len;i++)args.push(arguments[i]);this._print.apply(this,args)};Nanologger.prototype.info=function(){var args=["info"];for(var i=0,len=arguments.length;i<len;i++)args.push(arguments[i]);this._print.apply(this,args)};Nanologger.prototype.warn=function(){var args=["warn"];for(var i=0,len=arguments.length;i<len;i++)args.push(arguments[i]);this._print.apply(this,args)};Nanologger.prototype.error=function(){var args=["error"];for(var i=0,len=arguments.length;i<len;i++)args.push(arguments[i]);this._print.apply(this,args)};Nanologger.prototype.fatal=function(){var args=["fatal"];for(var i=0,len=arguments.length;i<len;i++)args.push(arguments[i]);this._print.apply(this,args)};Nanologger.prototype._print=function(level){if(levels[level]<this._logLevel)return;var time=getTimeStamp();var emoji=emojis[level];var name=this._name||"unknown";var msgColor=level==="error"||level.fatal?this._colors.red:level==="warn"?this._colors.yellow:this._colors.green;var objs=[];var args=[null];var msg="%c%s "+emoji+" %c%s";args.push(color(this._colors.brightBlack),time);args.push(color(this._colors.magenta),name);for(var i=1,len=arguments.length;i<len;i++){var arg=arguments[i];if(typeof arg==="string"){if(i===1){msg+=" %c%s";args.push(color(msgColor));args.push(arg)}else if(/ms$/.test(arg)){msg+=" %c%s";args.push(color(this._colors.brightBlack));args.push(arg)}else{msg+=" %c%s";args.push(color(this._colors.white));args.push(arg)}}else if(typeof arg==="number"){msg+=" %c%d";args.push(color(this._colors.magenta));args.push(arg)}else{objs.push(arg)}}args[0]=msg;objs.forEach(function(obj){args.push(obj)});Function.prototype.apply.apply(console.log,[console,args])};function color(color){return"color: "+color+";"}function getTimeStamp(){var date=new Date;var hours=pad(date.getHours().toString());var minutes=pad(date.getMinutes().toString());var seconds=pad(date.getSeconds().toString());return hours+":"+minutes+":"+seconds}function pad(str){return str.length!==2?0+str:str}},{assert:23,xtend:470}],413:[function(require,module,exports){module.exports=LRU;function LRU(opts){if(!(this instanceof LRU))return new LRU(opts);if(typeof opts==="number")opts={max:opts};if(!opts)opts={};this.cache={};this.head=this.tail=null;this.length=0;this.max=opts.max||1e3;this.maxAge=opts.maxAge||0}Object.defineProperty(LRU.prototype,"keys",{get:function(){return Object.keys(this.cache)}});LRU.prototype.clear=function(){this.cache={};this.head=this.tail=null;this.length=0};LRU.prototype.remove=function(key){if(typeof key!=="string")key=""+key;if(!this.cache.hasOwnProperty(key))return;var element=this.cache[key];delete this.cache[key];this._unlink(key,element.prev,element.next);return element.value};LRU.prototype._unlink=function(key,prev,next){this.length--;if(this.length===0){this.head=this.tail=null}else{if(this.head===key){this.head=prev;this.cache[this.head].next=null}else if(this.tail===key){this.tail=next;this.cache[this.tail].prev=null}else{this.cache[prev].next=next;this.cache[next].prev=prev}}};LRU.prototype.peek=function(key){if(!this.cache.hasOwnProperty(key))return;var element=this.cache[key];if(!this._checkAge(key,element))return;return element.value};LRU.prototype.set=function(key,value){if(typeof key!=="string")key=""+key;var element;if(this.cache.hasOwnProperty(key)){element=this.cache[key];element.value=value;if(this.maxAge)element.modified=Date.now();if(key===this.head)return value;this._unlink(key,element.prev,element.next)}else{element={value:value,modified:0,next:null,prev:null};if(this.maxAge)element.modified=Date.now();this.cache[key]=element;if(this.length===this.max)this.evict()}this.length++;element.next=null;element.prev=this.head;if(this.head)this.cache[this.head].next=key;this.head=key;if(!this.tail)this.tail=key;return value};LRU.prototype._checkAge=function(key,element){if(this.maxAge&&Date.now()-element.modified>this.maxAge){this.remove(key);return false}return true};LRU.prototype.get=function(key){if(typeof key!=="string")key=""+key;if(!this.cache.hasOwnProperty(key))return;var element=this.cache[key];if(!this._checkAge(key,element))return;if(this.head!==key){if(key===this.tail){this.tail=element.next;this.cache[this.tail].prev=null}else{this.cache[element.prev].next=element.next}this.cache[element.next].prev=element.prev;this.cache[this.head].next=key;element.prev=this.head;element.next=null;this.head=key}return element.value};LRU.prototype.evict=function(){if(!this.tail)return;this.remove(this.tail)}},{}],414:[function(require,module,exports){var assert=require("nanoassert");var morph=require("./lib/morph");var TEXT_NODE=3;module.exports=nanomorph;function nanomorph(oldTree,newTree,options){assert.equal(typeof oldTree,"object","nanomorph: oldTree should be an object");assert.equal(typeof newTree,"object","nanomorph: newTree should be an object");if(options&&options.childrenOnly){updateChildren(newTree,oldTree);return oldTree}assert.notEqual(newTree.nodeType,11,"nanomorph: newTree should have one root node (which is not a DocumentFragment)");return walk(newTree,oldTree)}function walk(newNode,oldNode){if(!oldNode){return newNode}else if(!newNode){return null}else if(newNode.isSameNode&&newNode.isSameNode(oldNode)){return oldNode}else if(newNode.tagName!==oldNode.tagName||getComponentId(newNode)!==getComponentId(oldNode)){return newNode}else{morph(newNode,oldNode);updateChildren(newNode,oldNode);return oldNode}}function getComponentId(node){return node.dataset?node.dataset.nanomorphComponentId:undefined}function updateChildren(newNode,oldNode){var oldChild,newChild,morphed,oldMatch;var offset=0;for(var i=0;;i++){oldChild=oldNode.childNodes[i];newChild=newNode.childNodes[i-offset];if(!oldChild&&!newChild){break}else if(!newChild){oldNode.removeChild(oldChild);i--}else if(!oldChild){oldNode.appendChild(newChild);offset++}else if(same(newChild,oldChild)){morphed=walk(newChild,oldChild);if(morphed!==oldChild){oldNode.replaceChild(morphed,oldChild);offset++}}else{oldMatch=null;for(var j=i;j<oldNode.childNodes.length;j++){if(same(oldNode.childNodes[j],newChild)){oldMatch=oldNode.childNodes[j];break}}if(oldMatch){morphed=walk(newChild,oldMatch);if(morphed!==oldMatch)offset++;oldNode.insertBefore(morphed,oldChild)}else if(!newChild.id&&!oldChild.id){morphed=walk(newChild,oldChild);if(morphed!==oldChild){oldNode.replaceChild(morphed,oldChild);offset++}}else{oldNode.insertBefore(newChild,oldChild);offset++}}}}function same(a,b){if(a.id)return a.id===b.id;if(a.isSameNode)return a.isSameNode(b);if(a.tagName!==b.tagName)return false;if(a.type===TEXT_NODE)return a.nodeValue===b.nodeValue;return false}},{"./lib/morph":416,nanoassert:403}],415:[function(require,module,exports){module.exports=["onclick","ondblclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","onmouseenter","onmouseleave","ontouchcancel","ontouchend","ontouchmove","ontouchstart","ondragstart","ondrag","ondragenter","ondragleave","ondragover","ondrop","ondragend","onkeydown","onkeypress","onkeyup","onunload","onabort","onerror","onresize","onscroll","onselect","onchange","onsubmit","onreset","onfocus","onblur","oninput","oncontextmenu","onfocusin","onfocusout"]},{}],416:[function(require,module,exports){var events=require("./events");var eventsLength=events.length;var ELEMENT_NODE=1;var TEXT_NODE=3;var COMMENT_NODE=8;module.exports=morph;function morph(newNode,oldNode){var nodeType=newNode.nodeType;var nodeName=newNode.nodeName;if(nodeType===ELEMENT_NODE){copyAttrs(newNode,oldNode)}if(nodeType===TEXT_NODE||nodeType===COMMENT_NODE){if(oldNode.nodeValue!==newNode.nodeValue){oldNode.nodeValue=newNode.nodeValue}}if(nodeName==="INPUT")updateInput(newNode,oldNode);else if(nodeName==="OPTION")updateOption(newNode,oldNode);else if(nodeName==="TEXTAREA")updateTextarea(newNode,oldNode);copyEvents(newNode,oldNode)}function copyAttrs(newNode,oldNode){var oldAttrs=oldNode.attributes;var newAttrs=newNode.attributes;var attrNamespaceURI=null;var attrValue=null;var fromValue=null;var attrName=null;var attr=null;for(var i=newAttrs.length-1;i>=0;--i){attr=newAttrs[i];attrName=attr.name;attrNamespaceURI=attr.namespaceURI;attrValue=attr.value;if(attrNamespaceURI){attrName=attr.localName||attrName;fromValue=oldNode.getAttributeNS(attrNamespaceURI,attrName);if(fromValue!==attrValue){oldNode.setAttributeNS(attrNamespaceURI,attrName,attrValue)}}else{if(!oldNode.hasAttribute(attrName)){oldNode.setAttribute(attrName,attrValue)}else{fromValue=oldNode.getAttribute(attrName);if(fromValue!==attrValue){if(attrValue==="null"||attrValue==="undefined"){oldNode.removeAttribute(attrName)}else{oldNode.setAttribute(attrName,attrValue)}}}}}for(var j=oldAttrs.length-1;j>=0;--j){attr=oldAttrs[j];if(attr.specified!==false){attrName=attr.name;attrNamespaceURI=attr.namespaceURI;if(attrNamespaceURI){attrName=attr.localName||attrName;if(!newNode.hasAttributeNS(attrNamespaceURI,attrName)){oldNode.removeAttributeNS(attrNamespaceURI,attrName)}}else{if(!newNode.hasAttributeNS(null,attrName)){oldNode.removeAttribute(attrName)}}}}}function copyEvents(newNode,oldNode){for(var i=0;i<eventsLength;i++){var ev=events[i];if(newNode[ev]){oldNode[ev]=newNode[ev]}else if(oldNode[ev]){oldNode[ev]=undefined}}}function updateOption(newNode,oldNode){updateAttribute(newNode,oldNode,"selected")}function updateInput(newNode,oldNode){var newValue=newNode.value;var oldValue=oldNode.value;updateAttribute(newNode,oldNode,"checked");updateAttribute(newNode,oldNode,"disabled");if(newValue!==oldValue){oldNode.setAttribute("value",newValue);oldNode.value=newValue}if(newValue==="null"){oldNode.value="";oldNode.removeAttribute("value")}if(!newNode.hasAttributeNS(null,"value")){oldNode.removeAttribute("value")}else if(oldNode.type==="range"){oldNode.value=newValue}}function updateTextarea(newNode,oldNode){var newValue=newNode.value;if(newValue!==oldNode.value){oldNode.value=newValue}if(oldNode.firstChild&&oldNode.firstChild.nodeValue!==newValue){if(newValue===""&&oldNode.firstChild.nodeValue===oldNode.placeholder){return}oldNode.firstChild.nodeValue=newValue}}function updateAttribute(newNode,oldNode,name){if(newNode[name]!==oldNode[name]){oldNode[name]=newNode[name];if(newNode[name]){oldNode.setAttribute(name,"")}else{oldNode.removeAttribute(name)}}}},{"./events":415}],417:[function(require,module,exports){var reg=/([^?=&]+)(=([^&]*))?/g;var assert=require("assert");module.exports=qs;function qs(url){assert.equal(typeof url,"string","nanoquery: url should be type string");var obj={};url.replace(/^.*\?/,"").replace(reg,function(a0,a1,a2,a3){var value=decodeURIComponent(a3);var key=decodeURIComponent(a1);if(obj.hasOwnProperty(key)){if(Array.isArray(obj[key]))obj[key].push(value);else obj[key]=[obj[key],value]}else{obj[key]=value}});return obj}},{assert:403}],418:[function(require,module,exports){"use strict";var assert=require("assert");module.exports=nanoraf;function nanoraf(render,raf){assert.equal(typeof render,"function","nanoraf: render should be a function");assert.ok(typeof raf==="function"||typeof raf==="undefined","nanoraf: raf should be a function or undefined");if(!raf)raf=window.requestAnimationFrame;var redrawScheduled=false;var args=null;return function frame(){if(args===null&&!redrawScheduled){redrawScheduled=true;raf(function redraw(){redrawScheduled=false;var length=args.length;var _args=new Array(length);for(var i=0;i<length;i++)_args[i]=args[i];render.apply(render,_args);args=null})}args=arguments}}},{assert:403}],419:[function(require,module,exports){var assert=require("assert");var wayfarer=require("wayfarer");var isLocalFile=/file:\/\//.test(typeof window==="object"&&window.location&&window.location.origin);var electron="^(file://|/)(.*.html?/?)?";var protocol="^(http(s)?(://))?(www.)?";var domain="[a-zA-Z0-9-_.]+(:[0-9]{1,5})?(/{1})?";var qs="[?].*$";var stripElectron=new RegExp(electron);var prefix=new RegExp(protocol+domain);var normalize=new RegExp("#");var suffix=new RegExp(qs);module.exports=Nanorouter;function Nanorouter(opts){if(!(this instanceof Nanorouter))return new Nanorouter(opts);opts=opts||{};this.router=wayfarer(opts.default||"/404")}Nanorouter.prototype.on=function(routename,listener){assert.equal(typeof routename,"string");routename=routename.replace(/^[#\/]/,"");this.router.on(routename,listener)};Nanorouter.prototype.emit=function(routename){assert.equal(typeof routename,"string");routename=pathname(routename,isLocalFile);return this.router.emit(routename)};Nanorouter.prototype.match=function(routename){assert.equal(typeof routename,"string");routename=pathname(routename,isLocalFile);return this.router.match(routename)};function pathname(routename,isElectron){if(isElectron)routename=routename.replace(stripElectron,"");else routename=routename.replace(prefix,"");return decodeURI(routename.replace(suffix,"").replace(normalize,"/"))}},{assert:403,wayfarer:466}],420:[function(require,module,exports){var assert=require("assert");var hasWindow=typeof window!=="undefined";function createScheduler(){var scheduler;if(hasWindow){if(!window._nanoScheduler)window._nanoScheduler=new NanoScheduler(true);scheduler=window._nanoScheduler}else{scheduler=new NanoScheduler}return scheduler}function NanoScheduler(hasWindow){this.hasWindow=hasWindow;this.hasIdle=this.hasWindow&&window.requestIdleCallback;this.method=this.hasIdle?window.requestIdleCallback.bind(window):this.setTimeout;this.scheduled=false;this.queue=[]}NanoScheduler.prototype.push=function(cb){assert.equal(typeof cb,"function","nanoscheduler.push: cb should be type function");this.queue.push(cb);this.schedule()};NanoScheduler.prototype.schedule=function(){if(this.scheduled)return;this.scheduled=true;var self=this;this.method(function(idleDeadline){var cb;while(self.queue.length&&idleDeadline.timeRemaining()>0){cb=self.queue.shift();cb(idleDeadline)}self.scheduled=false;if(self.queue.length)self.schedule()})};NanoScheduler.prototype.setTimeout=function(cb){setTimeout(cb,0,{timeRemaining:function(){return 1}})};module.exports=createScheduler},{assert:403}],421:[function(require,module,exports){var scheduler=require("nanoscheduler")();var assert=require("assert");var perf;nanotiming.disabled=true;try{perf=window.performance;nanotiming.disabled=window.localStorage.DISABLE_NANOTIMING==="true"||!perf.mark}catch(e){}module.exports=nanotiming;function nanotiming(name){assert.equal(typeof name,"string","nanotiming: name should be type string");if(nanotiming.disabled)return noop;var uuid=(perf.now()*1e4).toFixed()%Number.MAX_SAFE_INTEGER;var startName="start-"+uuid+"-"+name;perf.mark(startName);function end(cb){var endName="end-"+uuid+"-"+name;perf.mark(endName);scheduler.push(function(){var err=null;try{var measureName=name+" ["+uuid+"]";perf.measure(measureName,startName,endName);perf.clearMarks(startName);perf.clearMarks(endName)}catch(e){err=e}if(cb)cb(err,name)})}end.uuid=uuid;return end}function noop(cb){if(cb){scheduler.push(function(){cb(new Error("nanotiming: performance API unavailable"))})}}},{assert:403,nanoscheduler:420}],422:[function(require,module,exports){"use strict";var getOwnPropertySymbols=Object.getOwnPropertySymbols;var hasOwnProperty=Object.prototype.hasOwnProperty;var propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(val){if(val===null||val===undefined){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(val)}function shouldUseNative(){try{if(!Object.assign){return false}var test1=new String("abc");test1[5]="de";if(Object.getOwnPropertyNames(test1)[0]==="5"){return false}var test2={};for(var i=0;i<10;i++){test2["_"+String.fromCharCode(i)]=i}var order2=Object.getOwnPropertyNames(test2).map(function(n){return test2[n]});if(order2.join("")!=="0123456789"){return false}var test3={};"abcdefghijklmnopqrst".split("").forEach(function(letter){test3[letter]=letter});if(Object.keys(Object.assign({},test3)).join("")!=="abcdefghijklmnopqrst"){return false}return true}catch(err){return false}}module.exports=shouldUseNative()?Object.assign:function(target,source){var from;var to=toObject(target);var symbols;for(var s=1;s<arguments.length;s++){from=Object(arguments[s]);for(var key in from){if(hasOwnProperty.call(from,key)){to[key]=from[key]}}if(getOwnPropertySymbols){symbols=getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i++){if(propIsEnumerable.call(from,symbols[i])){to[symbols[i]]=from[symbols[i]]}}}}return to}},{}],423:[function(require,module,exports){var assert=require("assert");module.exports=objectChangeCallsite;function objectChangeCallsite(target,callback){assert.equal(typeof target,"object","object-change-callsite: target should be type object");assert.equal(typeof callback,"function","object-change-callsite: callback should be type function");return new Proxy(target,{set:function(obj,prop,value){var err=new Error;var trace=strip(err.stack);callback(prop,value,trace);obj[prop]=value;return true},deleteProperty:function(target,prop){var err=new Error;var trace=strip(err.stack);callback(prop,undefined,trace);if(prop in target){delete target[prop];return true}return false}})}function strip(str){var arr=str.split("\n");arr=arr.length>2?arr.slice(2):arr;arr[0]=arr[0].replace(/^ {4}at /,"");return"\n"+arr.join("\n")}},{assert:23}],424:[function(require,module,exports){var document=require("global/document");var window=require("global/window");var assert=require("assert");var watch=Object.create(null);var KEY_ID="onloadid"+(new Date%9e6).toString(36);var KEY_ATTR="data-"+KEY_ID;var INDEX=0;if(window&&window.MutationObserver){var observer=new MutationObserver(function(mutations){if(Object.keys(watch).length<1)return;for(var i=0;i<mutations.length;i++){if(mutations[i].attributeName===KEY_ATTR){eachAttr(mutations[i],turnon,turnoff);continue}eachMutation(mutations[i].removedNodes,turnoff);eachMutation(mutations[i].addedNodes,turnon)}});if(document.body){beginObserve(observer)}else{document.addEventListener("DOMContentLoaded",function(event){beginObserve(observer)})}}function beginObserve(observer){observer.observe(document.documentElement,{childList:true,subtree:true,attributes:true,attributeOldValue:true,attributeFilter:[KEY_ATTR]})}module.exports=function onload(el,on,off,caller){assert(document.body,"on-load: will not work prior to DOMContentLoaded");on=on||function(){};off=off||function(){};el.setAttribute(KEY_ATTR,"o"+INDEX);watch["o"+INDEX]=[on,off,0,caller||onload.caller];INDEX+=1;return el};module.exports.KEY_ATTR=KEY_ATTR;module.exports.KEY_ID=KEY_ID;function turnon(index,el){if(watch[index][0]&&watch[index][2]===0){watch[index][0](el);watch[index][2]=1}}function turnoff(index,el){if(watch[index][1]&&watch[index][2]===1){watch[index][1](el);watch[index][2]=0}}function eachAttr(mutation,on,off){var newValue=mutation.target.getAttribute(KEY_ATTR);if(sameOrigin(mutation.oldValue,newValue)){watch[newValue]=watch[mutation.oldValue];return}if(watch[mutation.oldValue]){off(mutation.oldValue,mutation.target)}if(watch[newValue]){on(newValue,mutation.target)}}function sameOrigin(oldValue,newValue){if(!oldValue||!newValue)return false;return watch[oldValue][3]===watch[newValue][3]}function eachMutation(nodes,fn){var keys=Object.keys(watch);for(var i=0;i<nodes.length;i++){if(nodes[i]&&nodes[i].getAttribute&&nodes[i].getAttribute(KEY_ATTR)){var onloadid=nodes[i].getAttribute(KEY_ATTR);keys.forEach(function(k){if(onloadid===k){fn(k,nodes[i])}})}if(nodes[i].childNodes.length>0){eachMutation(nodes[i].childNodes,fn)}}}},{assert:403,"global/document":385,"global/window":386}],425:[function(require,module,exports){var scheduler=require("nanoscheduler")();var assert=require("assert");var entryTypes=["frame","measure","navigation","resource","longtask"];module.exports=onPerformance;function onPerformance(cb){assert.equal(typeof cb,"function","on-performance: cb should be type function");var PerformanceObserver=typeof window!=="undefined"&&window.PerformanceObserver;if(!PerformanceObserver)return;if(window._onperformance){window._onperformance.push(cb);return stop}window._onperformance=[cb];var observer=new PerformanceObserver(parseEntries);setTimeout(function(){parseEntries(window.performance);observer.observe({entryTypes:entryTypes})},0);return stop;function stop(){window._onperformance.splice(window._onperformance.indexOf(cb),1)}function parseEntries(list){list.getEntries().forEach(function(entry){scheduler.push(function(){clear(entry);window._onperformance.forEach(function(cb){cb(entry)})})})}function clear(entry){var type=entry.entryType;if(type==="measure")window.performance.clearMeasures(entry.name);else if(type==="resource")window.performance.clearResourceTimings()}}},{assert:403,nanoscheduler:420}],426:[function(require,module,exports){var wrappy=require("wrappy");module.exports=wrappy(once);module.exports.strict=wrappy(onceStrict);once.proto=once(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return once(this)},configurable:true});Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return onceStrict(this)},configurable:true})});function once(fn){var f=function(){if(f.called)return f.value;f.called=true;return f.value=fn.apply(this,arguments)};f.called=false;return f}function onceStrict(fn){var f=function(){if(f.called)throw new Error(f.onceError);f.called=true;return f.value=fn.apply(this,arguments)};var name=fn.name||"Function wrapped with `once`";f.onceError=name+" shouldn't be called more than once";f.called=false;return f}},{wrappy:469}],427:[function(require,module,exports){exports.endianness=function(){return"LE"};exports.hostname=function(){if(typeof location!=="undefined"){return location.hostname}else return""};exports.loadavg=function(){return[]};exports.uptime=function(){return 0};exports.freemem=function(){return Number.MAX_VALUE};exports.totalmem=function(){return Number.MAX_VALUE};exports.cpus=function(){return[]};exports.type=function(){return"Browser"};exports.release=function(){if(typeof navigator!=="undefined"){return navigator.appVersion}return""};exports.networkInterfaces=exports.getNetworkInterfaces=function(){return{}};exports.arch=function(){return"javascript"};exports.platform=function(){return"browser"};exports.tmpdir=exports.tmpDir=function(){return"/tmp"};exports.EOL="\n";exports.homedir=function(){return"/"}},{}],428:[function(require,module,exports){module.exports=plucker;function plucker(path,object){return arguments.length>=2?pluck(path)(object):pluck(path)}function pluck(path){path=typeof path==="string"?String(path).trim().split("."):path;if(path.length<2){path=path[0];return pluckSingle}else{var l=path.length;return pluckPath}function pluckSingle(object){return object[path]}function pluckPath(object){for(var i=0;i<l;i++){if(typeof object==="undefined")break;object=object[path[i]]}return object}}},{}],429:[function(require,module,exports){module.exports=prettierBytes;function prettierBytes(num){if(typeof num!=="number"||isNaN(num)){throw new TypeError("Expected a number, got "+typeof num)}var neg=num<0;var units=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(neg){num=-num}if(num<1){return(neg?"-":"")+num+" B"}var exponent=Math.min(Math.floor(Math.log(num)/Math.log(1e3)),units.length-1);num=Number(num/Math.pow(1e3,exponent));var unit=units[exponent];if(num>=10||num%1===0){return(neg?"-":"")+num.toFixed(0)+" "+unit}else{return(neg?"-":"")+num.toFixed(1)+" "+unit}}},{}],430:[function(require,module,exports){(function(process){"use strict";if(!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0){module.exports={nextTick:nextTick}}else{module.exports=process}function nextTick(fn,arg1,arg2,arg3){if(typeof fn!=="function"){throw new TypeError('"callback" argument must be a function')}var len=arguments.length;var args,i;switch(len){case 0:case 1:return process.nextTick(fn);case 2:return process.nextTick(function afterTickOne(){fn.call(null,arg1)});case 3:return process.nextTick(function afterTickTwo(){fn.call(null,arg1,arg2)});case 4:return process.nextTick(function afterTickThree(){fn.call(null,arg1,arg2,arg3)});default:args=new Array(len-1);i=0;while(i<args.length){args[i++]=arguments[i]}return process.nextTick(function afterTick(){fn.apply(null,args)})}}}).call(this,require("_process"))},{_process:431}],431:[function(require,module,exports){var process=module.exports={};var cachedSetTimeout;var cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){cachedSetTimeout=setTimeout}else{cachedSetTimeout=defaultSetTimout}}catch(e){cachedSetTimeout=defaultSetTimout}try{if(typeof clearTimeout==="function"){cachedClearTimeout=clearTimeout}else{cachedClearTimeout=defaultClearTimeout}}catch(e){cachedClearTimeout=defaultClearTimeout}})();function runTimeout(fun){if(cachedSetTimeout===setTimeout){return setTimeout(fun,0)}if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout){cachedSetTimeout=setTimeout;return setTimeout(fun,0)}try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout){return clearTimeout(marker)}if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout){cachedClearTimeout=clearTimeout;return clearTimeout(marker)}try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){if(!draining||!currentQueue){return}draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=runTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run()}}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;runClearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){runTimeout(drainQueue)}};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.prependListener=noop;process.prependOnceListener=noop;process.listeners=function(name){return[]};process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}},{}],432:[function(require,module,exports){module.exports=require("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":433}],433:[function(require,module,exports){"use strict";var pna=require("process-nextick-args");var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj){keys.push(key)}return keys};module.exports=Duplex;var util=require("core-util-is");util.inherits=require("inherits");var Readable=require("./_stream_readable");var Writable=require("./_stream_writable");util.inherits(Duplex,Readable);{var keys=objectKeys(Writable.prototype);for(var v=0;v<keys.length;v++){var method=keys[v];if(!Duplex.prototype[method])Duplex.prototype[method]=Writable.prototype[method]}}function Duplex(options){if(!(this instanceof Duplex))return new Duplex(options);Readable.call(this,options);Writable.call(this,options);if(options&&options.readable===false)this.readable=false;if(options&&options.writable===false)this.writable=false;this.allowHalfOpen=true;if(options&&options.allowHalfOpen===false)this.allowHalfOpen=false;this.once("end",onend)}Object.defineProperty(Duplex.prototype,"writableHighWaterMark",{enumerable:false,get:function(){return this._writableState.highWaterMark}});function onend(){if(this.allowHalfOpen||this._writableState.ended)return;pna.nextTick(onEndNT,this)}function onEndNT(self){self.end()}Object.defineProperty(Duplex.prototype,"destroyed",{get:function(){if(this._readableState===undefined||this._writableState===undefined){return false}return this._readableState.destroyed&&this._writableState.destroyed},set:function(value){if(this._readableState===undefined||this._writableState===undefined){return}this._readableState.destroyed=value;this._writableState.destroyed=value}});Duplex.prototype._destroy=function(err,cb){this.push(null);this.end();pna.nextTick(cb,err)}},{"./_stream_readable":435,"./_stream_writable":437,"core-util-is":377,inherits:391,"process-nextick-args":430}],434:[function(require,module,exports){"use strict";module.exports=PassThrough;var Transform=require("./_stream_transform");var util=require("core-util-is");util.inherits=require("inherits");util.inherits(PassThrough,Transform);function PassThrough(options){if(!(this instanceof PassThrough))return new PassThrough(options);Transform.call(this,options)}PassThrough.prototype._transform=function(chunk,encoding,cb){cb(null,chunk)}},{"./_stream_transform":436,"core-util-is":377,inherits:391}],435:[function(require,module,exports){(function(process,global){"use strict";var pna=require("process-nextick-args");module.exports=Readable;var isArray=require("isarray");var Duplex;Readable.ReadableState=ReadableState;var EE=require("events").EventEmitter;var EElistenerCount=function(emitter,type){return emitter.listeners(type).length};var Stream=require("./internal/streams/stream");var Buffer=require("safe-buffer").Buffer;var OurUint8Array=global.Uint8Array||function(){};function _uint8ArrayToBuffer(chunk){return Buffer.from(chunk)}function _isUint8Array(obj){return Buffer.isBuffer(obj)||obj instanceof OurUint8Array}var util=require("core-util-is");util.inherits=require("inherits");var debugUtil=require("util");var debug=void 0;if(debugUtil&&debugUtil.debuglog){debug=debugUtil.debuglog("stream")}else{debug=function(){}}var BufferList=require("./internal/streams/BufferList");var destroyImpl=require("./internal/streams/destroy");var StringDecoder;util.inherits(Readable,Stream);var kProxyEvents=["error","close","destroy","pause","resume"];function prependListener(emitter,event,fn){if(typeof emitter.prependListener==="function")return emitter.prependListener(event,fn);if(!emitter._events||!emitter._events[event])emitter.on(event,fn);else if(isArray(emitter._events[event]))emitter._events[event].unshift(fn);else emitter._events[event]=[fn,emitter._events[event]]}function ReadableState(options,stream){Duplex=Duplex||require("./_stream_duplex");options=options||{};var isDuplex=stream instanceof Duplex;this.objectMode=!!options.objectMode;if(isDuplex)this.objectMode=this.objectMode||!!options.readableObjectMode;var hwm=options.highWaterMark;var readableHwm=options.readableHighWaterMark;var defaultHwm=this.objectMode?16:16*1024;if(hwm||hwm===0)this.highWaterMark=hwm;else if(isDuplex&&(readableHwm||readableHwm===0))this.highWaterMark=readableHwm;else this.highWaterMark=defaultHwm;this.highWaterMark=Math.floor(this.highWaterMark);this.buffer=new BufferList;this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=false;this.endEmitted=false;this.reading=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.resumeScheduled=false;this.destroyed=false;this.defaultEncoding=options.defaultEncoding||"utf8";this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(options.encoding){if(!StringDecoder)StringDecoder=require("string_decoder/").StringDecoder;this.decoder=new StringDecoder(options.encoding);this.encoding=options.encoding}}function Readable(options){Duplex=Duplex||require("./_stream_duplex");if(!(this instanceof Readable))return new Readable(options);this._readableState=new ReadableState(options,this);this.readable=true;if(options){if(typeof options.read==="function")this._read=options.read;if(typeof options.destroy==="function")this._destroy=options.destroy}Stream.call(this)}Object.defineProperty(Readable.prototype,"destroyed",{get:function(){if(this._readableState===undefined){return false}return this._readableState.destroyed},set:function(value){if(!this._readableState){return}this._readableState.destroyed=value}});Readable.prototype.destroy=destroyImpl.destroy;Readable.prototype._undestroy=destroyImpl.undestroy;Readable.prototype._destroy=function(err,cb){this.push(null);cb(err)};Readable.prototype.push=function(chunk,encoding){var state=this._readableState;var skipChunkCheck;if(!state.objectMode){if(typeof chunk==="string"){encoding=encoding||state.defaultEncoding;if(encoding!==state.encoding){chunk=Buffer.from(chunk,encoding);encoding=""}skipChunkCheck=true}}else{skipChunkCheck=true}return readableAddChunk(this,chunk,encoding,false,skipChunkCheck)};Readable.prototype.unshift=function(chunk){return readableAddChunk(this,chunk,null,true,false)};function readableAddChunk(stream,chunk,encoding,addToFront,skipChunkCheck){var state=stream._readableState;if(chunk===null){state.reading=false;onEofChunk(stream,state)}else{var er;if(!skipChunkCheck)er=chunkInvalid(state,chunk);if(er){stream.emit("error",er)}else if(state.objectMode||chunk&&chunk.length>0){if(typeof chunk!=="string"&&!state.objectMode&&Object.getPrototypeOf(chunk)!==Buffer.prototype){chunk=_uint8ArrayToBuffer(chunk)}if(addToFront){if(state.endEmitted)stream.emit("error",new Error("stream.unshift() after end event"));else addChunk(stream,state,chunk,true)}else if(state.ended){stream.emit("error",new Error("stream.push() after EOF"))}else{state.reading=false;if(state.decoder&&!encoding){chunk=state.decoder.write(chunk);if(state.objectMode||chunk.length!==0)addChunk(stream,state,chunk,false);else maybeReadMore(stream,state)}else{addChunk(stream,state,chunk,false)}}}else if(!addToFront){state.reading=false}}return needMoreData(state)}function addChunk(stream,state,chunk,addToFront){if(state.flowing&&state.length===0&&!state.sync){stream.emit("data",chunk);stream.read(0)}else{state.length+=state.objectMode?1:chunk.length;if(addToFront)state.buffer.unshift(chunk);else state.buffer.push(chunk);if(state.needReadable)emitReadable(stream)}maybeReadMore(stream,state)}function chunkInvalid(state,chunk){var er;if(!_isUint8Array(chunk)&&typeof chunk!=="string"&&chunk!==undefined&&!state.objectMode){er=new TypeError("Invalid non-string/buffer chunk")}return er}function needMoreData(state){return!state.ended&&(state.needReadable||state.length<state.highWaterMark||state.length===0)}Readable.prototype.isPaused=function(){return this._readableState.flowing===false};Readable.prototype.setEncoding=function(enc){if(!StringDecoder)StringDecoder=require("string_decoder/").StringDecoder;this._readableState.decoder=new StringDecoder(enc);this._readableState.encoding=enc;return this};var MAX_HWM=8388608;function computeNewHighWaterMark(n){if(n>=MAX_HWM){n=MAX_HWM}else{n--;n|=n>>>1;n|=n>>>2;n|=n>>>4;n|=n>>>8;n|=n>>>16;n++}return n}function howMuchToRead(n,state){if(n<=0||state.length===0&&state.ended)return 0;if(state.objectMode)return 1;if(n!==n){if(state.flowing&&state.length)return state.buffer.head.data.length;else return state.length}if(n>state.highWaterMark)state.highWaterMark=computeNewHighWaterMark(n);if(n<=state.length)return n;if(!state.ended){state.needReadable=true;return 0}return state.length}Readable.prototype.read=function(n){debug("read",n);n=parseInt(n,10);var state=this._readableState;var nOrig=n;if(n!==0)state.emittedReadable=false;if(n===0&&state.needReadable&&(state.length>=state.highWaterMark||state.ended)){debug("read: emitReadable",state.length,state.ended);if(state.length===0&&state.ended)endReadable(this);else emitReadable(this);return null}n=howMuchToRead(n,state);if(n===0&&state.ended){if(state.length===0)endReadable(this);return null}var doRead=state.needReadable;debug("need readable",doRead);if(state.length===0||state.length-n<state.highWaterMark){doRead=true;debug("length less than watermark",doRead)}if(state.ended||state.reading){doRead=false;debug("reading or ended",doRead)}else if(doRead){debug("do read");state.reading=true;state.sync=true;if(state.length===0)state.needReadable=true;this._read(state.highWaterMark);state.sync=false;if(!state.reading)n=howMuchToRead(nOrig,state)}var ret;if(n>0)ret=fromList(n,state);else ret=null;if(ret===null){state.needReadable=true;n=0}else{state.length-=n}if(state.length===0){if(!state.ended)state.needReadable=true;if(nOrig!==n&&state.ended)endReadable(this)}if(ret!==null)this.emit("data",ret);return ret};function onEofChunk(stream,state){if(state.ended)return;if(state.decoder){var chunk=state.decoder.end();if(chunk&&chunk.length){state.buffer.push(chunk);state.length+=state.objectMode?1:chunk.length}}state.ended=true;emitReadable(stream)}function emitReadable(stream){var state=stream._readableState;state.needReadable=false;if(!state.emittedReadable){debug("emitReadable",state.flowing);state.emittedReadable=true;if(state.sync)pna.nextTick(emitReadable_,stream);else emitReadable_(stream)}}function emitReadable_(stream){debug("emit readable");stream.emit("readable");flow(stream)}function maybeReadMore(stream,state){if(!state.readingMore){state.readingMore=true;pna.nextTick(maybeReadMore_,stream,state)}}function maybeReadMore_(stream,state){var len=state.length;while(!state.reading&&!state.flowing&&!state.ended&&state.length<state.highWaterMark){debug("maybeReadMore read 0");stream.read(0);if(len===state.length)break;else len=state.length}state.readingMore=false}Readable.prototype._read=function(n){this.emit("error",new Error("_read() is not implemented"))};Readable.prototype.pipe=function(dest,pipeOpts){var src=this;var state=this._readableState;switch(state.pipesCount){case 0:state.pipes=dest;break;case 1:state.pipes=[state.pipes,dest];break;default:state.pipes.push(dest);break}state.pipesCount+=1;debug("pipe count=%d opts=%j",state.pipesCount,pipeOpts);var doEnd=(!pipeOpts||pipeOpts.end!==false)&&dest!==process.stdout&&dest!==process.stderr;var endFn=doEnd?onend:unpipe;if(state.endEmitted)pna.nextTick(endFn);else src.once("end",endFn);dest.on("unpipe",onunpipe);function onunpipe(readable,unpipeInfo){debug("onunpipe");if(readable===src){if(unpipeInfo&&unpipeInfo.hasUnpiped===false){unpipeInfo.hasUnpiped=true;cleanup()}}}function onend(){debug("onend");dest.end()}var ondrain=pipeOnDrain(src);dest.on("drain",ondrain);var cleanedUp=false;function cleanup(){debug("cleanup");dest.removeListener("close",onclose);dest.removeListener("finish",onfinish);dest.removeListener("drain",ondrain);dest.removeListener("error",onerror);dest.removeListener("unpipe",onunpipe);src.removeListener("end",onend);src.removeListener("end",unpipe);src.removeListener("data",ondata);cleanedUp=true;if(state.awaitDrain&&(!dest._writableState||dest._writableState.needDrain))ondrain()}var increasedAwaitDrain=false;src.on("data",ondata);function ondata(chunk){debug("ondata");increasedAwaitDrain=false;var ret=dest.write(chunk);if(false===ret&&!increasedAwaitDrain){if((state.pipesCount===1&&state.pipes===dest||state.pipesCount>1&&indexOf(state.pipes,dest)!==-1)&&!cleanedUp){debug("false write response, pause",src._readableState.awaitDrain);src._readableState.awaitDrain++;increasedAwaitDrain=true}src.pause()}}function onerror(er){debug("onerror",er);unpipe();dest.removeListener("error",onerror);if(EElistenerCount(dest,"error")===0)dest.emit("error",er)}prependListener(dest,"error",onerror);function onclose(){dest.removeListener("finish",onfinish);unpipe()}dest.once("close",onclose);function onfinish(){debug("onfinish");dest.removeListener("close",onclose);unpipe()}dest.once("finish",onfinish);function unpipe(){debug("unpipe");src.unpipe(dest)}dest.emit("pipe",src);if(!state.flowing){debug("pipe resume");src.resume()}return dest};function pipeOnDrain(src){return function(){var state=src._readableState;debug("pipeOnDrain",state.awaitDrain);if(state.awaitDrain)state.awaitDrain--;if(state.awaitDrain===0&&EElistenerCount(src,"data")){state.flowing=true;flow(src)}}}Readable.prototype.unpipe=function(dest){var state=this._readableState;var unpipeInfo={hasUnpiped:false};if(state.pipesCount===0)return this;if(state.pipesCount===1){if(dest&&dest!==state.pipes)return this;if(!dest)dest=state.pipes;state.pipes=null;state.pipesCount=0;state.flowing=false;if(dest)dest.emit("unpipe",this,unpipeInfo);return this}if(!dest){var dests=state.pipes;var len=state.pipesCount;state.pipes=null;state.pipesCount=0;state.flowing=false;for(var i=0;i<len;i++){dests[i].emit("unpipe",this,unpipeInfo)}return this}var index=indexOf(state.pipes,dest);if(index===-1)return this;state.pipes.splice(index,1);state.pipesCount-=1;if(state.pipesCount===1)state.pipes=state.pipes[0];dest.emit("unpipe",this,unpipeInfo);return this};Readable.prototype.on=function(ev,fn){var res=Stream.prototype.on.call(this,ev,fn);if(ev==="data"){if(this._readableState.flowing!==false)this.resume()}else if(ev==="readable"){var state=this._readableState;if(!state.endEmitted&&!state.readableListening){state.readableListening=state.needReadable=true;state.emittedReadable=false;if(!state.reading){pna.nextTick(nReadingNextTick,this)}else if(state.length){emitReadable(this)}}}return res};Readable.prototype.addListener=Readable.prototype.on;function nReadingNextTick(self){debug("readable nexttick read 0");self.read(0)}Readable.prototype.resume=function(){var state=this._readableState;if(!state.flowing){debug("resume");state.flowing=true;resume(this,state)}return this};function resume(stream,state){if(!state.resumeScheduled){state.resumeScheduled=true;pna.nextTick(resume_,stream,state)}}function resume_(stream,state){if(!state.reading){debug("resume read 0");stream.read(0)}state.resumeScheduled=false;state.awaitDrain=0;stream.emit("resume");flow(stream);if(state.flowing&&!state.reading)stream.read(0)}Readable.prototype.pause=function(){debug("call pause flowing=%j",this._readableState.flowing);if(false!==this._readableState.flowing){debug("pause");this._readableState.flowing=false;this.emit("pause")}return this};function flow(stream){var state=stream._readableState;debug("flow",state.flowing);while(state.flowing&&stream.read()!==null){}}Readable.prototype.wrap=function(stream){var _this=this;var state=this._readableState;var paused=false;stream.on("end",function(){debug("wrapped end");if(state.decoder&&!state.ended){var chunk=state.decoder.end();if(chunk&&chunk.length)_this.push(chunk)}_this.push(null)});stream.on("data",function(chunk){debug("wrapped data");if(state.decoder)chunk=state.decoder.write(chunk);if(state.objectMode&&(chunk===null||chunk===undefined))return;else if(!state.objectMode&&(!chunk||!chunk.length))return;var ret=_this.push(chunk);if(!ret){paused=true;stream.pause()}});for(var i in stream){if(this[i]===undefined&&typeof stream[i]==="function"){this[i]=function(method){return function(){return stream[method].apply(stream,arguments)}}(i)}}for(var n=0;n<kProxyEvents.length;n++){stream.on(kProxyEvents[n],this.emit.bind(this,kProxyEvents[n]))}this._read=function(n){debug("wrapped _read",n);if(paused){paused=false;stream.resume()}};return this};Object.defineProperty(Readable.prototype,"readableHighWaterMark",{enumerable:false,get:function(){return this._readableState.highWaterMark}});Readable._fromList=fromList;function fromList(n,state){if(state.length===0)return null;var ret;if(state.objectMode)ret=state.buffer.shift();else if(!n||n>=state.length){if(state.decoder)ret=state.buffer.join("");else if(state.buffer.length===1)ret=state.buffer.head.data;else ret=state.buffer.concat(state.length);state.buffer.clear()}else{ret=fromListPartial(n,state.buffer,state.decoder)}return ret}function fromListPartial(n,list,hasStrings){var ret;if(n<list.head.data.length){ret=list.head.data.slice(0,n);list.head.data=list.head.data.slice(n)}else if(n===list.head.data.length){ret=list.shift()}else{ret=hasStrings?copyFromBufferString(n,list):copyFromBuffer(n,list)}return ret}function copyFromBufferString(n,list){var p=list.head;var c=1;var ret=p.data;n-=ret.length;while(p=p.next){var str=p.data;var nb=n>str.length?str.length:n;if(nb===str.length)ret+=str;else ret+=str.slice(0,n);n-=nb;if(n===0){if(nb===str.length){++c;if(p.next)list.head=p.next;else list.head=list.tail=null}else{list.head=p;p.data=str.slice(nb)}break}++c}list.length-=c;return ret}function copyFromBuffer(n,list){var ret=Buffer.allocUnsafe(n);var p=list.head;var c=1;p.data.copy(ret);n-=p.data.length;while(p=p.next){var buf=p.data;var nb=n>buf.length?buf.length:n;buf.copy(ret,ret.length-n,0,nb);n-=nb;if(n===0){if(nb===buf.length){++c;if(p.next)list.head=p.next;else list.head=list.tail=null}else{list.head=p;p.data=buf.slice(nb)}break}++c}list.length-=c;return ret}function endReadable(stream){var state=stream._readableState;if(state.length>0)throw new Error('"endReadable()" called on non-empty stream');if(!state.endEmitted){state.ended=true;pna.nextTick(endReadableNT,state,stream)}}function endReadableNT(state,stream){if(!state.endEmitted&&state.length===0){state.endEmitted=true;stream.readable=false;stream.emit("end")}}function indexOf(xs,x){for(var i=0,l=xs.length;i<l;i++){if(xs[i]===x)return i}return-1}}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./_stream_duplex":433,"./internal/streams/BufferList":438,"./internal/streams/destroy":439,"./internal/streams/stream":440,_process:431,"core-util-is":377,events:29,inherits:391,isarray:441,"process-nextick-args":430,"safe-buffer":449,"string_decoder/":442,util:28}],436:[function(require,module,exports){"use strict";module.exports=Transform;var Duplex=require("./_stream_duplex");var util=require("core-util-is");util.inherits=require("inherits");util.inherits(Transform,Duplex);function afterTransform(er,data){var ts=this._transformState;ts.transforming=false;var cb=ts.writecb;if(!cb){return this.emit("error",new Error("write callback called multiple times"))}ts.writechunk=null;ts.writecb=null;if(data!=null)this.push(data);cb(er);var rs=this._readableState;rs.reading=false;if(rs.needReadable||rs.length<rs.highWaterMark){this._read(rs.highWaterMark)}}function Transform(options){if(!(this instanceof Transform))return new Transform(options);Duplex.call(this,options);this._transformState={afterTransform:afterTransform.bind(this),needTransform:false,transforming:false,writecb:null,writechunk:null,writeencoding:null};this._readableState.needReadable=true;this._readableState.sync=false;if(options){if(typeof options.transform==="function")this._transform=options.transform;if(typeof options.flush==="function")this._flush=options.flush}this.on("prefinish",prefinish)}function prefinish(){var _this=this;if(typeof this._flush==="function"){this._flush(function(er,data){done(_this,er,data)})}else{done(this,null,null)}}Transform.prototype.push=function(chunk,encoding){this._transformState.needTransform=false;return Duplex.prototype.push.call(this,chunk,encoding)};Transform.prototype._transform=function(chunk,encoding,cb){throw new Error("_transform() is not implemented")};Transform.prototype._write=function(chunk,encoding,cb){var ts=this._transformState;ts.writecb=cb;ts.writechunk=chunk;ts.writeencoding=encoding;if(!ts.transforming){var rs=this._readableState;if(ts.needTransform||rs.needReadable||rs.length<rs.highWaterMark)this._read(rs.highWaterMark)}};Transform.prototype._read=function(n){var ts=this._transformState;if(ts.writechunk!==null&&ts.writecb&&!ts.transforming){ts.transforming=true;this._transform(ts.writechunk,ts.writeencoding,ts.afterTransform)}else{ts.needTransform=true}};Transform.prototype._destroy=function(err,cb){var _this2=this;Duplex.prototype._destroy.call(this,err,function(err2){cb(err2);_this2.emit("close")})};function done(stream,er,data){if(er)return stream.emit("error",er);if(data!=null)stream.push(data);if(stream._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(stream._transformState.transforming)throw new Error("Calling transform done when still transforming");return stream.push(null)}},{"./_stream_duplex":433,"core-util-is":377,inherits:391}],437:[function(require,module,exports){(function(process,global,setImmediate){"use strict";var pna=require("process-nextick-args");module.exports=Writable;function WriteReq(chunk,encoding,cb){this.chunk=chunk;this.encoding=encoding;this.callback=cb;this.next=null}function CorkedRequest(state){var _this=this;this.next=null;this.entry=null;this.finish=function(){onCorkedFinish(_this,state)}}var asyncWrite=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:pna.nextTick;var Duplex;Writable.WritableState=WritableState;var util=require("core-util-is");util.inherits=require("inherits");var internalUtil={deprecate:require("util-deprecate")};var Stream=require("./internal/streams/stream");var Buffer=require("safe-buffer").Buffer;var OurUint8Array=global.Uint8Array||function(){};function _uint8ArrayToBuffer(chunk){return Buffer.from(chunk)}function _isUint8Array(obj){return Buffer.isBuffer(obj)||obj instanceof OurUint8Array}var destroyImpl=require("./internal/streams/destroy");util.inherits(Writable,Stream);function nop(){}function WritableState(options,stream){Duplex=Duplex||require("./_stream_duplex");options=options||{};var isDuplex=stream instanceof Duplex;this.objectMode=!!options.objectMode;if(isDuplex)this.objectMode=this.objectMode||!!options.writableObjectMode;var hwm=options.highWaterMark;var writableHwm=options.writableHighWaterMark;var defaultHwm=this.objectMode?16:16*1024;if(hwm||hwm===0)this.highWaterMark=hwm;else if(isDuplex&&(writableHwm||writableHwm===0))this.highWaterMark=writableHwm;else this.highWaterMark=defaultHwm;this.highWaterMark=Math.floor(this.highWaterMark);this.finalCalled=false;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;this.destroyed=false;var noDecode=options.decodeStrings===false;this.decodeStrings=!noDecode;this.defaultEncoding=options.defaultEncoding||"utf8";this.length=0;this.writing=false;this.corked=0;this.sync=true;this.bufferProcessing=false;this.onwrite=function(er){onwrite(stream,er)};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=false;this.errorEmitted=false;this.bufferedRequestCount=0;this.corkedRequestsFree=new CorkedRequest(this)}WritableState.prototype.getBuffer=function getBuffer(){var current=this.bufferedRequest;var out=[];while(current){out.push(current);current=current.next}return out};(function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.","DEP0003")})}catch(_){}})();var realHasInstance;if(typeof Symbol==="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]==="function"){realHasInstance=Function.prototype[Symbol.hasInstance];Object.defineProperty(Writable,Symbol.hasInstance,{value:function(object){if(realHasInstance.call(this,object))return true;if(this!==Writable)return false;return object&&object._writableState instanceof WritableState}})}else{realHasInstance=function(object){return object instanceof this}}function Writable(options){Duplex=Duplex||require("./_stream_duplex");if(!realHasInstance.call(Writable,this)&&!(this instanceof Duplex)){return new Writable(options)}this._writableState=new WritableState(options,this);this.writable=true;if(options){if(typeof options.write==="function")this._write=options.write;if(typeof options.writev==="function")this._writev=options.writev;if(typeof options.destroy==="function")this._destroy=options.destroy;if(typeof options.final==="function")this._final=options.final}Stream.call(this)}Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function writeAfterEnd(stream,cb){var er=new Error("write after end");stream.emit("error",er);pna.nextTick(cb,er)}function validChunk(stream,state,chunk,cb){var valid=true;var er=false;if(chunk===null){er=new TypeError("May not write null values to stream")}else if(typeof chunk!=="string"&&chunk!==undefined&&!state.objectMode){er=new TypeError("Invalid non-string/buffer chunk")}if(er){stream.emit("error",er);pna.nextTick(cb,er);valid=false}return valid}Writable.prototype.write=function(chunk,encoding,cb){var state=this._writableState;var ret=false;var isBuf=!state.objectMode&&_isUint8Array(chunk);if(isBuf&&!Buffer.isBuffer(chunk)){chunk=_uint8ArrayToBuffer(chunk)}if(typeof encoding==="function"){cb=encoding;encoding=null}if(isBuf)encoding="buffer";else if(!encoding)encoding=state.defaultEncoding;if(typeof cb!=="function")cb=nop;if(state.ended)writeAfterEnd(this,cb);else if(isBuf||validChunk(this,state,chunk,cb)){state.pendingcb++;ret=writeOrBuffer(this,state,isBuf,chunk,encoding,cb)}return ret};Writable.prototype.cork=function(){var state=this._writableState;state.corked++};Writable.prototype.uncork=function(){var state=this._writableState;if(state.corked){state.corked--;if(!state.writing&&!state.corked&&!state.finished&&!state.bufferProcessing&&state.bufferedRequest)clearBuffer(this,state)}};Writable.prototype.setDefaultEncoding=function setDefaultEncoding(encoding){if(typeof encoding==="string")encoding=encoding.toLowerCase();if(!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((encoding+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+encoding);this._writableState.defaultEncoding=encoding;return this};function decodeChunk(state,chunk,encoding){if(!state.objectMode&&state.decodeStrings!==false&&typeof chunk==="string"){chunk=Buffer.from(chunk,encoding)}return chunk}Object.defineProperty(Writable.prototype,"writableHighWaterMark",{enumerable:false,get:function(){return this._writableState.highWaterMark}});function writeOrBuffer(stream,state,isBuf,chunk,encoding,cb){if(!isBuf){var newChunk=decodeChunk(state,chunk,encoding);if(chunk!==newChunk){isBuf=true;encoding="buffer";chunk=newChunk}}var len=state.objectMode?1:chunk.length;state.length+=len;var ret=state.length<state.highWaterMark;if(!ret)state.needDrain=true;if(state.writing||state.corked){var last=state.lastBufferedRequest;state.lastBufferedRequest={chunk:chunk,encoding:encoding,isBuf:isBuf,callback:cb,next:null};if(last){last.next=state.lastBufferedRequest}else{state.bufferedRequest=state.lastBufferedRequest}state.bufferedRequestCount+=1}else{doWrite(stream,state,false,len,chunk,encoding,cb)}return ret}function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len;state.writecb=cb;state.writing=true;state.sync=true;if(writev)stream._writev(chunk,state.onwrite);else stream._write(chunk,encoding,state.onwrite);state.sync=false}function onwriteError(stream,state,sync,er,cb){--state.pendingcb;if(sync){pna.nextTick(cb,er);pna.nextTick(finishMaybe,stream,state);stream._writableState.errorEmitted=true;stream.emit("error",er)}else{cb(er);stream._writableState.errorEmitted=true;stream.emit("error",er);finishMaybe(stream,state)}}function onwriteStateUpdate(state){state.writing=false;state.writecb=null;state.length-=state.writelen;state.writelen=0}function onwrite(stream,er){var state=stream._writableState;var sync=state.sync;var cb=state.writecb;onwriteStateUpdate(state);if(er)onwriteError(stream,state,sync,er,cb);else{var finished=needFinish(state);if(!finished&&!state.corked&&!state.bufferProcessing&&state.bufferedRequest){clearBuffer(stream,state)}if(sync){asyncWrite(afterWrite,stream,state,finished,cb)}else{afterWrite(stream,state,finished,cb)}}}function afterWrite(stream,state,finished,cb){if(!finished)onwriteDrain(stream,state);state.pendingcb--;cb();finishMaybe(stream,state)}function onwriteDrain(stream,state){if(state.length===0&&state.needDrain){state.needDrain=false;stream.emit("drain")}}function clearBuffer(stream,state){state.bufferProcessing=true;var entry=state.bufferedRequest;if(stream._writev&&entry&&entry.next){var l=state.bufferedRequestCount;var buffer=new Array(l);var holder=state.corkedRequestsFree;holder.entry=entry;var count=0;var allBuffers=true;while(entry){buffer[count]=entry;if(!entry.isBuf)allBuffers=false;entry=entry.next;count+=1}buffer.allBuffers=allBuffers;doWrite(stream,state,true,state.length,buffer,"",holder.finish);state.pendingcb++;state.lastBufferedRequest=null;if(holder.next){state.corkedRequestsFree=holder.next;holder.next=null}else{state.corkedRequestsFree=new CorkedRequest(state)}state.bufferedRequestCount=0}else{while(entry){var chunk=entry.chunk;var encoding=entry.encoding;var cb=entry.callback;var len=state.objectMode?1:chunk.length;doWrite(stream,state,false,len,chunk,encoding,cb);entry=entry.next;state.bufferedRequestCount--;if(state.writing){break}}if(entry===null)state.lastBufferedRequest=null}state.bufferedRequest=entry;state.bufferProcessing=false}Writable.prototype._write=function(chunk,encoding,cb){cb(new Error("_write() is not implemented"))};Writable.prototype._writev=null;Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;if(typeof chunk==="function"){cb=chunk;chunk=null;encoding=null}else if(typeof encoding==="function"){cb=encoding;encoding=null}if(chunk!==null&&chunk!==undefined)this.write(chunk,encoding);if(state.corked){state.corked=1;this.uncork()}if(!state.ending&&!state.finished)endWritable(this,state,cb)};function needFinish(state){return state.ending&&state.length===0&&state.bufferedRequest===null&&!state.finished&&!state.writing}function callFinal(stream,state){stream._final(function(err){state.pendingcb--;if(err){stream.emit("error",err)}state.prefinished=true;stream.emit("prefinish");finishMaybe(stream,state)})}function prefinish(stream,state){if(!state.prefinished&&!state.finalCalled){if(typeof stream._final==="function"){state.pendingcb++;state.finalCalled=true;pna.nextTick(callFinal,stream,state)}else{state.prefinished=true;stream.emit("prefinish")}}}function finishMaybe(stream,state){var need=needFinish(state);if(need){prefinish(stream,state);if(state.pendingcb===0){state.finished=true;stream.emit("finish")}}return need}function endWritable(stream,state,cb){state.ending=true;finishMaybe(stream,state);if(cb){if(state.finished)pna.nextTick(cb);else stream.once("finish",cb)}state.ended=true;stream.writable=false}function onCorkedFinish(corkReq,state,err){var entry=corkReq.entry;corkReq.entry=null;while(entry){var cb=entry.callback;state.pendingcb--;cb(err);entry=entry.next}if(state.corkedRequestsFree){state.corkedRequestsFree.next=corkReq}else{state.corkedRequestsFree=corkReq}}Object.defineProperty(Writable.prototype,"destroyed",{get:function(){if(this._writableState===undefined){return false}return this._writableState.destroyed},set:function(value){if(!this._writableState){return}this._writableState.destroyed=value}});Writable.prototype.destroy=destroyImpl.destroy;Writable.prototype._undestroy=destroyImpl.undestroy;Writable.prototype._destroy=function(err,cb){this.end();cb(err)}}).call(this,require("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{},require("timers").setImmediate)},{"./_stream_duplex":433,"./internal/streams/destroy":439,"./internal/streams/stream":440,_process:431,"core-util-is":377,inherits:391,"process-nextick-args":430,"safe-buffer":449,timers:460,"util-deprecate":464}],438:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var Buffer=require("safe-buffer").Buffer;var util=require("util");function copyBuffer(src,target,offset){src.copy(target,offset)}module.exports=function(){function BufferList(){_classCallCheck(this,BufferList);this.head=null;this.tail=null;this.length=0}BufferList.prototype.push=function push(v){var entry={data:v,next:null};if(this.length>0)this.tail.next=entry;else this.head=entry;this.tail=entry;++this.length};BufferList.prototype.unshift=function unshift(v){var entry={data:v,next:this.head};if(this.length===0)this.tail=entry;this.head=entry;++this.length};BufferList.prototype.shift=function shift(){if(this.length===0)return;var ret=this.head.data;if(this.length===1)this.head=this.tail=null;else this.head=this.head.next;--this.length;return ret};BufferList.prototype.clear=function clear(){this.head=this.tail=null;this.length=0};BufferList.prototype.join=function join(s){if(this.length===0)return"";var p=this.head;var ret=""+p.data;while(p=p.next){ret+=s+p.data}return ret};BufferList.prototype.concat=function concat(n){if(this.length===0)return Buffer.alloc(0);if(this.length===1)return this.head.data;var ret=Buffer.allocUnsafe(n>>>0);var p=this.head;var i=0;while(p){copyBuffer(p.data,ret,i);i+=p.data.length;p=p.next}return ret};return BufferList}();if(util&&util.inspect&&util.inspect.custom){module.exports.prototype[util.inspect.custom]=function(){var obj=util.inspect({length:this.length});return this.constructor.name+" "+obj}}},{"safe-buffer":449,util:28}],439:[function(require,module,exports){"use strict";var pna=require("process-nextick-args");function destroy(err,cb){var _this=this;var readableDestroyed=this._readableState&&this._readableState.destroyed;var writableDestroyed=this._writableState&&this._writableState.destroyed;if(readableDestroyed||writableDestroyed){if(cb){cb(err)}else if(err&&(!this._writableState||!this._writableState.errorEmitted)){pna.nextTick(emitErrorNT,this,err)}return this}if(this._readableState){this._readableState.destroyed=true}if(this._writableState){this._writableState.destroyed=true}this._destroy(err||null,function(err){if(!cb&&err){pna.nextTick(emitErrorNT,_this,err);if(_this._writableState){_this._writableState.errorEmitted=true}}else if(cb){cb(err)}});return this}function undestroy(){if(this._readableState){this._readableState.destroyed=false;this._readableState.reading=false;this._readableState.ended=false;this._readableState.endEmitted=false}if(this._writableState){this._writableState.destroyed=false;this._writableState.ended=false;this._writableState.ending=false;this._writableState.finished=false;this._writableState.errorEmitted=false}}function emitErrorNT(self,err){self.emit("error",err)}module.exports={destroy:destroy,undestroy:undestroy}},{"process-nextick-args":430}],440:[function(require,module,exports){module.exports=require("events").EventEmitter},{events:29}],441:[function(require,module,exports){var toString={}.toString;module.exports=Array.isArray||function(arr){return toString.call(arr)=="[object Array]"}},{}],442:[function(require,module,exports){"use strict";var Buffer=require("safe-buffer").Buffer;var isEncoding=Buffer.isEncoding||function(encoding){encoding=""+encoding;switch(encoding&&encoding.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return true;default:return false}};function _normalizeEncoding(enc){if(!enc)return"utf8";var retried;while(true){switch(enc){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return enc;default:if(retried)return;enc=(""+enc).toLowerCase();retried=true}}}function normalizeEncoding(enc){var nenc=_normalizeEncoding(enc);if(typeof nenc!=="string"&&(Buffer.isEncoding===isEncoding||!isEncoding(enc)))throw new Error("Unknown encoding: "+enc);return nenc||enc}exports.StringDecoder=StringDecoder;function StringDecoder(encoding){this.encoding=normalizeEncoding(encoding);var nb;switch(this.encoding){case"utf16le":this.text=utf16Text;this.end=utf16End;nb=4;break;case"utf8":this.fillLast=utf8FillLast;nb=4;break;case"base64":this.text=base64Text;this.end=base64End;nb=3;break;default:this.write=simpleWrite;this.end=simpleEnd;return}this.lastNeed=0;this.lastTotal=0;this.lastChar=Buffer.allocUnsafe(nb)}StringDecoder.prototype.write=function(buf){if(buf.length===0)return"";var r;var i;if(this.lastNeed){r=this.fillLast(buf);if(r===undefined)return"";i=this.lastNeed;this.lastNeed=0}else{i=0}if(i<buf.length)return r?r+this.text(buf,i):this.text(buf,i);return r||""};StringDecoder.prototype.end=utf8End;StringDecoder.prototype.text=utf8Text;StringDecoder.prototype.fillLast=function(buf){if(this.lastNeed<=buf.length){buf.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed);return this.lastChar.toString(this.encoding,0,this.lastTotal)}buf.copy(this.lastChar,this.lastTotal-this.lastNeed,0,buf.length);this.lastNeed-=buf.length};function utf8CheckByte(byte){if(byte<=127)return 0;else if(byte>>5===6)return 2;else if(byte>>4===14)return 3;else if(byte>>3===30)return 4;return byte>>6===2?-1:-2}function utf8CheckIncomplete(self,buf,i){var j=buf.length-1;if(j<i)return 0;var nb=utf8CheckByte(buf[j]);if(nb>=0){if(nb>0)self.lastNeed=nb-1;return nb}if(--j<i||nb===-2)return 0;nb=utf8CheckByte(buf[j]);if(nb>=0){if(nb>0)self.lastNeed=nb-2;return nb}if(--j<i||nb===-2)return 0;nb=utf8CheckByte(buf[j]);if(nb>=0){if(nb>0){if(nb===2)nb=0;else self.lastNeed=nb-3}return nb}return 0}function utf8CheckExtraBytes(self,buf,p){if((buf[0]&192)!==128){self.lastNeed=0;return"�"}if(self.lastNeed>1&&buf.length>1){if((buf[1]&192)!==128){self.lastNeed=1;return"�"}if(self.lastNeed>2&&buf.length>2){if((buf[2]&192)!==128){self.lastNeed=2;return"�"}}}}function utf8FillLast(buf){var p=this.lastTotal-this.lastNeed;var r=utf8CheckExtraBytes(this,buf,p);if(r!==undefined)return r;if(this.lastNeed<=buf.length){buf.copy(this.lastChar,p,0,this.lastNeed);return this.lastChar.toString(this.encoding,0,this.lastTotal)}buf.copy(this.lastChar,p,0,buf.length);this.lastNeed-=buf.length}function utf8Text(buf,i){var total=utf8CheckIncomplete(this,buf,i);if(!this.lastNeed)return buf.toString("utf8",i);this.lastTotal=total;var end=buf.length-(total-this.lastNeed);buf.copy(this.lastChar,0,end);return buf.toString("utf8",i,end)}function utf8End(buf){var r=buf&&buf.length?this.write(buf):"";if(this.lastNeed)return r+"�";return r}function utf16Text(buf,i){if((buf.length-i)%2===0){var r=buf.toString("utf16le",i);if(r){var c=r.charCodeAt(r.length-1);if(c>=55296&&c<=56319){this.lastNeed=2;this.lastTotal=4;this.lastChar[0]=buf[buf.length-2];this.lastChar[1]=buf[buf.length-1];return r.slice(0,-1)}}return r}this.lastNeed=1;this.lastTotal=2;this.lastChar[0]=buf[buf.length-1];return buf.toString("utf16le",i,buf.length-1)}function utf16End(buf){var r=buf&&buf.length?this.write(buf):"";if(this.lastNeed){var end=this.lastTotal-this.lastNeed;return r+this.lastChar.toString("utf16le",0,end)}return r}function base64Text(buf,i){var n=(buf.length-i)%3;if(n===0)return buf.toString("base64",i);this.lastNeed=3-n;this.lastTotal=3;if(n===1){this.lastChar[0]=buf[buf.length-1]}else{this.lastChar[0]=buf[buf.length-2];this.lastChar[1]=buf[buf.length-1]}return buf.toString("base64",i,buf.length-n)}function base64End(buf){var r=buf&&buf.length?this.write(buf):"";if(this.lastNeed)return r+this.lastChar.toString("base64",0,3-this.lastNeed);return r}function simpleWrite(buf){return buf.toString(this.encoding)}function simpleEnd(buf){return buf&&buf.length?this.write(buf):""}},{"safe-buffer":449}],443:[function(require,module,exports){module.exports=require("./readable").PassThrough},{"./readable":444}],444:[function(require,module,exports){exports=module.exports=require("./lib/_stream_readable.js");exports.Stream=exports;exports.Readable=exports;exports.Writable=require("./lib/_stream_writable.js");exports.Duplex=require("./lib/_stream_duplex.js");exports.Transform=require("./lib/_stream_transform.js");exports.PassThrough=require("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":433,"./lib/_stream_passthrough.js":434,"./lib/_stream_readable.js":435,"./lib/_stream_transform.js":436,"./lib/_stream_writable.js":437}],445:[function(require,module,exports){module.exports=require("./readable").Transform},{"./readable":444}],446:[function(require,module,exports){module.exports=require("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":437}],447:[function(require,module,exports){var runtime=function(exports){"use strict";var Op=Object.prototype;var hasOwn=Op.hasOwnProperty;var undefined;var $Symbol=typeof Symbol==="function"?Symbol:{};var iteratorSymbol=$Symbol.iterator||"@@iterator";var asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator";var toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator;var generator=Object.create(protoGenerator.prototype);var context=new Context(tryLocsList||[]);generator._invoke=makeInvokeMethod(innerFn,self,context);return generator}exports.wrap=wrap;function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}var GenStateSuspendedStart="suspendedStart";var GenStateSuspendedYield="suspendedYield";var GenStateExecuting="executing";var GenStateCompleted="completed";var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};IteratorPrototype[iteratorSymbol]=function(){return this};var getProto=Object.getPrototypeOf;var NativeIteratorPrototype=getProto&&getProto(getProto(values([])));if(NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)){IteratorPrototype=NativeIteratorPrototype}var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);GeneratorFunction.prototype=Gp.constructor=GeneratorFunctionPrototype;GeneratorFunctionPrototype.constructor=GeneratorFunction;GeneratorFunctionPrototype[toStringTagSymbol]=GeneratorFunction.displayName="GeneratorFunction";function defineIteratorMethods(prototype){["next","throw","return"].forEach(function(method){prototype[method]=function(arg){return this._invoke(method,arg)}})}exports.isGeneratorFunction=function(genFun){var ctor=typeof genFun==="function"&&genFun.constructor;return ctor?ctor===GeneratorFunction||(ctor.displayName||ctor.name)==="GeneratorFunction":false};exports.mark=function(genFun){if(Object.setPrototypeOf){Object.setPrototypeOf(genFun,GeneratorFunctionPrototype)}else{genFun.__proto__=GeneratorFunctionPrototype;if(!(toStringTagSymbol in genFun)){genFun[toStringTagSymbol]="GeneratorFunction"}}genFun.prototype=Object.create(Gp);return genFun};exports.awrap=function(arg){return{__await:arg}};function AsyncIterator(generator){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if(record.type==="throw"){reject(record.arg)}else{var result=record.arg;var value=result.value;if(value&&typeof value==="object"&&hasOwn.call(value,"__await")){return Promise.resolve(value.__await).then(function(value){invoke("next",value,resolve,reject)},function(err){invoke("throw",err,resolve,reject)})}return Promise.resolve(value).then(function(unwrapped){result.value=unwrapped;resolve(result)},function(error){return invoke("throw",error,resolve,reject)})}}var previousPromise;function enqueue(method,arg){function callInvokeWithMethodAndArg(){return new Promise(function(resolve,reject){invoke(method,arg,resolve,reject)})}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}this._invoke=enqueue}defineIteratorMethods(AsyncIterator.prototype);AsyncIterator.prototype[asyncIteratorSymbol]=function(){return this};exports.AsyncIterator=AsyncIterator;exports.async=function(innerFn,outerFn,self,tryLocsList){var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList));return exports.isGeneratorFunction(outerFn)?iter:iter.next().then(function(result){return result.done?result.value:iter.next()})};function makeInvokeMethod(innerFn,self,context){var state=GenStateSuspendedStart;return function invoke(method,arg){if(state===GenStateExecuting){throw new Error("Generator is already running")}if(state===GenStateCompleted){if(method==="throw"){throw arg}return doneResult()}context.method=method;context.arg=arg;while(true){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if(context.method==="next"){context.sent=context._sent=context.arg}else if(context.method==="throw"){if(state===GenStateSuspendedStart){state=GenStateCompleted;throw context.arg}context.dispatchException(context.arg)}else if(context.method==="return"){context.abrupt("return",context.arg)}state=GenStateExecuting;var record=tryCatch(innerFn,self,context);if(record.type==="normal"){state=context.done?GenStateCompleted:GenStateSuspendedYield;if(record.arg===ContinueSentinel){continue}return{value:record.arg,done:context.done}}else if(record.type==="throw"){state=GenStateCompleted;context.method="throw";context.arg=record.arg}}}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(method===undefined){context.delegate=null;if(context.method==="throw"){if(delegate.iterator["return"]){context.method="return";context.arg=undefined;maybeInvokeDelegate(delegate,context);if(context.method==="throw"){return ContinueSentinel}}context.method="throw";context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if(record.type==="throw"){context.method="throw";context.arg=record.arg;context.delegate=null;return ContinueSentinel}var info=record.arg;if(!info){context.method="throw";context.arg=new TypeError("iterator result is not an object");context.delegate=null;return ContinueSentinel}if(info.done){context[delegate.resultName]=info.value;context.next=delegate.nextLoc;if(context.method!=="return"){context.method="next";context.arg=undefined}}else{return info}context.delegate=null;return ContinueSentinel}defineIteratorMethods(Gp);Gp[toStringTagSymbol]="Generator";Gp[iteratorSymbol]=function(){return this};Gp.toString=function(){return"[object Generator]"};function pushTryEntry(locs){var entry={tryLoc:locs[0]};if(1 in locs){entry.catchLoc=locs[1]}if(2 in locs){entry.finallyLoc=locs[2];entry.afterLoc=locs[3]}this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal";delete record.arg;entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}];tryLocsList.forEach(pushTryEntry,this);this.reset(true)}exports.keys=function(object){var keys=[];for(var key in object){keys.push(key)}keys.reverse();return function next(){while(keys.length){var key=keys.pop();if(key in object){next.value=key;next.done=false;return next}}next.done=true;return next}};function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod){return iteratorMethod.call(iterable)}if(typeof iterable.next==="function"){return iterable}if(!isNaN(iterable.length)){var i=-1,next=function next(){while(++i<iterable.length){if(hasOwn.call(iterable,i)){next.value=iterable[i];next.done=false;return next}}next.value=undefined;next.done=true;return next};return next.next=next}}return{next:doneResult}}exports.values=values;function doneResult(){return{value:undefined,done:true}}Context.prototype={constructor:Context,reset:function(skipTempReset){this.prev=0;this.next=0;this.sent=this._sent=undefined;this.done=false;this.delegate=null;this.method="next";this.arg=undefined;this.tryEntries.forEach(resetTryEntry);if(!skipTempReset){for(var name in this){if(name.charAt(0)==="t"&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))){this[name]=undefined}}}},stop:function(){this.done=true;var rootEntry=this.tryEntries[0];var rootRecord=rootEntry.completion;if(rootRecord.type==="throw"){throw rootRecord.arg}return this.rval},dispatchException:function(exception){if(this.done){throw exception}var context=this;function handle(loc,caught){record.type="throw";record.arg=exception;context.next=loc;if(caught){context.method="next";context.arg=undefined}return!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];var record=entry.completion;if(entry.tryLoc==="root"){return handle("end")}if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc");var hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc){return handle(entry.catchLoc,true)}else if(this.prev<entry.finallyLoc){return handle(entry.finallyLoc)}}else if(hasCatch){if(this.prev<entry.catchLoc){return handle(entry.catchLoc,true)}}else if(hasFinally){if(this.prev<entry.finallyLoc){return handle(entry.finallyLoc)}}else{throw new Error("try statement without catch or finally")}}}},abrupt:function(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}if(finallyEntry&&(type==="break"||type==="continue")&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc){finallyEntry=null}var record=finallyEntry?finallyEntry.completion:{};record.type=type;record.arg=arg;if(finallyEntry){this.method="next";this.next=finallyEntry.finallyLoc;return ContinueSentinel}return this.complete(record)},complete:function(record,afterLoc){if(record.type==="throw"){throw record.arg}if(record.type==="break"||record.type==="continue"){this.next=record.arg}else if(record.type==="return"){this.rval=this.arg=record.arg;this.method="return";this.next="end"}else if(record.type==="normal"&&afterLoc){this.next=afterLoc}return ContinueSentinel},finish:function(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc){this.complete(entry.completion,entry.afterLoc);resetTryEntry(entry);return ContinueSentinel}}},catch:function(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if(record.type==="throw"){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function(iterable,resultName,nextLoc){this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc};if(this.method==="next"){this.arg=undefined}return ContinueSentinel}};return exports}(typeof module==="object"?module.exports:{});try{regeneratorRuntime=runtime}catch(accidentalStrictMode){Function("r","regeneratorRuntime = r")(runtime)}},{}],448:[function(require,module,exports){"use strict";module.exports=function removeItems(arr,startIdx,removeCount){var i,length=arr.length;if(startIdx>=length||removeCount===0){return}removeCount=startIdx+removeCount>length?length-startIdx:removeCount;var len=length-removeCount;for(i=startIdx;i<len;++i){arr[i]=arr[i+removeCount]}arr.length=len}},{}],449:[function(require,module,exports){var buffer=require("buffer");var Buffer=buffer.Buffer;function copyProps(src,dst){for(var key in src){dst[key]=src[key]}}if(Buffer.from&&Buffer.alloc&&Buffer.allocUnsafe&&Buffer.allocUnsafeSlow){module.exports=buffer}else{copyProps(buffer,exports);exports.Buffer=SafeBuffer}function SafeBuffer(arg,encodingOrOffset,length){return Buffer(arg,encodingOrOffset,length)}copyProps(Buffer,SafeBuffer);SafeBuffer.from=function(arg,encodingOrOffset,length){if(typeof arg==="number"){throw new TypeError("Argument must not be a number")}return Buffer(arg,encodingOrOffset,length)};SafeBuffer.alloc=function(size,fill,encoding){if(typeof size!=="number"){throw new TypeError("Argument must be a number")}var buf=Buffer(size);if(fill!==undefined){if(typeof encoding==="string"){buf.fill(fill,encoding)}else{buf.fill(fill)}}else{buf.fill(0)}return buf};SafeBuffer.allocUnsafe=function(size){if(typeof size!=="number"){throw new TypeError("Argument must be a number")}return Buffer(size)};SafeBuffer.allocUnsafeSlow=function(size){if(typeof size!=="number"){throw new TypeError("Argument must be a number")}return buffer.SlowBuffer(size)}},{buffer:30}],450:[function(require,module,exports){module.exports=SafeParseCallback;function SafeParseCallback(obj,reviver,callback){if(arguments.length===2){callback=reviver;reviver=null}var json;try{json=JSON.parse(obj,reviver)}catch(err){return callback(err)}callback(null,json)}},{}],451:[function(require,module,exports){module.exports=scrollToAnchor;function scrollToAnchor(anchor,options){if(anchor){try{var el=document.querySelector(anchor);if(el)el.scrollIntoView(options)}catch(e){}}}},{}],452:[function(require,module,exports){(function(Buffer){module.exports=Peer;var debug=require("debug")("simple-peer");var extend=require("xtend/mutable");var hat=require("hat");var inherits=require("inherits");var isTypedArray=require("is-typedarray");var once=require("once");var stream=require("stream");var toBuffer=require("typedarray-to-buffer");var wrtc;try{wrtc=require("wrtc")}catch(err){wrtc={}}var RTCPeerConnection=typeof window!=="undefined"?window.mozRTCPeerConnection||window.RTCPeerConnection||window.webkitRTCPeerConnection:wrtc.RTCPeerConnection;var RTCSessionDescription=typeof window!=="undefined"?window.mozRTCSessionDescription||window.RTCSessionDescription||window.webkitRTCSessionDescription:wrtc.RTCSessionDescription;var RTCIceCandidate=typeof window!=="undefined"?window.mozRTCIceCandidate||window.RTCIceCandidate||window.webkitRTCIceCandidate:wrtc.RTCIceCandidate;inherits(Peer,stream.Duplex);function Peer(opts){var self=this;if(!(self instanceof Peer))return new Peer(opts);if(!opts)opts={};opts.allowHalfOpen=false;stream.Duplex.call(self,opts);extend(self,{initiator:false,stream:false,config:Peer.config,constraints:Peer.constraints,channelName:opts&&opts.initiator?hat(160):null,trickle:true},opts);if(typeof RTCPeerConnection!=="function"){if(typeof window==="undefined"){throw new Error("Missing WebRTC support - was `wrtc` dependency installed?")}else{throw new Error("Missing WebRTC support - is this a supported browser?")}}self._debug("new peer (initiator: %s)",self.initiator);self.destroyed=false;self.connected=false;self._pcReady=false;self._channelReady=false;self._iceComplete=false;self._channel=null;self._buffer=[];self._pc=new RTCPeerConnection(self.config,self.constraints);self._pc.oniceconnectionstatechange=self._onIceConnectionStateChange.bind(self);self._pc.onsignalingstatechange=self._onSignalingStateChange.bind(self);self._pc.onicecandidate=self._onIceCandidate.bind(self);if(self.stream)self._setupVideo(self.stream);self._pc.onaddstream=self._onAddStream.bind(self);if(self.initiator){self._setupData({channel:self._pc.createDataChannel(self.channelName)});self._pc.onnegotiationneeded=once(self._createOffer.bind(self));if(typeof window==="undefined"||!window.webkitRTCPeerConnection){self._pc.onnegotiationneeded()}}else{self._pc.ondatachannel=self._setupData.bind(self)}self.on("finish",function(){if(self.connected){setTimeout(function(){self._destroy()},100)}else{self.once("connect",function(){setTimeout(function(){self._destroy()},100)})}})}Peer.config={iceServers:[{url:"stun:23.21.150.121",urls:"stun:23.21.150.121"}]};Peer.constraints={};Peer.prototype.send=function(chunk,cb){var self=this;if(!cb)cb=noop;self._write(chunk,undefined,cb)};Peer.prototype.signal=function(data){var self=this;if(self.destroyed)throw new Error("cannot signal after peer is destroyed");if(typeof data==="string"){try{data=JSON.parse(data)}catch(err){data={}}}self._debug("signal");if(data.sdp){self._pc.setRemoteDescription(new RTCSessionDescription(data),function(){if(self._pc.remoteDescription.type==="offer")self._createAnswer()},self._onError.bind(self))}if(data.candidate){try{self._pc.addIceCandidate(new RTCIceCandidate(data.candidate),noop,self._onError.bind(self))}catch(err){self._destroy(new Error("error adding candidate: "+err.message))}}if(!data.sdp&&!data.candidate){self._destroy(new Error("signal() called with invalid signal data"))}};Peer.prototype.destroy=function(onclose){var self=this;self._destroy(null,onclose)};Peer.prototype._destroy=function(err,onclose){var self=this;if(self.destroyed)return;if(onclose)self.once("close",onclose);self._debug("destroy (error: %s)",err&&err.message);self.destroyed=true;self.connected=false;self._pcReady=false;self._channelReady=false;if(self._pc){try{self._pc.close()}catch(err){}self._pc.oniceconnectionstatechange=null;self._pc.onsignalingstatechange=null;self._pc.onicecandidate=null}if(self._channel){try{self._channel.close()}catch(err){}self._channel.onmessage=null;self._channel.onopen=null;self._channel.onclose=null}self._pc=null;self._channel=null;this.readable=this.writable=false;if(!self._readableState.ended)self.push(null);if(!self._writableState.finished)self.end();if(err)self.emit("error",err);self.emit("close")};Peer.prototype._setupData=function(event){var self=this;self._channel=event.channel;self.channelName=self._channel.label;self._channel.binaryType="arraybuffer";self._channel.onmessage=self._onChannelMessage.bind(self);self._channel.onopen=self._onChannelOpen.bind(self);self._channel.onclose=self._onChannelClose.bind(self)};Peer.prototype._setupVideo=function(stream){var self=this;self._pc.addStream(stream)};Peer.prototype._read=function(){};Peer.prototype._write=function(chunk,encoding,cb){var self=this;if(self.destroyed)return cb(new Error("cannot write after peer is destroyed"));var len=chunk.length||chunk.byteLength||chunk.size;if(!self.connected){self._debug("_write before ready: length %d",len);self._buffer.push(chunk);cb(null);return}self._debug("_write: length %d",len);if(isTypedArray.strict(chunk)||chunk instanceof ArrayBuffer||typeof chunk==="string"||typeof Blob!=="undefined"&&chunk instanceof Blob){self._channel.send(chunk)}else if(Buffer.isBuffer(chunk)){self._channel.send(new Uint8Array(chunk))}else{self._channel.send(JSON.stringify(chunk))}cb(null)};Peer.prototype._createOffer=function(){var self=this;if(self.destroyed)return;self._pc.createOffer(function(offer){if(self.destroyed)return;speedHack(offer);self._pc.setLocalDescription(offer,noop,self._onError.bind(self));var sendOffer=function(){self.emit("signal",self._pc.localDescription||offer)};if(self.trickle||self._iceComplete)sendOffer();else self.once("_iceComplete",sendOffer)},self._onError.bind(self),self.offerConstraints)};Peer.prototype._createAnswer=function(){var self=this;if(self.destroyed)return;self._pc.createAnswer(function(answer){if(self.destroyed)return;speedHack(answer);self._pc.setLocalDescription(answer,noop,self._onError.bind(self));var sendAnswer=function(){self.emit("signal",self._pc.localDescription||answer)};if(self.trickle||self._iceComplete)sendAnswer();else self.once("_iceComplete",sendAnswer)},self._onError.bind(self),self.answerConstraints)};Peer.prototype._onIceConnectionStateChange=function(){var self=this;if(self.destroyed)return;var iceGatheringState=self._pc.iceGatheringState;var iceConnectionState=self._pc.iceConnectionState;self.emit("iceConnectionStateChange",iceGatheringState,iceConnectionState);self._debug("iceConnectionStateChange %s %s",iceGatheringState,iceConnectionState);if(iceConnectionState==="connected"||iceConnectionState==="completed"){self._pcReady=true;self._maybeReady()}if(iceConnectionState==="disconnected"||iceConnectionState==="closed"){self._destroy()}};Peer.prototype._maybeReady=function(){var self=this;self._debug("maybeReady pc %s channel %s",self._pcReady,self._channelReady);if(!self.connected&&self._pcReady&&self._channelReady){self.connected=true;self._buffer.forEach(function(chunk){self.send(chunk)});self._buffer=[];self._debug("connect");self.emit("connect")}};Peer.prototype._onSignalingStateChange=function(){var self=this;if(self.destroyed)return;self.emit("signalingStateChange",self._pc.signalingState);self._debug("signalingStateChange %s",self._pc.signalingState)};Peer.prototype._onIceCandidate=function(event){var self=this;if(self.destroyed)return;if(event.candidate&&self.trickle){self.emit("signal",{candidate:event.candidate})}else if(!event.candidate){self._iceComplete=true;self.emit("_iceComplete")}};Peer.prototype._onChannelMessage=function(event){var self=this;if(self.destroyed)return;var data=event.data;self._debug("on channel message: length %d",data.byteLength||data.length);if(data instanceof ArrayBuffer){data=toBuffer(new Uint8Array(data));self.push(data)}else{try{data=JSON.parse(data)}catch(err){}self.emit("data",data)}};Peer.prototype._onChannelOpen=function(){var self=this;if(self.connected||self.destroyed)return;self._debug("on channel open");self._channelReady=true;self._maybeReady()};Peer.prototype._onChannelClose=function(){var self=this;if(self.destroyed)return;self._debug("on channel close");self._destroy()};Peer.prototype._onAddStream=function(event){var self=this;if(self.destroyed)return;self._debug("on add stream");self.emit("stream",event.stream)};Peer.prototype._onError=function(err){var self=this;if(self.destroyed)return;self._debug("error %s",err.message||err);self._destroy(err)};Peer.prototype._debug=function(){var self=this;var args=[].slice.call(arguments);var id=self.channelName&&self.channelName.substring(0,7);args[0]="["+id+"] "+args[0];debug.apply(null,args)};function speedHack(obj){var s=obj.sdp.split("b=AS:30");if(s.length>1)obj.sdp=s[0]+"b=AS:1638400"+s[1]}function noop(){}}).call(this,{isBuffer:require("../is-buffer/index.js")})},{"../is-buffer/index.js":392,debug:379,hat:387,inherits:391,"is-typedarray":453,once:426,stream:459,"typedarray-to-buffer":463,wrtc:28,"xtend/mutable":471}],453:[function(require,module,exports){module.exports=isTypedArray;isTypedArray.strict=isStrictTypedArray;isTypedArray.loose=isLooseTypedArray;var toString=Object.prototype.toString;var names={"[object Int8Array]":true,"[object Int16Array]":true,"[object Int32Array]":true,"[object Uint8Array]":true,"[object Uint16Array]":true,"[object Uint32Array]":true,"[object Float32Array]":true,"[object Float64Array]":true};function isTypedArray(arr){return isStrictTypedArray(arr)||isLooseTypedArray(arr)}function isStrictTypedArray(arr){return arr instanceof Int8Array||arr instanceof Int16Array||arr instanceof Int32Array||arr instanceof Uint8Array||arr instanceof Uint16Array||arr instanceof Uint32Array||arr instanceof Float32Array||arr instanceof Float64Array}function isLooseTypedArray(arr){return names[toString.call(arr)]}},{}],454:[function(require,module,exports){"use strict";var isArrayish=require("is-arrayish");var concat=Array.prototype.concat;var slice=Array.prototype.slice;var swizzle=module.exports=function swizzle(args){var results=[];for(var i=0,len=args.length;i<len;i++){var arg=args[i];if(isArrayish(arg)){results=concat.call(results,slice.call(arg))}else{results.push(arg)}}return results};swizzle.wrap=function(fn){return function(){return fn(swizzle(arguments))}}},{"is-arrayish":455}],455:[function(require,module,exports){module.exports=function isArrayish(obj){if(!obj||typeof obj==="string"){return false}return obj instanceof Array||Array.isArray(obj)||obj.length>=0&&(obj.splice instanceof Function||Object.getOwnPropertyDescriptor(obj,obj.length-1)&&obj.constructor.name!=="String")}},{}],456:[function(require,module,exports){var events=require("events");var inherits=require("inherits");var extend=require("xtend/mutable");var SimplePeer=require("simple-peer");var EventEmitter=events.EventEmitter;function SocketPeer(opts){var self=this;if(!(self instanceof SocketPeer)){return new SocketPeer(opts)}opts=opts||{};EventEmitter.call(self);self._connections={socket:{success:0,error:0,attempt:0},rtc:{success:0,error:0,attempt:0}};self.peer=null;self.rtcConnected=false;self.socketConnected=false;extend(self,{pairCode:"pairCode"in opts?opts.pairCode:null,socketFallback:"socketFallback"in opts?opts.socketFallback:true,socket:"socket"in opts?opts.socket:null,stream:"stream"in opts?opts.stream:null,url:"url"in opts?opts.url:"http://localhost",reconnect:"reconnect"in opts?opts.reconnect:true,reconnectDelay:"reconnectDelay"in opts?opts.reconnectDelay:1e3,timeout:"timeout"in opts?opts.timeout:0,autoconnect:"autoconnect"in opts?opts.autoconnect:true},opts);self._debug("New peer");self.on("peer.found",function(data){self.socketConnected=true;clearTimeout(self._socketConnectTimeout);clearTimeout(self._socketReconnectDelayTimeout);self._connections.socket.attempt=0;self._connections.socket.success++;self.emit("connect");if(self._connections.socket.success>0){self.emit("reconnect")}self.initiator=data.initiator;if(data.initiator){self._send("rtc.connect");self._rtcInit()}});self.on("rtc.signal",self._rtcSignal);self.on("rtc.connect",function(){self._rtcInit()});self.on("busy",function(){self._socketError(new Error('Pair code "'+self.pairCode+'" already in use'));self.socket.close()});if(self.autoconnect){setTimeout(function(){self.connect()},0)}}inherits(SocketPeer,EventEmitter);SocketPeer.prototype.pair=function(pairCode){var self=this;if(typeof pairCode!=="undefined"){self.pairCode=pairCode}self._send("pair",self.pairCode)};SocketPeer.prototype.connect=function(){var self=this;self._connections.socket.attempt++;if(self.socketConnected){console.warn("Socket already connected");return}if(self.timeout){self._socketConnectTimeout=setTimeout(function(){self.socket.close();var err=new Error("Connection timeout after "+self.timeout+" ms");self.emit("connect_timeout",err);self._socketError(err)},self.timeout)}self.socket=new WebSocket(self.url.replace(/^http/,"ws"));self.socket.onopen=function(){self.pair()};self.socket.onerror=function(event){self._socketError(new Error(event.data||"Unexpected WebSocket error"))};self.socket.onmessage=function(event){var obj={};try{obj=JSON.parse(event.data)}catch(e){self.emit(new Error("Expected JSON-formatted WebSocket message"))}if(obj.type==="data"){self.emit("data",obj.data)}else{self.emit(obj.type,obj.data)}};self.socket.onclose=function(){self.socketConnected=false;self._debug("close");if(self.reconnect){var delay=self._calcReconnectTimeout(self._connections.socket.attempt);clearTimeout(self._socketReconnectDelayTimeout);self._socketReconnectDelayTimeout=setTimeout(function(){self.connect()},delay)}};self.emit("connect_attempt");if(self._connections.socket.success>0){self.emit("reconnect_attempt")}};SocketPeer.prototype._socketError=function(err){var self=this;self._connections.socket.error++;self.emit("error",err);self.emit("connect_error",err);if(self._connections.socket.success>0){self.emit("reconnect_error")}};SocketPeer.prototype._calcReconnectTimeout=function(attempts){var self=this;return Math.min(Math.pow(2,attempts)*self.reconnectDelay,3e4)};SocketPeer.prototype._rtcInit=function(){var self=this;if(self.rtcConnected){console.warn("WebRTC peer already connected");return}self.peer=new SimplePeer({initiator:self.initiator,stream:self.stream});self.peer.on("connect",function(){clearTimeout(self._rtcReconnectTimeout);self._connections.rtc.success++;self._connections.rtc.attempt=0;self.rtcConnected=true;self.emit("upgrade")});self.peer.on("stream",function(stream){self.emit("stream",stream)});self.peer.on("error",function(err){self._connections.rtc.error++;self.emit("upgrade_error",err);self.emit("error",err)});self.peer.on("signal",function(data){if(self.rtcConnected){return}self._send("rtc.signal",data)});self.peer.on("data",function(data){self.emit("data",data)});self.peer.on("close",function(data){self.destroyPeer();if(self.socketConnected){if(self.reconnect&&self.initiator){var delay=self._calcReconnectTimeout(self._connections.rtc.attempt);clearTimeout(self._rtcReconnectTimeout);self._rtcReconnectTimeout=setTimeout(function(){self._send("rtc.connect");self._rtcInit()},delay)}}self.emit("downgrade")});self._connections.rtc.attempt++;self.emit("upgrade_attempt")};SocketPeer.prototype._rtcSignal=function(data){var self=this;if(!self.rtcConnected&&self.peer&&!self.peer.destroyed){self.peer.signal(data)}};SocketPeer.prototype._send=function(type,data){var self=this;if(!self.socket){console.warn("Attempted to send message when socket was closed: %s",type);return}data=JSON.stringify({type:type,data:data});self._debug("_send",data);self.socket.send(data)};SocketPeer.prototype.send=function(data){var self=this;if(self.rtcConnected){self.peer.send(data)}else{self._send("data",data)}};SocketPeer.prototype.close=function(){var self=this;self.destroyPeer();if(self.socket){self.socket.close()}};SocketPeer.prototype.destroy=function(){var self=this;self.reconnect=false;self.close();self.peer=null;self.socket=null;self.socketConnected=false;self.rtcConnected=false;clearTimeout(self._socketConnectTimeout);clearTimeout(self._socketReconnectDelayTimeout);clearTimeout(self._rtcReconnectTimeout)};SocketPeer.prototype.destroyPeer=function(){var self=this;if(self.peer){self.peer.destroy()}self.peer=null;self.rtcConnected=false};SocketPeer.prototype._debug=function(){var self=this;var args=Array.prototype.slice.call(arguments);args[0]="["+self.pairCode+"] "+args[0];console.log.apply(console,args)};module.exports=SocketPeer},{events:29,inherits:391,"simple-peer":452,"xtend/mutable":471}],457:[function(require,module,exports){var fastSafeStringify=require("fast-safe-stringify");var copy=require("copy-text-to-clipboard");function tryStringify(obj){try{return JSON.stringify(obj)}catch(e){}}function stateCopy(obj){var str=tryStringify(obj)||fastSafeStringify(obj);copy(str)}module.exports=stateCopy},{"copy-text-to-clipboard":52,"fast-safe-stringify":458}],458:[function(require,module,exports){module.exports=stringify;stringify.default=stringify;function stringify(obj){decirc(obj,"",[],null);return JSON.stringify(obj)}function Circle(val,k,parent){this.val=val;this.k=k;this.parent=parent;this.count=1}Circle.prototype.toJSON=function toJSON(){if(--this.count===0){this.parent[this.k]=this.val}return"[Circular]"};function decirc(val,k,stack,parent){if(typeof val==="object"&&val!==null){if(typeof val.toJSON==="function"){if(val instanceof Circle){val.count++;return}if(val.toJSON.forceDecirc===undefined){return}}for(var i=0;i<stack.length;i++){if(stack[i]===val){parent[k]=new Circle(val,k,parent);return}}stack.push(val);for(var key in val){if(Object.prototype.hasOwnProperty.call(val,key)){decirc(val[key],key,stack,val)}}stack.pop()}}},{}],459:[function(require,module,exports){module.exports=Stream;var EE=require("events").EventEmitter;var inherits=require("inherits");inherits(Stream,EE);Stream.Readable=require("readable-stream/readable.js");Stream.Writable=require("readable-stream/writable.js");Stream.Duplex=require("readable-stream/duplex.js");Stream.Transform=require("readable-stream/transform.js");Stream.PassThrough=require("readable-stream/passthrough.js");Stream.Stream=Stream;function Stream(){EE.call(this)}Stream.prototype.pipe=function(dest,options){var source=this;function ondata(chunk){if(dest.writable){if(false===dest.write(chunk)&&source.pause){source.pause()}}}source.on("data",ondata);function ondrain(){if(source.readable&&source.resume){source.resume()}}dest.on("drain",ondrain);if(!dest._isStdio&&(!options||options.end!==false)){source.on("end",onend);source.on("close",onclose)}var didOnEnd=false;function onend(){if(didOnEnd)return;didOnEnd=true;dest.end()}function onclose(){if(didOnEnd)return;didOnEnd=true;if(typeof dest.destroy==="function")dest.destroy()}function onerror(er){cleanup();if(EE.listenerCount(this,"error")===0){throw er}}source.on("error",onerror);dest.on("error",onerror);function cleanup(){source.removeListener("data",ondata);dest.removeListener("drain",ondrain);source.removeListener("end",onend);source.removeListener("close",onclose);source.removeListener("error",onerror);dest.removeListener("error",onerror);source.removeListener("end",cleanup);source.removeListener("close",cleanup);dest.removeListener("close",cleanup)}source.on("end",cleanup);source.on("close",cleanup);dest.on("close",cleanup);dest.emit("pipe",source);return dest}},{events:29,inherits:391,"readable-stream/duplex.js":432,"readable-stream/passthrough.js":443,"readable-stream/readable.js":444,"readable-stream/transform.js":445,"readable-stream/writable.js":446}],460:[function(require,module,exports){(function(setImmediate,clearImmediate){var nextTick=require("process/browser.js").nextTick;var apply=Function.prototype.apply;var slice=Array.prototype.slice;var immediateIds={};var nextImmediateId=0;exports.setTimeout=function(){return new Timeout(apply.call(setTimeout,window,arguments),clearTimeout)};exports.setInterval=function(){return new Timeout(apply.call(setInterval,window,arguments),clearInterval)};exports.clearTimeout=exports.clearInterval=function(timeout){timeout.close()};function Timeout(id,clearFn){this._id=id;this._clearFn=clearFn}Timeout.prototype.unref=Timeout.prototype.ref=function(){};Timeout.prototype.close=function(){this._clearFn.call(window,this._id)};exports.enroll=function(item,msecs){clearTimeout(item._idleTimeoutId);item._idleTimeout=msecs};exports.unenroll=function(item){clearTimeout(item._idleTimeoutId);item._idleTimeout=-1};exports._unrefActive=exports.active=function(item){clearTimeout(item._idleTimeoutId);var msecs=item._idleTimeout;if(msecs>=0){item._idleTimeoutId=setTimeout(function onTimeout(){if(item._onTimeout)item._onTimeout()},msecs)}};exports.setImmediate=typeof setImmediate==="function"?setImmediate:function(fn){var id=nextImmediateId++;var args=arguments.length<2?false:slice.call(arguments,1);immediateIds[id]=true;nextTick(function onNextTick(){if(immediateIds[id]){if(args){fn.apply(null,args)}else{fn.call(null)}exports.clearImmediate(id)}});return id};exports.clearImmediate=typeof clearImmediate==="function"?clearImmediate:function(id){delete immediateIds[id]}}).call(this,require("timers").setImmediate,require("timers").clearImmediate)},{"process/browser.js":431,timers:460}],461:[function(require,module,exports){var Emitter=require("events/");var allEvents=["touchstart","touchmove","touchend","touchcancel","mousedown","mousemove","mouseup"];var ROOT={left:0,top:0};module.exports=function handler(element,opt){opt=opt||{};element=element||window;var emitter=new Emitter;emitter.target=opt.target||element;var touch=null;var filtered=opt.filtered;var events=allEvents;if(typeof opt.type==="string"){events=allEvents.filter(function(type){return type.indexOf(opt.type)===0})}var funcs=events.map(function(type){var name=normalize(type);var fn=function(ev){var client=ev;if(/^touch/.test(type)){if(/^touchend$/.test(type)&&opt.preventSimulated!==false){ev.preventDefault()}if(filtered){client=getFilteredTouch(ev,type)}else{client=getTargetTouch(ev.changedTouches,emitter.target)}}if(!client){return}var pos=offset(client,emitter.target);emitter.emit(name,ev,pos)};return{type:type,listener:fn}});emitter.enable=function enable(){funcs.forEach(listeners(element,true));return emitter};emitter.disable=function dispose(){touch=null;funcs.forEach(listeners(element,false));return emitter};emitter.enable();return emitter;function getFilteredTouch(ev,type){var client;if(touch&&/^touch(end|cancel)/.test(type)){client=getTouch(ev.changedTouches,touch.identifier||0);if(client){touch=null}}else if(!touch&&/^touchstart/.test(type)){touch=client=getTargetTouch(ev.changedTouches,emitter.target)}else if(touch){client=getTouch(ev.changedTouches,touch.identifier||0)}return client}};function offset(ev,target){var cx=ev.clientX||0;var cy=ev.clientY||0;var rect=bounds(target);return[cx-rect.left,cy-rect.top]}function getTargetTouch(touches,target){return Array.prototype.slice.call(touches).filter(function(t){return t.target===target})[0]||touches[0]}function getTouch(touches,id){for(var i=0;i<touches.length;i++){if(touches[i].identifier===id){return touches[i]}}return null}function listeners(e,enabled){return function(data){if(enabled)e.addEventListener(data.type,data.listener,{passive:false});else e.removeEventListener(data.type,data.listener,{passive:false})}}function normalize(event){return event.replace(/^(touch|mouse)/,"").replace(/up$/,"end").replace(/down$/,"start")}function bounds(element){if(element===window||element===document||element===document.body){return ROOT}else{return element.getBoundingClientRect()}}},{"events/":382}],462:[function(require,module,exports){(function(global){(this||window).Two=function(previousTwo){var root=typeof window!="undefined"?window:typeof global!="undefined"?global:null;var toString=Object.prototype.toString;var _={_indexAmount:0,natural:{slice:Array.prototype.slice,indexOf:Array.prototype.indexOf,keys:Object.keys,bind:Function.prototype.bind,create:Object.create},identity:function(value){return value},isArguments:function(obj){return toString.call(obj)==="[object Arguments]"},isFunction:function(obj){return toString.call(obj)==="[object Function]"},isString:function(obj){return toString.call(obj)==="[object String]"},isNumber:function(obj){return toString.call(obj)==="[object Number]"},isDate:function(obj){return toString.call(obj)==="[object Date]"},isRegExp:function(obj){return toString.call(obj)==="[object RegExp]"},isError:function(obj){return toString.call(obj)==="[object Error]"},isFinite:function(obj){return isFinite(obj)&&!isNaN(parseFloat(obj))},isNaN:function(obj){return _.isNumber(obj)&&obj!==+obj},isBoolean:function(obj){return obj===true||obj===false||toString.call(obj)==="[object Boolean]"},isNull:function(obj){return obj===null},isUndefined:function(obj){return obj===void 0},isEmpty:function(obj){if(obj==null)return true;if(isArrayLike&&(_.isArray(obj)||_.isString(obj)||_.isArguments(obj)))return obj.length===0;return _.keys(obj).length===0},isElement:function(obj){return!!(obj&&obj.nodeType===1)},isArray:Array.isArray||function(obj){return toString.call(obj)==="[object Array]"},isObject:function(obj){var type=typeof obj;return type==="function"||type==="object"&&!!obj},toArray:function(obj){if(!obj){return[]}if(_.isArray(obj)){return slice.call(obj)}if(isArrayLike(obj)){return _.map(obj,_.identity)}return _.values(obj)},range:function(start,stop,step){if(stop==null){stop=start||0;start=0}step=step||1;var length=Math.max(Math.ceil((stop-start)/step),0);var range=Array(length);for(var idx=0;idx<length;idx++,start+=step){range[idx]=start}return range},indexOf:function(list,item){if(!!_.natural.indexOf){return _.natural.indexOf.call(list,item)}for(var i=0;i<list.length;i++){if(list[i]===item){return i}}return-1},has:function(obj,key){return obj!=null&&hasOwnProperty.call(obj,key)},bind:function(func,ctx){var natural=_.natural.bind;if(natural&&func.bind===natural){return natural.apply(func,slice.call(arguments,1))}var args=slice.call(arguments,2);return function(){func.apply(ctx,args)}},extend:function(base){var sources=slice.call(arguments,1);for(var i=0;i<sources.length;i++){var obj=sources[i];for(var k in obj){base[k]=obj[k]}}return base},defaults:function(base){var sources=slice.call(arguments,1);for(var i=0;i<sources.length;i++){var obj=sources[i];for(var k in obj){if(base[k]===void 0){base[k]=obj[k]}}}return base},keys:function(obj){if(!_.isObject(obj)){return[]}if(_.natural.keys){return _.natural.keys(obj)}var keys=[];for(var k in obj){if(_.has(obj,k)){keys.push(k)}}return keys},values:function(obj){var keys=_.keys(obj);var values=[];for(var i=0;i<keys.length;i++){var k=keys[i];values.push(obj[k])}return values},each:function(obj,iteratee,context){var ctx=context||this;var keys=!isArrayLike(obj)&&_.keys(obj);var length=(keys||obj).length;for(var i=0;i<length;i++){var k=keys?keys[i]:i;iteratee.call(ctx,obj[k],k,obj)}return obj},map:function(obj,iteratee,context){var ctx=context||this;var keys=!isArrayLike(obj)&&_.keys(obj);var length=(keys||obj).length;var result=[];for(var i=0;i<length;i++){var k=keys?keys[i]:i;result[i]=iteratee.call(ctx,obj[k],k,obj)}return result},once:function(func){var init=false;return function(){if(!!init){return func}init=true;return func.apply(this,arguments)}},after:function(times,func){return function(){while(--times<1){return func.apply(this,arguments)}}},uniqueId:function(prefix){var id=++_._indexAmount+"";return prefix?prefix+id:id}};var sin=Math.sin,cos=Math.cos,acos=Math.acos,atan2=Math.atan2,sqrt=Math.sqrt,round=Math.round,abs=Math.abs,PI=Math.PI,TWO_PI=PI*2,HALF_PI=PI/2,pow=Math.pow,min=Math.min,max=Math.max;var count=0;var slice=_.natural.slice;var perf=root.performance&&root.performance.now?root.performance:Date;var MAX_ARRAY_INDEX=Math.pow(2,53)-1;var getLength=function(obj){return obj==null?void 0:obj["length"]};var isArrayLike=function(collection){var length=getLength(collection);return typeof length=="number"&&length>=0&&length<=MAX_ARRAY_INDEX};var dom={temp:root.document?root.document.createElement("div"):{},hasEventListeners:_.isFunction(root.addEventListener),bind:function(elem,event,func,bool){if(this.hasEventListeners){elem.addEventListener(event,func,!!bool)}else{elem.attachEvent("on"+event,func)}return dom},unbind:function(elem,event,func,bool){if(dom.hasEventListeners){elem.removeEventListeners(event,func,!!bool)}else{elem.detachEvent("on"+event,func)}return dom},getRequestAnimationFrame:function(){var lastTime=0;var vendors=["ms","moz","webkit","o"];var request=root.requestAnimationFrame,cancel;if(!request){for(var i=0;i<vendors.length;i++){request=root[vendors[i]+"RequestAnimationFrame"]||request;cancel=root[vendors[i]+"CancelAnimationFrame"]||root[vendors[i]+"CancelRequestAnimationFrame"]||cancel}request=request||function(callback,element){var currTime=(new Date).getTime();var timeToCall=Math.max(0,16-(currTime-lastTime));var id=root.setTimeout(function(){callback(currTime+timeToCall)},timeToCall);lastTime=currTime+timeToCall;return id}}request.init=_.once(loop);return request}};var Two=root.Two=function(options){var params=_.defaults(options||{},{fullscreen:false,width:640,height:480,type:Two.Types.svg,autostart:false});_.each(params,function(v,k){if(/fullscreen/i.test(k)||/autostart/i.test(k)){return}this[k]=v},this);if(_.isElement(params.domElement)){var tagName=params.domElement.tagName.toLowerCase();if(!/^(CanvasRenderer-canvas|WebGLRenderer-canvas|SVGRenderer-svg)$/.test(this.type+"-"+tagName)){this.type=Two.Types[tagName]}}this.renderer=new Two[this.type](this);Two.Utils.setPlaying.call(this,params.autostart);this.frameCount=0;if(params.fullscreen){var fitted=_.bind(fitToWindow,this);_.extend(document.body.style,{overflow:"hidden",margin:0,padding:0,top:0,left:0,right:0,bottom:0,position:"fixed"});_.extend(this.renderer.domElement.style,{display:"block",top:0,left:0,right:0,bottom:0,position:"fixed"});dom.bind(root,"resize",fitted);fitted()}else if(!_.isElement(params.domElement)){this.renderer.setSize(params.width,params.height,this.ratio);this.width=params.width;this.height=params.height}this.renderer.bind(Two.Events.resize,_.bind(updateDimensions,this));this.scene=this.renderer.scene;Two.Instances.push(this);if(params.autostart){raf.init()}};_.extend(Two,{root:root,nextFrameID:null,Array:root.Float32Array||Array,Types:{webgl:"WebGLRenderer",svg:"SVGRenderer",canvas:"CanvasRenderer"},Version:"v0.7.0-beta.3",PublishDate:"2018-12-08T22:41:43+01:00",Identifier:"two-",Events:{play:"play",pause:"pause",update:"update",render:"render",resize:"resize",change:"change",remove:"remove",insert:"insert",order:"order",load:"load"},Commands:{move:"M",line:"L",curve:"C",arc:"A",close:"Z"},Resolution:12,Instances:[],noConflict:function(){root.Two=previousTwo;return Two},uniqueId:function(){var id=count;count++;return id},Utils:_.extend(_,{performance:perf,defineProperty:function(property){var object=this;var secret="_"+property;var flag="_flag"+property.charAt(0).toUpperCase()+property.slice(1);Object.defineProperty(object,property,{enumerable:true,get:function(){return this[secret]},set:function(v){this[secret]=v;this[flag]=true}})},Image:null,isHeadless:false,shim:function(canvas,Image){Two.CanvasRenderer.Utils.shim(canvas);if(!_.isUndefined(Image)){Two.Utils.Image=Image}Two.Utils.isHeadless=true;return canvas},release:function(obj){if(!_.isObject(obj)){return}if(_.isFunction(obj.unbind)){obj.unbind()}if(obj.vertices){if(_.isFunction(obj.vertices.unbind)){obj.vertices.unbind()}_.each(obj.vertices,function(v){if(_.isFunction(v.unbind)){v.unbind()}})}if(obj.children){_.each(obj.children,function(obj){Two.Utils.release(obj)})}return obj},xhr:function(path,callback){var xhr=new XMLHttpRequest;xhr.open("GET",path);xhr.onreadystatechange=function(){if(xhr.readyState===4&&xhr.status===200){callback(xhr.responseText)}};xhr.send();return xhr},Curve:{CollinearityEpsilon:pow(10,-30),RecursionLimit:16,CuspLimit:0,Tolerance:{distance:.25,angle:0,epsilon:Number.EPSILON},abscissas:[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],weights:[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]]},devicePixelRatio:root.devicePixelRatio||1,getBackingStoreRatio:function(ctx){return ctx.webkitBackingStorePixelRatio||ctx.mozBackingStorePixelRatio||ctx.msBackingStorePixelRatio||ctx.oBackingStorePixelRatio||ctx.backingStorePixelRatio||1},getRatio:function(ctx){return Two.Utils.devicePixelRatio/getBackingStoreRatio(ctx)},setPlaying:function(b){this.playing=!!b;return this},getComputedMatrix:function(object,matrix){matrix=matrix&&matrix.identity()||new Two.Matrix;var parent=object,matrices=[];while(parent&&parent._matrix){matrices.push(parent._matrix);parent=parent.parent}matrices.reverse();for(var i=0;i<matrices.length;i++){var m=matrices[i];var e=m.elements;matrix.multiply(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9])}return matrix},deltaTransformPoint:function(matrix,x,y){var dx=x*matrix.a+y*matrix.c+0;var dy=x*matrix.b+y*matrix.d+0;return new Two.Vector(dx,dy)},decomposeMatrix:function(matrix){var px=Two.Utils.deltaTransformPoint(matrix,0,1);var py=Two.Utils.deltaTransformPoint(matrix,1,0);var skewX=180/Math.PI*Math.atan2(px.y,px.x)-90;var skewY=180/Math.PI*Math.atan2(py.y,py.x);return{translateX:matrix.e,translateY:matrix.f,scaleX:Math.sqrt(matrix.a*matrix.a+matrix.b*matrix.b),scaleY:Math.sqrt(matrix.c*matrix.c+matrix.d*matrix.d),skewX:skewX,skewY:skewY,rotation:skewX}},extractCSSText:function(text,styles){var commands,command,name,value;if(!styles){styles={}}commands=text.split(";");for(var i=0;i<commands.length;i++){command=commands[i].split(":");name=command[0];value=command[1];if(_.isUndefined(name)||_.isUndefined(value)){continue}styles[name]=value.replace(/\s/,"")}return styles},getSvgStyles:function(node){var styles={};for(var i=0;i<node.style.length;i++){var command=node.style[i];styles[command]=node.style[command]}return styles},applySvgViewBox:function(node,value){var elements=value.split(/\s/);var x=parseFloat(elements[0]);var y=parseFloat(elements[1]);var width=parseFloat(elements[2]);var height=parseFloat(elements[3]);var s=Math.min(this.width/width,this.height/height);node.translation.x-=x*s;node.translation.y-=y*s;node.scale=s;return node},applySvgAttributes:function(node,elem,parentStyles){var styles={},attributes={},extracted={},i,key,value,attr;if(root.getComputedStyle){var computedStyles=root.getComputedStyle(node);i=computedStyles.length;while(i--){key=computedStyles[i];value=computedStyles[key];if(!_.isUndefined(value)){styles[key]=value}}}for(i=0;i<node.attributes.length;i++){attr=node.attributes[i];if(/style/i.test(attr.nodeName)){Two.Utils.extractCSSText(attr.value,extracted)}else{attributes[attr.nodeName]=attr.value}}if(!_.isUndefined(styles.opacity)){styles["stroke-opacity"]=styles.opacity;styles["fill-opacity"]=styles.opacity;delete styles.opacity}if(parentStyles){_.defaults(styles,parentStyles)}_.extend(styles,attributes,extracted);styles.visible=!(_.isUndefined(styles.display)&&/none/i.test(styles.display))||_.isUndefined(styles.visibility)&&/hidden/i.test(styles.visibility);for(key in styles){value=styles[key];switch(key){case"transform":if(/none/i.test(value))break;var m=node.transform&&node.transform.baseVal&&node.transform.baseVal.length>0?node.transform.baseVal[0].matrix:node.getCTM?node.getCTM():null;if(_.isNull(m))break;var transforms=Two.Utils.decomposeMatrix(m);elem.translation.set(transforms.translateX,transforms.translateY);elem.rotation=transforms.rotation;elem.scale=new Two.Vector(transforms.scaleX,transforms.scaleY);var x=parseFloat((styles.x+"").replace("px"));var y=parseFloat((styles.y+"").replace("px"));if(x){elem.translation.x=x}if(y){elem.translation.y=y}break;case"viewBox":Two.Utils.applySvgViewBox.call(this,elem,value);break;case"visible":elem.visible=value;break;case"stroke-linecap":elem.cap=value;break;case"stroke-linejoin":elem.join=value;break;case"stroke-miterlimit":elem.miter=value;break;case"stroke-width":elem.linewidth=parseFloat(value);break;case"opacity":case"stroke-opacity":case"fill-opacity":if(!(elem instanceof Two.Group)){elem.opacity=parseFloat(value)}break;case"fill":case"stroke":if(/url\(\#.*\)/i.test(value)){elem[key]=this.getById(value.replace(/url\(\#(.*)\)/i,"$1"))}else{elem[key]=/none/i.test(value)?"transparent":value}break;case"id":elem.id=value;break;case"class":case"className":elem.classList=value.split(" ");break}}return styles},read:{svg:function(node){var svg=Two.Utils.read.g.call(this,node);var viewBox=node.getAttribute("viewBox");return svg},g:function(node){var styles,attrs;var group=new Two.Group;styles=Two.Utils.getSvgStyles.call(this,node);for(var i=0,l=node.childNodes.length;i<l;i++){var n=node.childNodes[i];var tag=n.nodeName;if(!tag)return;var tagName=tag.replace(/svg\:/gi,"").toLowerCase();if(tagName in Two.Utils.read){var o=Two.Utils.read[tagName].call(group,n,styles);group.add(o)}}return group},polygon:function(node,parentStyles){var points=node.getAttribute("points");var verts=[];points.replace(/(-?[\d\.?]+)[,|\s](-?[\d\.?]+)/g,function(match,p1,p2){verts.push(new Two.Anchor(parseFloat(p1),parseFloat(p2)))});var poly=new Two.Path(verts,true).noStroke();poly.fill="black";Two.Utils.applySvgAttributes.call(this,node,poly,parentStyles);return poly},polyline:function(node,parentStyles){var poly=Two.Utils.read.polygon.call(this,node,parentStyles);poly.closed=false;return poly},path:function(node,parentStyles){var path=node.getAttribute("d");var coord=new Two.Anchor;var control,coords;var closed=false,relative=false;var commands=path.match(/[a-df-z][^a-df-z]*/gi);var last=commands.length-1;_.each(commands.slice(0),function(command,i){var number,fid,lid,numbers,first,s;var j,k,ct,l,times;var type=command[0];var lower=type.toLowerCase();var items=command.slice(1).trim().split(/[\s,]+|(?=\s?[+\-])/);var pre,post,result=[],bin;var hasDoubleDecimals=false;for(j=0;j<items.length;j++){number=items[j];fid=number.indexOf(".");lid=number.lastIndexOf(".");if(fid!==lid){numbers=number.split(".");first=numbers[0]+"."+numbers[1];items.splice(j,1,first);for(s=2;s<numbers.length;s++){items.splice(j+s-1,0,"0."+numbers[s])}hasDoubleDecimals=true}}if(hasDoubleDecimals){command=type+items.join(",")}if(i<=0){commands=[]}switch(lower){case"h":case"v":if(items.length>1){bin=1}break;case"m":case"l":case"t":if(items.length>2){bin=2}break;case"s":case"q":if(items.length>4){bin=4}break;case"c":if(items.length>6){bin=6}break;case"a":if(items.length>7){bin=7}break}if(bin){for(j=0,l=items.length,times=0;j<l;j+=bin){ct=type;if(times>0){switch(type){case"m":ct="l";break;case"M":ct="L";break}}result.push(ct+items.slice(j,j+bin).join(" "));times++}commands=Array.prototype.concat.apply(commands,result)}else{commands.push(command)}});var points=[];_.each(commands,function(command,i){var result,x,y;var type=command[0];var lower=type.toLowerCase();coords=command.slice(1).trim();coords=coords.replace(/(-?\d+(?:\.\d*)?)[eE]([+\-]?\d+)/g,function(match,n1,n2){return parseFloat(n1)*pow(10,n2)});coords=coords.split(/[\s,]+|(?=\s?[+\-])/);relative=type===lower;var x1,y1,x2,y2,x3,y3,x4,y4,reflection;switch(lower){case"z":if(i>=last){closed=true}else{x=coord.x;y=coord.y;result=new Two.Anchor(x,y,undefined,undefined,undefined,undefined,Two.Commands.close);for(var i=points.length-1;i>=0;i--){var point=points[i];if(/m/i.test(point.command)){coord=point;break}}}break;case"m":case"l":control=undefined;x=parseFloat(coords[0]);y=parseFloat(coords[1]);result=new Two.Anchor(x,y,undefined,undefined,undefined,undefined,/m/i.test(lower)?Two.Commands.move:Two.Commands.line);if(relative){result.addSelf(coord)}coord=result;break;case"h":case"v":var a=/h/i.test(lower)?"x":"y";var b=/x/i.test(a)?"y":"x";result=new Two.Anchor(undefined,undefined,undefined,undefined,undefined,undefined,Two.Commands.line);result[a]=parseFloat(coords[0]);result[b]=coord[b];if(relative){result[a]+=coord[a]}coord=result;break;case"c":case"s":x1=coord.x;y1=coord.y;if(!control){control=new Two.Vector}if(/c/i.test(lower)){x2=parseFloat(coords[0]);y2=parseFloat(coords[1]);x3=parseFloat(coords[2]);y3=parseFloat(coords[3]);x4=parseFloat(coords[4]);y4=parseFloat(coords[5])}else{reflection=getReflection(coord,control,relative);x2=reflection.x;y2=reflection.y;x3=parseFloat(coords[0]);y3=parseFloat(coords[1]);x4=parseFloat(coords[2]);y4=parseFloat(coords[3])}if(relative){x2+=x1;y2+=y1;x3+=x1;y3+=y1;x4+=x1;y4+=y1}if(!_.isObject(coord.controls)){Two.Anchor.AppendCurveProperties(coord)}coord.controls.right.set(x2-coord.x,y2-coord.y);result=new Two.Anchor(x4,y4,x3-x4,y3-y4,undefined,undefined,Two.Commands.curve);coord=result;control=result.controls.left;break;case"t":case"q":x1=coord.x;y1=coord.y;if(!control){control=new Two.Vector}if(control.isZero()){x2=x1;y2=y1}else{x2=control.x;y2=control.y}if(/q/i.test(lower)){x3=parseFloat(coords[0]);y3=parseFloat(coords[1]);x4=parseFloat(coords[2]);y4=parseFloat(coords[3])}else{reflection=getReflection(coord,control,relative);x3=reflection.x;y3=reflection.y;x4=parseFloat(coords[0]);y4=parseFloat(coords[1])}if(relative){x2+=x1;y2+=y1;x3+=x1;y3+=y1;x4+=x1;y4+=y1}if(!_.isObject(coord.controls)){Two.Anchor.AppendCurveProperties(coord)}coord.controls.right.set(x2-coord.x,y2-coord.y);result=new Two.Anchor(x4,y4,x3-x4,y3-y4,undefined,undefined,Two.Commands.curve);coord=result;control=result.controls.left;break;case"a":x1=coord.x;y1=coord.y;var rx=parseFloat(coords[0]);var ry=parseFloat(coords[1]);var xAxisRotation=parseFloat(coords[2]);var largeArcFlag=parseFloat(coords[3]);var sweepFlag=parseFloat(coords[4]);x4=parseFloat(coords[5]);y4=parseFloat(coords[6]);if(relative){x4+=x1;y4+=y1}var anchor=new Two.Anchor(x4,y4);anchor.command=Two.Commands.arc;anchor.rx=rx;anchor.ry=ry;anchor.xAxisRotation=xAxisRotation;anchor.largeArcFlag=largeArcFlag;anchor.sweepFlag=sweepFlag;result=anchor;coord=anchor;control=undefined;break}if(result){if(_.isArray(result)){points=points.concat(result)}else{points.push(result)}}});if(points.length<=1){return}var path=new Two.Path(points,closed,undefined,true).noStroke();path.fill="black";var rect=path.getBoundingClientRect(true);rect.centroid={x:rect.left+rect.width/2,y:rect.top+rect.height/2};_.each(path.vertices,function(v){v.subSelf(rect.centroid)});path.translation.addSelf(rect.centroid);Two.Utils.applySvgAttributes.call(this,node,path,parentStyles);return path},circle:function(node,parentStyles){var x=parseFloat(node.getAttribute("cx"));var y=parseFloat(node.getAttribute("cy"));var r=parseFloat(node.getAttribute("r"));var circle=new Two.Circle(x,y,r).noStroke();circle.fill="black";Two.Utils.applySvgAttributes.call(this,node,circle,parentStyles);return circle},ellipse:function(node,parentStyles){var x=parseFloat(node.getAttribute("cx"));var y=parseFloat(node.getAttribute("cy"));var width=parseFloat(node.getAttribute("rx"));var height=parseFloat(node.getAttribute("ry"));var ellipse=new Two.Ellipse(x,y,width,height).noStroke();ellipse.fill="black";Two.Utils.applySvgAttributes.call(this,node,ellipse,parentStyles);return ellipse},rect:function(node,parentStyles){var rx=parseFloat(node.getAttribute("rx"));var ry=parseFloat(node.getAttribute("ry"));if(!_.isNaN(rx)||!_.isNaN(ry)){return Two.Utils.read["rounded-rect"](node)}var x=parseFloat(node.getAttribute("x"))||0;var y=parseFloat(node.getAttribute("y"))||0;var width=parseFloat(node.getAttribute("width"));var height=parseFloat(node.getAttribute("height"));var w2=width/2;var h2=height/2;var rect=new Two.Rectangle(x+w2,y+h2,width,height).noStroke();rect.fill="black";Two.Utils.applySvgAttributes.call(this,node,rect,parentStyles);return rect},"rounded-rect":function(node,parentStyles){var x=parseFloat(node.getAttribute("x"))||0;var y=parseFloat(node.getAttribute("y"))||0;var rx=parseFloat(node.getAttribute("rx"))||0;var ry=parseFloat(node.getAttribute("ry"))||0;var width=parseFloat(node.getAttribute("width"));var height=parseFloat(node.getAttribute("height"));var w2=width/2;var h2=height/2;var radius=new Two.Vector(rx,ry);var rect=new Two.RoundedRectangle(x+w2,y+h2,width,height,radius).noStroke();rect.fill="black";Two.Utils.applySvgAttributes.call(this,node,rect,parentStyles);return rect},line:function(node,parentStyles){var x1=parseFloat(node.getAttribute("x1"));var y1=parseFloat(node.getAttribute("y1"));var x2=parseFloat(node.getAttribute("x2"));var y2=parseFloat(node.getAttribute("y2"));var line=new Two.Line(x1,y1,x2,y2).noFill();Two.Utils.applySvgAttributes.call(this,node,line,parentStyles);return line},lineargradient:function(node,parentStyles){var x1=parseFloat(node.getAttribute("x1"));var y1=parseFloat(node.getAttribute("y1"));var x2=parseFloat(node.getAttribute("x2"));var y2=parseFloat(node.getAttribute("y2"));var ox=(x2+x1)/2;var oy=(y2+y1)/2;var stops=[];for(var i=0;i<node.children.length;i++){var child=node.children[i];var offset=parseFloat(child.getAttribute("offset"));var color=child.getAttribute("stop-color");var opacity=child.getAttribute("stop-opacity");var style=child.getAttribute("style");if(_.isNull(color)){var matches=style?style.match(/stop\-color\:\s?([\#a-fA-F0-9]*)/):false;color=matches&&matches.length>1?matches[1]:undefined}if(_.isNull(opacity)){var matches=style?style.match(/stop\-opacity\:\s?([0-9\.\-]*)/):false;opacity=matches&&matches.length>1?parseFloat(matches[1]):1}stops.push(new Two.Gradient.Stop(offset,color,opacity))}var gradient=new Two.LinearGradient(x1-ox,y1-oy,x2-ox,y2-oy,stops);Two.Utils.applySvgAttributes.call(this,node,gradient,parentStyles);return gradient},radialgradient:function(node,parentStyles){var cx=parseFloat(node.getAttribute("cx"))||0;var cy=parseFloat(node.getAttribute("cy"))||0;var r=parseFloat(node.getAttribute("r"));var fx=parseFloat(node.getAttribute("fx"));var fy=parseFloat(node.getAttribute("fy"));if(_.isNaN(fx)){fx=cx}if(_.isNaN(fy)){fy=cy}var ox=abs(cx+fx)/2;var oy=abs(cy+fy)/2;var stops=[];for(var i=0;i<node.children.length;i++){var child=node.children[i];var offset=parseFloat(child.getAttribute("offset"));var color=child.getAttribute("stop-color");var opacity=child.getAttribute("stop-opacity");var style=child.getAttribute("style");if(_.isNull(color)){var matches=style?style.match(/stop\-color\:\s?([\#a-fA-F0-9]*)/):false;color=matches&&matches.length>1?matches[1]:undefined}if(_.isNull(opacity)){var matches=style?style.match(/stop\-opacity\:\s?([0-9\.\-]*)/):false;opacity=matches&&matches.length>1?parseFloat(matches[1]):1}stops.push(new Two.Gradient.Stop(offset,color,opacity))}var gradient=new Two.RadialGradient(cx-ox,cy-oy,r,stops,fx-ox,fy-oy);Two.Utils.applySvgAttributes.call(this,node,gradient,parentStyles);return gradient}},subdivide:function(x1,y1,x2,y2,x3,y3,x4,y4,limit){limit=limit||Two.Utils.Curve.RecursionLimit;var amount=limit+1;if(abs(x1-x4)<.001&&abs(y1-y4)<.001){return[new Two.Anchor(x4,y4)]}var result=[];for(var i=0;i<amount;i++){var t=i/amount;var x=getComponentOnCubicBezier(t,x1,x2,x3,x4);var y=getComponentOnCubicBezier(t,y1,y2,y3,y4);result.push(new Two.Anchor(x,y))}return result},getComponentOnCubicBezier:function(t,a,b,c,d){var k=1-t;return k*k*k*a+3*k*k*t*b+3*k*t*t*c+t*t*t*d},getCurveLength:function(x1,y1,x2,y2,x3,y3,x4,y4,limit){if(x1===x2&&y1===y2&&x3===x4&&y3===y4){var dx=x4-x1;var dy=y4-y1;return sqrt(dx*dx+dy*dy)}var ax=9*(x2-x3)+3*(x4-x1),bx=6*(x1+x3)-12*x2,cx=3*(x2-x1),ay=9*(y2-y3)+3*(y4-y1),by=6*(y1+y3)-12*y2,cy=3*(y2-y1);var integrand=function(t){var dx=(ax*t+bx)*t+cx,dy=(ay*t+by)*t+cy;return sqrt(dx*dx+dy*dy)};return integrate(integrand,0,1,limit||Two.Utils.Curve.RecursionLimit)},getCurveBoundingBox:function(x1,y1,x2,y2,x3,y3,x4,y4){var tvalues=[];var bounds=[[],[]];var a,b,c,t,t1,t2,b2ac,sqrtb2ac;for(var i=0;i<2;++i){if(i==0){b=6*x1-12*x2+6*x3;a=-3*x1+9*x2-9*x3+3*x4;c=3*x2-3*x1}else{b=6*y1-12*y2+6*y3;a=-3*y1+9*y2-9*y3+3*y4;c=3*y2-3*y1}if(abs(a)<1e-12){if(abs(b)<1e-12){continue}t=-c/b;if(0<t&&t<1){tvalues.push(t)}continue}b2ac=b*b-4*c*a;sqrtb2ac=Math.sqrt(b2ac);if(b2ac<0){continue}t1=(-b+sqrtb2ac)/(2*a);if(0<t1&&t1<1){tvalues.push(t1)}t2=(-b-sqrtb2ac)/(2*a);if(0<t2&&t2<1){tvalues.push(t2)}}var x,y,j=tvalues.length;var jlen=j;var mt;while(j--){t=tvalues[j];mt=1-t;bounds[0][j]=mt*mt*mt*x1+3*mt*mt*t*x2+3*mt*t*t*x3+t*t*t*x4;bounds[1][j]=mt*mt*mt*y1+3*mt*mt*t*y2+3*mt*t*t*y3+t*t*t*y4}bounds[0][jlen]=x1;bounds[1][jlen]=y1;bounds[0][jlen+1]=x4;bounds[1][jlen+1]=y4;bounds[0].length=bounds[1].length=jlen+2;return{min:{x:Math.min.apply(0,bounds[0]),y:Math.min.apply(0,bounds[1])},max:{x:Math.max.apply(0,bounds[0]),y:Math.max.apply(0,bounds[1])}}},integrate:function(f,a,b,n){var x=Two.Utils.Curve.abscissas[n-2],w=Two.Utils.Curve.weights[n-2],A=.5*(b-a),B=A+a,i=0,m=n+1>>1,sum=n&1?w[i++]*f(B):0;while(i<m){var Ax=A*x[i];sum+=w[i++]*(f(B+Ax)+f(B-Ax))}return A*sum},getCurveFromPoints:function(points,closed){var l=points.length,last=l-1;for(var i=0;i<l;i++){var point=points[i];if(!_.isObject(point.controls)){Two.Anchor.AppendCurveProperties(point)}var prev=closed?mod(i-1,l):max(i-1,0);var next=closed?mod(i+1,l):min(i+1,last);var a=points[prev];var b=point;var c=points[next];getControlPoints(a,b,c);b.command=i===0?Two.Commands.move:Two.Commands.curve}},getControlPoints:function(a,b,c){var a1=Two.Vector.angleBetween(a,b);var a2=Two.Vector.angleBetween(c,b);var d1=Two.Vector.distanceBetween(a,b);var d2=Two.Vector.distanceBetween(c,b);var mid=(a1+a2)/2;if(d1<1e-4||d2<1e-4){if(_.isBoolean(b.relative)&&!b.relative){b.controls.left.copy(b);b.controls.right.copy(b)}return b}d1*=.33;d2*=.33;if(a2<a1){mid+=HALF_PI}else{mid-=HALF_PI}b.controls.left.x=cos(mid)*d1;b.controls.left.y=sin(mid)*d1;mid-=PI;b.controls.right.x=cos(mid)*d2;b.controls.right.y=sin(mid)*d2;if(_.isBoolean(b.relative)&&!b.relative){b.controls.left.x+=b.x;b.controls.left.y+=b.y;b.controls.right.x+=b.x;b.controls.right.y+=b.y}return b},getReflection:function(a,b,relative){return new Two.Vector(2*a.x-(b.x+a.x)-(relative?a.x:0),2*a.y-(b.y+a.y)-(relative?a.y:0))},getAnchorsFromArcData:function(center,xAxisRotation,rx,ry,ts,td,ccw){var matrix=(new Two.Matrix).translate(center.x,center.y).rotate(xAxisRotation);var l=Two.Resolution;return _.map(_.range(l),function(i){var pct=(i+1)/l;if(!!ccw){pct=1-pct}var theta=pct*td+ts;var x=rx*Math.cos(theta);var y=ry*Math.sin(theta);var anchor=new Two.Anchor(x,y);Two.Anchor.AppendCurveProperties(anchor);anchor.command=Two.Commands.line;return anchor})},lerp:function(a,b,t){return t*(b-a)+a},toFixed:function(v){return Math.floor(v*1e3)/1e3},mod:function(v,l){while(v<0){v+=l}return v%l},Collection:function(){Array.call(this);if(arguments.length>1){Array.prototype.push.apply(this,arguments)}else if(arguments[0]&&Array.isArray(arguments[0])){Array.prototype.push.apply(this,arguments[0])}},Error:function(message){this.name="two.js";this.message=message},Events:{on:function(name,handler){this._events||(this._events={});var list=this._events[name]||(this._events[name]=[]);list.push(handler);return this},off:function(name,handler){if(!this._events){return this}if(!name&&!handler){this._events={};return this}var names=name?[name]:_.keys(this._events);for(var i=0,l=names.length;i<l;i++){var name=names[i];var list=this._events[name];if(!!list){var events=[];if(handler){for(var j=0,k=list.length;j<k;j++){var ev=list[j];ev=ev.handler?ev.handler:ev;if(handler&&handler!==ev){events.push(ev)}}}this._events[name]=events}}return this},trigger:function(name){if(!this._events)return this;var args=slice.call(arguments,1);var events=this._events[name];if(events)trigger(this,events,args);return this},listen:function(obj,name,handler){var bound=this;if(obj){var event=function(){handler.apply(bound,arguments)};event.obj=obj;event.name=name;event.handler=handler;obj.on(name,ev)}return this},ignore:function(obj,name,handler){obj.off(name,handler);return this}}})});Two.Utils.Events.bind=Two.Utils.Events.on;Two.Utils.Events.unbind=Two.Utils.Events.off;var trigger=function(obj,events,args){var method;switch(args.length){case 0:method=function(i){events[i].call(obj,args[0])};break;case 1:method=function(i){events[i].call(obj,args[0],args[1])};break;case 2:method=function(i){events[i].call(obj,args[0],args[1],args[2])};break;case 3:method=function(i){events[i].call(obj,args[0],args[1],args[2],args[3])};break;default:method=function(i){events[i].apply(obj,args)}}for(var i=0;i<events.length;i++){method(i)}};Two.Utils.Error.prototype=new Error;Two.Utils.Error.prototype.constructor=Two.Utils.Error;Two.Utils.Collection.prototype=new Array;Two.Utils.Collection.prototype.constructor=Two.Utils.Collection;_.extend(Two.Utils.Collection.prototype,Two.Utils.Events,{pop:function(){var popped=Array.prototype.pop.apply(this,arguments);this.trigger(Two.Events.remove,[popped]);return popped},shift:function(){var shifted=Array.prototype.shift.apply(this,arguments);this.trigger(Two.Events.remove,[shifted]);return shifted},push:function(){var pushed=Array.prototype.push.apply(this,arguments);this.trigger(Two.Events.insert,arguments);return pushed},unshift:function(){var unshifted=Array.prototype.unshift.apply(this,arguments);this.trigger(Two.Events.insert,arguments);return unshifted},splice:function(){var spliced=Array.prototype.splice.apply(this,arguments);var inserted;this.trigger(Two.Events.remove,spliced);if(arguments.length>2){inserted=this.slice(arguments[0],arguments[0]+arguments.length-2);this.trigger(Two.Events.insert,inserted);this.trigger(Two.Events.order)}return spliced},sort:function(){Array.prototype.sort.apply(this,arguments);this.trigger(Two.Events.order);return this},reverse:function(){Array.prototype.reverse.apply(this,arguments);this.trigger(Two.Events.order);return this}});var getAnchorsFromArcData=Two.Utils.getAnchorsFromArcData,getControlPoints=Two.Utils.getControlPoints,getCurveFromPoints=Two.Utils.getCurveFromPoints,solveSegmentIntersection=Two.Utils.solveSegmentIntersection,decoupleShapes=Two.Utils.decoupleShapes,mod=Two.Utils.mod,getBackingStoreRatio=Two.Utils.getBackingStoreRatio,getComponentOnCubicBezier=Two.Utils.getComponentOnCubicBezier,getCurveLength=Two.Utils.getCurveLength,integrate=Two.Utils.integrate,getReflection=Two.Utils.getReflection;_.extend(Two.prototype,Two.Utils.Events,{constructor:Two,appendTo:function(elem){elem.appendChild(this.renderer.domElement);return this},play:function(){Two.Utils.setPlaying.call(this,true);raf.init();return this.trigger(Two.Events.play)},pause:function(){this.playing=false;return this.trigger(Two.Events.pause)},update:function(){var animated=!!this._lastFrame;var now=perf.now();if(animated){this.timeDelta=parseFloat((now-this._lastFrame).toFixed(3))}this._lastFrame=now;var width=this.width;var height=this.height;var renderer=this.renderer;if(width!==renderer.width||height!==renderer.height){renderer.setSize(width,height,this.ratio)}this.trigger(Two.Events.update,this.frameCount,this.timeDelta);return this.render()},render:function(){this.renderer.render();return this.trigger(Two.Events.render,this.frameCount++)},add:function(o){var objects=o;if(!(objects instanceof Array)){objects=_.toArray(arguments)}this.scene.add(objects);return this},remove:function(o){var objects=o;if(!(objects instanceof Array)){objects=_.toArray(arguments)}this.scene.remove(objects);return this},clear:function(){this.scene.remove(this.scene.children);return this},makeLine:function(x1,y1,x2,y2){var line=new Two.Line(x1,y1,x2,y2);this.scene.add(line);return line},makeRectangle:function(x,y,width,height){var rect=new Two.Rectangle(x,y,width,height);this.scene.add(rect);return rect},makeRoundedRectangle:function(x,y,width,height,sides){var rect=new Two.RoundedRectangle(x,y,width,height,sides);this.scene.add(rect);return rect},makeCircle:function(x,y,radius){var circle=new Two.Circle(x,y,radius);this.scene.add(circle);return circle},makeEllipse:function(x,y,rx,ry){var ellipse=new Two.Ellipse(x,y,rx,ry);this.scene.add(ellipse);return ellipse},makeStar:function(ox,oy,outerRadius,innerRadius,sides){var star=new Two.Star(ox,oy,outerRadius,innerRadius,sides);this.scene.add(star);return star},makeCurve:function(p){var l=arguments.length,points=p;if(!_.isArray(p)){points=[];for(var i=0;i<l;i+=2){var x=arguments[i];if(!_.isNumber(x)){break}var y=arguments[i+1];points.push(new Two.Anchor(x,y))}}var last=arguments[l-1];var curve=new Two.Path(points,!(_.isBoolean(last)?last:undefined),true);var rect=curve.getBoundingClientRect();curve.center().translation.set(rect.left+rect.width/2,rect.top+rect.height/2);this.scene.add(curve);return curve},makePolygon:function(x,y,radius,sides){var poly=new Two.Polygon(x,y,radius,sides);this.scene.add(poly);return poly},makeArcSegment:function(ox,oy,ir,or,sa,ea,res){var arcSegment=new Two.ArcSegment(ox,oy,ir,or,sa,ea,res);this.scene.add(arcSegment);return arcSegment},makePath:function(p){var l=arguments.length,points=p;if(!_.isArray(p)){points=[];for(var i=0;i<l;i+=2){var x=arguments[i];if(!_.isNumber(x)){break}var y=arguments[i+1];points.push(new Two.Anchor(x,y))}}var last=arguments[l-1];var path=new Two.Path(points,!(_.isBoolean(last)?last:undefined));var rect=path.getBoundingClientRect();path.center().translation.set(rect.left+rect.width/2,rect.top+rect.height/2);this.scene.add(path);return path},makeText:function(message,x,y,styles){var text=new Two.Text(message,x,y,styles);this.add(text);return text},makeLinearGradient:function(x1,y1,x2,y2){var stops=slice.call(arguments,4);var gradient=new Two.LinearGradient(x1,y1,x2,y2,stops);this.add(gradient);return gradient},makeRadialGradient:function(x1,y1,r){var stops=slice.call(arguments,3);var gradient=new Two.RadialGradient(x1,y1,r,stops);this.add(gradient);return gradient},makeSprite:function(path,x,y,cols,rows,frameRate,autostart){var sprite=new Two.Sprite(path,x,y,cols,rows,frameRate);if(!!autostart){sprite.play()}this.add(sprite);return sprite},makeImageSequence:function(paths,x,y,frameRate,autostart){var imageSequence=new Two.ImageSequence(paths,x,y,frameRate);if(!!autostart){imageSequence.play()}this.add(imageSequence);return imageSequence},makeTexture:function(path,callback){var texture=new Two.Texture(path,callback);return texture},makeGroup:function(o){var objects=o;if(!(objects instanceof Array)){objects=_.toArray(arguments)}var group=new Two.Group;this.scene.add(group);group.add(objects);return group},interpret:function(svgNode,shallow,add){var tag=svgNode.tagName.toLowerCase(),add=typeof add!=="undefined"?add:true;if(!(tag in Two.Utils.read)){return null}var node=Two.Utils.read[tag].call(this,svgNode);if(!!add){this.add(shallow&&node instanceof Two.Group?node.children:node)}return node},load:function(text,callback){var group=new Two.Group;var elem,i,j;var attach=_.bind(function(data){dom.temp.innerHTML=data;for(i=0;i<dom.temp.children.length;i++){elem=dom.temp.children[i];if(/svg/i.test(elem.nodeName)){for(j=0;j<elem.children.length;j++){group.add(this.interpret(elem.children[j]))}}else{group.add(this.interpret(elem))}}if(_.isFunction(callback)){var svg=dom.temp.children.length<=1?dom.temp.children[0]:dom.temp.children;callback(group,svg)}},this);if(/.*\.svg$/gi.test(text)){Two.Utils.xhr(text,attach);return group}attach(text);return group}});function fitToWindow(){var wr=document.body.getBoundingClientRect();var width=this.width=wr.width;var height=this.height=wr.height;this.renderer.setSize(width,height,this.ratio)}function updateDimensions(width,height){this.width=width;this.height=height;this.trigger(Two.Events.resize,width,height)}var raf=dom.getRequestAnimationFrame();function loop(){for(var i=0;i<Two.Instances.length;i++){var t=Two.Instances[i];if(t.playing){t.update()}}Two.nextFrameID=raf(loop)}if(typeof define==="function"&&define.amd){define("two",[],function(){return Two})}else if(typeof module!="undefined"&&module.exports){module.exports=Two}return Two}((typeof global!=="undefined"?global:this||window).Two);(function(Two){var _=Two.Utils;var Registry=Two.Registry=function(){this.map={}};_.extend(Registry.prototype,{constructor:Registry,add:function(id,obj){this.map[id]=obj;return this},remove:function(id){delete this.map[id];return this},get:function(id){return this.map[id]},contains:function(id){return id in this.map}})})((typeof global!=="undefined"?global:this||window).Two);(function(Two){var _=Two.Utils;var Vector=Two.Vector=function(x,y){this.x=x||0;this.y=y||0};_.extend(Vector,{zero:new Two.Vector,add:function(v1,v2){return new Vector(v1.x+v2.x,v1.y+v2.y)},sub:function(v1,v2){return new Vector(v1.x-v2.x,v1.y-v2.y)},subtract:function(v1,v2){return Vector.sub(v1,v2)},ratioBetween:function(v1,v2){return(v1.x*v2.x+v1.y*v2.y)/(v1.length()*v2.length())},angleBetween:function(v1,v2){var dx,dy;if(arguments.length>=4){dx=arguments[0]-arguments[2];dy=arguments[1]-arguments[3];return Math.atan2(dy,dx)}dx=v1.x-v2.x;dy=v1.y-v2.y;return Math.atan2(dy,dx)},distanceBetween:function(v1,v2){return Math.sqrt(Vector.distanceBetweenSquared(v1,v2))},distanceBetweenSquared:function(v1,v2){var dx=v1.x-v2.x;var dy=v1.y-v2.y;return dx*dx+dy*dy},MakeObservable:function(object){object.bind=object.on=function(){if(!this._bound){this._x=this.x;this._y=this.y;Object.defineProperty(this,"x",xgs);Object.defineProperty(this,"y",ygs);_.extend(this,BoundProto);this._bound=true}Two.Utils.Events.bind.apply(this,arguments);return this}}});_.extend(Vector.prototype,Two.Utils.Events,{constructor:Vector,set:function(x,y){this.x=x;this.y=y;return this},copy:function(v){this.x=v.x;this.y=v.y;return this},clear:function(){this.x=0;this.y=0;return this},clone:function(){return new Vector(this.x,this.y)},add:function(x,y){if(arguments.length<=0){return this}else if(arguments.length<=1){if(_.isNumber(x)){this.x+=x;this.y+=x}else if(x&&_.isNumber(x.x)&&_.isNumber(x.y)){this.x+=x.x;this.y+=x.y}}else{this.x+=x;this.y+=y}return this},addSelf:function(v){return this.add.apply(this,arguments)},sub:function(x,y){if(arguments.length<=0){return this}else if(arguments.length<=1){if(_.isNumber(x)){this.x-=x;this.y-=x}else if(x&&_.isNumber(x.x)&&_.isNumber(x.y)){this.x-=x.x;this.y-=x.y}}else{this.x-=x;this.y-=y}return this},subtract:function(){return this.sub.apply(this,arguments)},subSelf:function(v){return this.sub.apply(this,arguments)},subtractSelf:function(v){return this.sub.apply(this,arguments)},multiply:function(x,y){if(arguments.length<=0){return this}else if(arguments.length<=1){if(_.isNumber(x)){this.x*=x;this.y*=x}else if(x&&_.isNumber(x.x)&&_.isNumber(x.y)){this.x*=x.x;this.y*=x.y}}else{this.x*=x;this.y*=y}return this},multiplySelf:function(v){return this.multiply.apply(this,arguments)},multiplyScalar:function(s){return this.multiply(s)},divide:function(x,y){if(arguments.length<=0){return this}else if(arguments.length<=1){if(_.isNumber(x)){this.x/=x;this.y/=x}else if(x&&_.isNumber(x.x)&&_.isNumber(x.y)){this.x/=x.x;this.y/=x.y}}else{this.x/=x;this.y/=y}if(_.isNaN(this.x)){this.x=0}if(_.isNaN(this.y)){this.y=0}return this},divideSelf:function(v){return this.divide.apply(this,arguments)},divideScalar:function(s){return this.divide(s)},negate:function(){return this.multiply(-1)},dot:function(v){return this.x*v.x+this.y*v.y},length:function(){return Math.sqrt(this.lengthSquared())},lengthSquared:function(){return this.x*this.x+this.y*this.y},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(v){return Math.sqrt(this.distanceToSquared(v))},distanceToSquared:function(v){var dx=this.x-v.x,dy=this.y-v.y;return dx*dx+dy*dy},setLength:function(l){return this.normalize().multiplyScalar(l)},equals:function(v,eps){eps=typeof eps==="undefined"?1e-4:eps;return this.distanceTo(v)<eps},lerp:function(v,t){var x=(v.x-this.x)*t+this.x;var y=(v.y-this.y)*t+this.y;return this.set(x,y)},isZero:function(eps){eps=typeof eps==="undefined"?1e-4:eps;return this.length()<eps},toString:function(){return this.x+", "+this.y},toObject:function(){return{x:this.x,y:this.y}},rotate:function(radians){var cos=Math.cos(radians);var sin=Math.sin(radians);this.x=this.x*cos-this.y*sin;this.y=this.x*sin+this.y*cos;return this}});var BoundProto={constructor:Vector,set:function(x,y){this._x=x;this._y=y;return this.trigger(Two.Events.change)},copy:function(v){this._x=v.x;this._y=v.y;return this.trigger(Two.Events.change)},clear:function(){this._x=0;this._y=0;return this.trigger(Two.Events.change)},clone:function(){return new Vector(this._x,this._y)},add:function(x,y){if(arguments.length<=0){return this}else if(arguments.length<=1){if(_.isNumber(x)){this._x+=x;this._y+=x}else if(x&&_.isNumber(x.x)&&_.isNumber(x.y)){this._x+=x.x;this._y+=x.y}}else{this._x+=x;this._y+=y}return this.trigger(Two.Events.change)},sub:function(x,y){if(arguments.length<=0){return this}else if(arguments.length<=1){if(_.isNumber(x)){this._x-=x;this._y-=x}else if(x&&_.isNumber(x.x)&&_.isNumber(x.y)){this._x-=x.x;this._y-=x.y}}else{this._x-=x;this._y-=y}return this.trigger(Two.Events.change)},multiply:function(x,y){if(arguments.length<=0){return this}else if(arguments.length<=1){if(_.isNumber(x)){this._x*=x;this._y*=x}else if(x&&_.isNumber(x.x)&&_.isNumber(x.y)){this._x*=x.x;this._y*=x.y}}else{this._x*=x;this._y*=y}return this.trigger(Two.Events.change)},divide:function(x,y){if(arguments.length<=0){return this}else if(arguments.length<=1){if(_.isNumber(x)){this._x/=x;this._y/=x}else if(x&&_.isNumber(x.x)&&_.isNumber(x.y)){this._x/=x.x;this._y/=x.y}}else{this._x/=x;this._y/=y}if(_.isNaN(this._x)){this._x=0}if(_.isNaN(this._y)){this._y=0}return this.trigger(Two.Events.change)},dot:function(v){return this._x*v.x+this._y*v.y},lengthSquared:function(){return this._x*this._x+this._y*this._y},distanceToSquared:function(v){var dx=this._x-v.x,dy=this._y-v.y;return dx*dx+dy*dy},lerp:function(v,t){var x=(v.x-this._x)*t+this._x;var y=(v.y-this._y)*t+this._y;return this.set(x,y)},toString:function(){return this._x+", "+this._y},toObject:function(){return{x:this._x,y:this._y}},rotate:function(radians){var cos=Math.cos(radians);var sin=Math.sin(radians);this._x=this._x*cos-this._y*sin;this._y=this._x*sin+this._y*cos;return this}};var xgs={enumerable:true,get:function(){return this._x},set:function(v){this._x=v;this.trigger(Two.Events.change,"x")}};var ygs={enumerable:true,get:function(){return this._y},set:function(v){this._y=v;this.trigger(Two.Events.change,"y")}};Vector.MakeObservable(Vector.prototype)})((typeof global!=="undefined"?global:this||window).Two);(function(Two){var commands=Two.Commands;var _=Two.Utils;var Anchor=Two.Anchor=function(x,y,lx,ly,rx,ry,command){Two.Vector.call(this,x,y);this._broadcast=_.bind(function(){this.trigger(Two.Events.change)},this);this._command=command||commands.move;this._relative=true;var ilx=_.isNumber(lx);var ily=_.isNumber(ly);var irx=_.isNumber(rx);var iry=_.isNumber(ry);if(ilx||ily||irx||iry){Two.Anchor.AppendCurveProperties(this)}if(ilx){this.controls.left.x=lx}if(ily){this.controls.left.y=ly}if(irx){this.controls.right.x=rx}if(iry){this.controls.right.y=ry}};_.extend(Two.Anchor,{AppendCurveProperties:function(anchor){anchor.relative=true;anchor.controls={};anchor.controls.left=new Two.Vector(0,0);anchor.controls.right=new Two.Vector(0,0)},MakeObservable:function(object){Object.defineProperty(object,"command",{enumerable:true,get:function(){return this._command},set:function(c){this._command=c;if(this._command===commands.curve&&!_.isObject(this.controls)){Anchor.AppendCurveProperties(this)}return this.trigger(Two.Events.change)}});Object.defineProperty(object,"relative",{enumerable:true,get:function(){return this._relative},set:function(b){if(this._relative==b){return this}this._relative=!!b;return this.trigger(Two.Events.change)}});_.extend(object,Two.Vector.prototype,AnchorProto);object.bind=object.on=function(){var bound=this._bound;Two.Vector.prototype.bind.apply(this,arguments);if(!bound){_.extend(this,AnchorProto)}}}});var AnchorProto={constructor:Two.Anchor,listen:function(){if(!_.isObject(this.controls)){Two.Anchor.AppendCurveProperties(this)}this.controls.left.bind(Two.Events.change,this._broadcast);this.controls.right.bind(Two.Events.change,this._broadcast);return this},ignore:function(){this.controls.left.unbind(Two.Events.change,this._broadcast);this.controls.right.unbind(Two.Events.change,this._broadcast);return this},copy:function(v){this.x=v.x;this.y=v.y;if(_.isString(v.command)){this.command=v.command}if(_.isObject(v.controls)){if(!_.isObject(this.controls)){Two.Anchor.AppendCurveProperties(this)}this.controls.left.copy(v.controls.left);this.controls.right.copy(v.controls.right)}if(_.isBoolean(v.relative)){this.relative=v.relative}if(this.command===Two.Commands.arc){this.rx=v.rx;this.ry=v.ry;this.xAxisRotation=v.xAxisRotation;this.largeArcFlag=v.largeArcFlag;this.sweepFlag=v.sweepFlag}return this},clone:function(){var controls=this.controls;var clone=new Two.Anchor(this.x,this.y,controls&&controls.left.x,controls&&controls.left.y,controls&&controls.right.x,controls&&controls.right.y,this.command);clone.relative=this._relative;return clone},toObject:function(){var o={x:this.x,y:this.y};if(this._command){o.command=this._command}if(this._relative){o.relative=this._relative}if(this.controls){o.controls={left:this.controls.left.toObject(),right:this.controls.right.toObject()}}return o},toString:function(){if(!this.controls){return[this._x,this._y].join(", ")}return[this._x,this._y,this.controls.left.x,this.controls.left.y,this.controls.right.x,this.controls.right.y,this._command,this._relative?1:0].join(", ")}};Two.Anchor.MakeObservable(Two.Anchor.prototype)})((typeof global!=="undefined"?global:this||window).Two);(function(Two){var cos=Math.cos,sin=Math.sin,tan=Math.tan;var _=Two.Utils,fix=_.toFixed;var array=[];var Matrix=Two.Matrix=function(a,b,c,d,e,f){this.elements=new Two.Array(9);var elements=a;if(!_.isArray(elements)){elements=_.toArray(arguments)}this.identity();if(elements.length>0){this.set(elements)}};_.extend(Matrix,{Identity:[1,0,0,0,1,0,0,0,1],Multiply:function(A,B,C){if(B.length<=3){var x,y,z,e=A;var a=B[0]||0,b=B[1]||0,c=B[2]||0;x=e[0]*a+e[1]*b+e[2]*c;y=e[3]*a+e[4]*b+e[5]*c;z=e[6]*a+e[7]*b+e[8]*c;return{x:x,y:y,z:z}}var A0=A[0],A1=A[1],A2=A[2];var A3=A[3],A4=A[4],A5=A[5];var A6=A[6],A7=A[7],A8=A[8];var B0=B[0],B1=B[1],B2=B[2];var B3=B[3],B4=B[4],B5=B[5];var B6=B[6],B7=B[7],B8=B[8];C=C||new Two.Array(9);C[0]=A0*B0+A1*B3+A2*B6;C[1]=A0*B1+A1*B4+A2*B7;C[2]=A0*B2+A1*B5+A2*B8;C[3]=A3*B0+A4*B3+A5*B6;C[4]=A3*B1+A4*B4+A5*B7;C[5]=A3*B2+A4*B5+A5*B8;C[6]=A6*B0+A7*B3+A8*B6;C[7]=A6*B1+A7*B4+A8*B7;C[8]=A6*B2+A7*B5+A8*B8;return C}});_.extend(Matrix.prototype,Two.Utils.Events,{constructor:Matrix,manual:false,set:function(a){var elements=a;if(arguments.length>1){elements=_.toArray(arguments)}this.elements[0]=elements[0];this.elements[1]=elements[1];this.elements[2]=elements[2];this.elements[3]=elements[3];this.elements[4]=elements[4];this.elements[5]=elements[5];this.elements[6]=elements[6];this.elements[7]=elements[7];this.elements[8]=elements[8];return this.trigger(Two.Events.change)},identity:function(){this.elements[0]=Matrix.Identity[0];this.elements[1]=Matrix.Identity[1];this.elements[2]=Matrix.Identity[2];this.elements[3]=Matrix.Identity[3];this.elements[4]=Matrix.Identity[4];this.elements[5]=Matrix.Identity[5];this.elements[6]=Matrix.Identity[6];this.elements[7]=Matrix.Identity[7];this.elements[8]=Matrix.Identity[8];return this.trigger(Two.Events.change)},multiply:function(a,b,c,d,e,f,g,h,i){var elements=arguments,l=elements.length;if(l<=1){this.elements[0]*=a;this.elements[1]*=a;this.elements[2]*=a;this.elements[3]*=a;this.elements[4]*=a;this.elements[5]*=a;this.elements[6]*=a;this.elements[7]*=a;this.elements[8]*=a;return this.trigger(Two.Events.change)}if(l<=3){var x,y,z;a=a||0;b=b||0;c=c||0;e=this.elements;x=e[0]*a+e[1]*b+e[2]*c;y=e[3]*a+e[4]*b+e[5]*c;z=e[6]*a+e[7]*b+e[8]*c;return{x:x,y:y,z:z}}var A=this.elements;var B=elements;var A0=A[0],A1=A[1],A2=A[2];var A3=A[3],A4=A[4],A5=A[5];var A6=A[6],A7=A[7],A8=A[8];var B0=B[0],B1=B[1],B2=B[2];var B3=B[3],B4=B[4],B5=B[5];var B6=B[6],B7=B[7],B8=B[8];this.elements[0]=A0*B0+A1*B3+A2*B6;this.elements[1]=A0*B1+A1*B4+A2*B7;this.elements[2]=A0*B2+A1*B5+A2*B8;this.elements[3]=A3*B0+A4*B3+A5*B6;this.elements[4]=A3*B1+A4*B4+A5*B7;this.elements[5]=A3*B2+A4*B5+A5*B8;this.elements[6]=A6*B0+A7*B3+A8*B6;this.elements[7]=A6*B1+A7*B4+A8*B7;this.elements[8]=A6*B2+A7*B5+A8*B8;return this.trigger(Two.Events.change)},inverse:function(out){var a=this.elements;out=out||new Two.Matrix;var a00=a[0],a01=a[1],a02=a[2];var a10=a[3],a11=a[4],a12=a[5];var a20=a[6],a21=a[7],a22=a[8];var b01=a22*a11-a12*a21;var b11=-a22*a10+a12*a20;var b21=a21*a10-a11*a20;var det=a00*b01+a01*b11+a02*b21;if(!det){return null}det=1/det;out.elements[0]=b01*det;out.elements[1]=(-a22*a01+a02*a21)*det;out.elements[2]=(a12*a01-a02*a11)*det;out.elements[3]=b11*det;out.elements[4]=(a22*a00-a02*a20)*det;out.elements[5]=(-a12*a00+a02*a10)*det;out.elements[6]=b21*det;out.elements[7]=(-a21*a00+a01*a20)*det;out.elements[8]=(a11*a00-a01*a10)*det;return out},scale:function(sx,sy){var l=arguments.length;if(l<=1){sy=sx}return this.multiply(sx,0,0,0,sy,0,0,0,1)},rotate:function(radians){var c=cos(radians);var s=sin(radians);return this.multiply(c,-s,0,s,c,0,0,0,1)},translate:function(x,y){return this.multiply(1,0,x,0,1,y,0,0,1)},skewX:function(radians){var a=tan(radians);return this.multiply(1,a,0,0,1,0,0,0,1)},skewY:function(radians){var a=tan(radians);return this.multiply(1,0,0,a,1,0,0,0,1)},toString:function(fullMatrix){array.length=0;this.toArray(fullMatrix,array);return array.join(" ")},toArray:function(fullMatrix,output){var elements=this.elements;var hasOutput=!!output;var a=fix(elements[0]);var b=fix(elements[1]);var c=fix(elements[2]);var d=fix(elements[3]);var e=fix(elements[4]);var f=fix(elements[5]);if(!!fullMatrix){var g=fix(elements[6]);var h=fix(elements[7]);var i=fix(elements[8]);if(hasOutput){output[0]=a;output[1]=d;output[2]=g;output[3]=b;output[4]=e;output[5]=h;output[6]=c;output[7]=f;output[8]=i;return}return[a,d,g,b,e,h,c,f,i]}if(hasOutput){output[0]=a;output[1]=d;output[2]=b;output[3]=e;output[4]=c;output[5]=f;return}return[a,d,b,e,c,f]},clone:function(){var a,b,c,d,e,f,g,h,i;a=this.elements[0];b=this.elements[1];c=this.elements[2];d=this.elements[3];e=this.elements[4];f=this.elements[5];g=this.elements[6];h=this.elements[7];i=this.elements[8];var matrix=new Two.Matrix(a,b,c,d,e,f,g,h,i);matrix.manual=this.manual;return matrix}})})((typeof global!=="undefined"?global:this||window).Two);(function(Two){var mod=Two.Utils.mod,toFixed=Two.Utils.toFixed;var _=Two.Utils;var svg={version:1.1,ns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",alignments:{left:"start",center:"middle",right:"end"},createElement:function(name,attrs){var tag=name;var elem=document.createElementNS(svg.ns,tag);if(tag==="svg"){attrs=_.defaults(attrs||{},{version:svg.version})}if(!_.isEmpty(attrs)){svg.setAttributes(elem,attrs)}return elem},setAttributes:function(elem,attrs){var keys=Object.keys(attrs);for(var i=0;i<keys.length;i++){if(/href/.test(keys[i])){elem.setAttributeNS(svg.xlink,keys[i],attrs[keys[i]])}else{elem.setAttribute(keys[i],attrs[keys[i]])}}return this},removeAttributes:function(elem,attrs){for(var key in attrs){elem.removeAttribute(key)}return this},toString:function(points,closed){var l=points.length,last=l-1,d,string="";for(var i=0;i<l;i++){var b=points[i];var command;var prev=closed?mod(i-1,l):Math.max(i-1,0);var next=closed?mod(i+1,l):Math.min(i+1,last);var a=points[prev];var c=points[next];var vx,vy,ux,uy,ar,bl,br,cl;var rx,ry,xAxisRotation,largeArcFlag,sweepFlag;var x=toFixed(b.x);var y=toFixed(b.y);switch(b.command){case Two.Commands.close:command=Two.Commands.close;break;case Two.Commands.arc:rx=b.rx;ry=b.ry;xAxisRotation=b.xAxisRotation;largeArcFlag=b.largeArcFlag;sweepFlag=b.sweepFlag;command=Two.Commands.arc+" "+rx+" "+ry+" "+xAxisRotation+" "+largeArcFlag+" "+sweepFlag+" "+x+" "+y;break;case Two.Commands.curve:ar=a.controls&&a.controls.right||Two.Vector.zero;bl=b.controls&&b.controls.left||Two.Vector.zero;if(a.relative){vx=toFixed(ar.x+a.x);vy=toFixed(ar.y+a.y)}else{vx=toFixed(ar.x);vy=toFixed(ar.y)}if(b.relative){ux=toFixed(bl.x+b.x);uy=toFixed(bl.y+b.y)}else{ux=toFixed(bl.x);uy=toFixed(bl.y)}command=(i===0?Two.Commands.move:Two.Commands.curve)+" "+vx+" "+vy+" "+ux+" "+uy+" "+x+" "+y;break;case Two.Commands.move:d=b;command=Two.Commands.move+" "+x+" "+y;break;default:command=b.command+" "+x+" "+y}if(i>=last&&closed){if(b.command===Two.Commands.curve){c=d;br=b.controls&&b.controls.right||b;cl=c.controls&&c.controls.left||c;if(b.relative){vx=toFixed(br.x+b.x);vy=toFixed(br.y+b.y)}else{vx=toFixed(br.x);vy=toFixed(br.y)}if(c.relative){ux=toFixed(cl.x+c.x);uy=toFixed(cl.y+c.y)}else{ux=toFixed(cl.x);uy=toFixed(cl.y)}x=toFixed(c.x);y=toFixed(c.y);command+=" C "+vx+" "+vy+" "+ux+" "+uy+" "+x+" "+y}if(b.command!==Two.Commands.close){command+=" Z"}}string+=command+" "}return string},getClip:function(shape){var clip=shape._renderer.clip;if(!clip){var root=shape;while(root.parent){root=root.parent}clip=shape._renderer.clip=svg.createElement("clipPath");root.defs.appendChild(clip)}return clip},group:{appendChild:function(object){var elem=object._renderer.elem;if(!elem){return}var tag=elem.nodeName;if(!tag||/(radial|linear)gradient/i.test(tag)||object._clip){return}this.elem.appendChild(elem)},removeChild:function(object){var elem=object._renderer.elem;if(!elem||elem.parentNode!=this.elem){return}var tag=elem.nodeName;if(!tag){return}if(object._clip){return}this.elem.removeChild(elem)},orderChild:function(object){this.elem.appendChild(object._renderer.elem)},renderChild:function(child){svg[child._renderer.type].render.call(child,this)},render:function(domElement){this._update();if(this._opacity===0&&!this._flagOpacity){return this}if(!this._renderer.elem){this._renderer.elem=svg.createElement("g",{id:this.id});domElement.appendChild(this._renderer.elem)}var flagMatrix=this._matrix.manual||this._flagMatrix;var context={domElement:domElement,elem:this._renderer.elem};if(flagMatrix){this._renderer.elem.setAttribute("transform","matrix("+this._matrix.toString()+")")}for(var i=0;i<this.children.length;i++){var child=this.children[i];svg[child._renderer.type].render.call(child,domElement)}if(this._flagOpacity){this._renderer.elem.setAttribute("opacity",this._opacity)}if(this._flagClassName){this._renderer.elem.setAttribute("class",this._className)}if(this._flagAdditions){this.additions.forEach(svg.group.appendChild,context)}if(this._flagSubtractions){this.subtractions.forEach(svg.group.removeChild,context)}if(this._flagOrder){this.children.forEach(svg.group.orderChild,context)}if(this._flagMask){if(this._mask){this._renderer.elem.setAttribute("clip-path","url(#"+this._mask.id+")")}else{this._renderer.elem.removeAttribute("clip-path")}}return this.flagReset()}},path:{render:function(domElement){this._update();if(this._opacity===0&&!this._flagOpacity){return this}var changed={};var flagMatrix=this._matrix.manual||this._flagMatrix;if(flagMatrix){changed.transform="matrix("+this._matrix.toString()+")"}if(this._flagVertices){var vertices=svg.toString(this._renderer.vertices,this._closed);changed.d=vertices}if(this._fill&&this._fill._renderer){this._fill._update();svg[this._fill._renderer.type].render.call(this._fill,domElement,true)}if(this._flagFill){changed.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill}if(this._stroke&&this._stroke._renderer){this._stroke._update();svg[this._stroke._renderer.type].render.call(this._stroke,domElement,true)}if(this._flagStroke){changed.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke}if(this._flagLinewidth){changed["stroke-width"]=this._linewidth}if(this._flagOpacity){changed["stroke-opacity"]=this._opacity;changed["fill-opacity"]=this._opacity}if(this._flagClassName){changed["class"]=this._className}if(this._flagVisible){changed.visibility=this._visible?"visible":"hidden"}if(this._flagCap){changed["stroke-linecap"]=this._cap}if(this._flagJoin){changed["stroke-linejoin"]=this._join}if(this._flagMiter){changed["stroke-miterlimit"]=this._miter}if(this.dashes&&this.dashes.length>0){changed["stroke-dasharray"]=this.dashes.join(" ")}if(!this._renderer.elem){changed.id=this.id;this._renderer.elem=svg.createElement("path",changed);domElement.appendChild(this._renderer.elem)}else{svg.setAttributes(this._renderer.elem,changed)}if(this._flagClip){var clip=svg.getClip(this);var elem=this._renderer.elem;if(this._clip){elem.removeAttribute("id");clip.setAttribute("id",this.id);clip.appendChild(elem)}else{clip.removeAttribute("id");elem.setAttribute("id",this.id);this.parent._renderer.elem.appendChild(elem)}}return this.flagReset()}},text:{render:function(domElement){this._update();var changed={};var flagMatrix=this._matrix.manual||this._flagMatrix;if(flagMatrix){changed.transform="matrix("+this._matrix.toString()+")"}if(this._flagFamily){changed["font-family"]=this._family}if(this._flagSize){changed["font-size"]=this._size}if(this._flagLeading){changed["line-height"]=this._leading}if(this._flagAlignment){changed["text-anchor"]=svg.alignments[this._alignment]||this._alignment}if(this._flagBaseline){changed["alignment-baseline"]=changed["dominant-baseline"]=this._baseline}if(this._flagStyle){changed["font-style"]=this._style}if(this._flagWeight){changed["font-weight"]=this._weight}if(this._flagDecoration){changed["text-decoration"]=this._decoration}if(this._fill&&this._fill._renderer){this._fill._update();svg[this._fill._renderer.type].render.call(this._fill,domElement,true)}if(this._flagFill){changed.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill}if(this._stroke&&this._stroke._renderer){this._stroke._update();svg[this._stroke._renderer.type].render.call(this._stroke,domElement,true)}if(this._flagStroke){changed.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke}if(this._flagLinewidth){changed["stroke-width"]=this._linewidth}if(this._flagOpacity){changed.opacity=this._opacity}if(this._flagClassName){changed["class"]=this._className}if(this._flagVisible){changed.visibility=this._visible?"visible":"hidden"}if(this.dashes&&this.dashes.length>0){changed["stroke-dasharray"]=this.dashes.join(" ")}if(!this._renderer.elem){changed.id=this.id;this._renderer.elem=svg.createElement("text",changed);domElement.defs.appendChild(this._renderer.elem)}else{svg.setAttributes(this._renderer.elem,changed)}if(this._flagClip){var clip=svg.getClip(this);var elem=this._renderer.elem;if(this._clip){elem.removeAttribute("id");clip.setAttribute("id",this.id);clip.appendChild(elem)}else{clip.removeAttribute("id");elem.setAttribute("id",this.id);this.parent._renderer.elem.appendChild(elem)}}if(this._flagValue){this._renderer.elem.textContent=this._value}return this.flagReset()}},"linear-gradient":{render:function(domElement,silent){if(!silent){this._update()}var changed={};if(this._flagEndPoints){changed.x1=this.left._x;changed.y1=this.left._y;changed.x2=this.right._x;changed.y2=this.right._y}if(this._flagSpread){changed.spreadMethod=this._spread}if(!this._renderer.elem){changed.id=this.id;changed.gradientUnits="userSpaceOnUse";this._renderer.elem=svg.createElement("linearGradient",changed);domElement.defs.appendChild(this._renderer.elem)}else{svg.setAttributes(this._renderer.elem,changed)}if(this._flagStops){var lengthChanged=this._renderer.elem.childNodes.length!==this.stops.length;if(lengthChanged){this._renderer.elem.childNodes.length=0}for(var i=0;i<this.stops.length;i++){var stop=this.stops[i];var attrs={};if(stop._flagOffset){attrs.offset=100*stop._offset+"%"}if(stop._flagColor){attrs["stop-color"]=stop._color}if(stop._flagOpacity){attrs["stop-opacity"]=stop._opacity}if(!stop._renderer.elem){stop._renderer.elem=svg.createElement("stop",attrs)}else{svg.setAttributes(stop._renderer.elem,attrs)}if(lengthChanged){this._renderer.elem.appendChild(stop._renderer.elem)}stop.flagReset()}}return this.flagReset()}},"radial-gradient":{render:function(domElement,silent){if(!silent){this._update()}var changed={};if(this._flagCenter){changed.cx=this.center._x;changed.cy=this.center._y}if(this._flagFocal){changed.fx=this.focal._x;changed.fy=this.focal._y}if(this._flagRadius){changed.r=this._radius}if(this._flagSpread){changed.spreadMethod=this._spread}if(!this._renderer.elem){changed.id=this.id;changed.gradientUnits="userSpaceOnUse";this._renderer.elem=svg.createElement("radialGradient",changed);domElement.defs.appendChild(this._renderer.elem)}else{svg.setAttributes(this._renderer.elem,changed)}if(this._flagStops){var lengthChanged=this._renderer.elem.childNodes.length!==this.stops.length;if(lengthChanged){this._renderer.elem.childNodes.length=0}for(var i=0;i<this.stops.length;i++){var stop=this.stops[i];var attrs={};if(stop._flagOffset){attrs.offset=100*stop._offset+"%"}if(stop._flagColor){attrs["stop-color"]=stop._color}if(stop._flagOpacity){attrs["stop-opacity"]=stop._opacity}if(!stop._renderer.elem){stop._renderer.elem=svg.createElement("stop",attrs)}else{svg.setAttributes(stop._renderer.elem,attrs)}if(lengthChanged){this._renderer.elem.appendChild(stop._renderer.elem)}stop.flagReset()}}return this.flagReset()}},texture:{render:function(domElement,silent){if(!silent){this._update()}var changed={};var styles={x:0,y:0};var image=this.image;if(this._flagLoaded&&this.loaded){switch(image.nodeName.toLowerCase()){case"canvas":styles.href=styles["xlink:href"]=image.toDataURL("image/png");break;case"img":case"image":styles.href=styles["xlink:href"]=this.src;break}}if(this._flagOffset||this._flagLoaded||this._flagScale){changed.x=this._offset.x;changed.y=this._offset.y;if(image){changed.x-=image.width/2;changed.y-=image.height/2;if(this._scale instanceof Two.Vector){changed.x*=this._scale.x;changed.y*=this._scale.y}else{changed.x*=this._scale;changed.y*=this._scale}}if(changed.x>0){changed.x*=-1}if(changed.y>0){changed.y*=-1}}if(this._flagScale||this._flagLoaded||this._flagRepeat){changed.width=0;changed.height=0;if(image){styles.width=changed.width=image.width;styles.height=changed.height=image.height;switch(this._repeat){case"no-repeat":changed.width+=1;changed.height+=1;break}if(this._scale instanceof Two.Vector){changed.width*=this._scale.x;changed.height*=this._scale.y}else{changed.width*=this._scale;changed.height*=this._scale}}}if(this._flagScale||this._flagLoaded){if(!this._renderer.image){this._renderer.image=svg.createElement("image",styles)}else if(!_.isEmpty(styles)){svg.setAttributes(this._renderer.image,styles)}}if(!this._renderer.elem){changed.id=this.id;changed.patternUnits="userSpaceOnUse";this._renderer.elem=svg.createElement("pattern",changed);domElement.defs.appendChild(this._renderer.elem)}else if(!_.isEmpty(changed)){svg.setAttributes(this._renderer.elem,changed)}if(this._renderer.elem&&this._renderer.image&&!this._renderer.appended){this._renderer.elem.appendChild(this._renderer.image);this._renderer.appended=true}return this.flagReset()}}};var Renderer=Two[Two.Types.svg]=function(params){this.domElement=params.domElement||svg.createElement("svg");this.scene=new Two.Group;this.scene.parent=this;this.defs=svg.createElement("defs");this.domElement.appendChild(this.defs);this.domElement.defs=this.defs;this.domElement.style.overflow="hidden"};_.extend(Renderer,{Utils:svg});_.extend(Renderer.prototype,Two.Utils.Events,{constructor:Renderer,setSize:function(width,height){this.width=width;this.height=height;svg.setAttributes(this.domElement,{width:width,height:height});return this.trigger(Two.Events.resize,width,height)},render:function(){svg.group.render.call(this.scene,this.domElement);return this}})})((typeof global!=="undefined"?global:this||window).Two);(function(Two){var mod=Two.Utils.mod,toFixed=Two.Utils.toFixed;var getRatio=Two.Utils.getRatio;var _=Two.Utils;var emptyArray=[];var TWO_PI=Math.PI*2,max=Math.max,min=Math.min,abs=Math.abs,sin=Math.sin,cos=Math.cos,acos=Math.acos,sqrt=Math.sqrt;var isDefaultMatrix=function(m){return m[0]==1&&m[3]==0&&m[1]==0&&m[4]==1&&m[2]==0&&m[5]==0};var canvas={isHidden:/(none|transparent)/i,alignments:{left:"start",middle:"center",right:"end"},shim:function(elem,name){elem.tagName=elem.nodeName=name||"canvas";elem.nodeType=1;elem.getAttribute=function(prop){return this[prop]};elem.setAttribute=function(prop,val){this[prop]=val;return this};return elem},group:{renderChild:function(child){canvas[child._renderer.type].render.call(child,this.ctx,true,this.clip)},render:function(ctx){this._update();var matrix=this._matrix.elements;var parent=this.parent;this._renderer.opacity=this._opacity*(parent&&parent._renderer?parent._renderer.opacity:1);var defaultMatrix=isDefaultMatrix(matrix);var mask=this._mask;if(!this._renderer.context){this._renderer.context={}}this._renderer.context.ctx=ctx;if(!defaultMatrix){ctx.save();ctx.transform(matrix[0],matrix[3],matrix[1],matrix[4],matrix[2],matrix[5])}if(mask){canvas[mask._renderer.type].render.call(mask,ctx,true)}if(this.opacity>0&&this.scale!==0){for(var i=0;i<this.children.length;i++){var child=this.children[i];canvas[child._renderer.type].render.call(child,ctx)}}if(!defaultMatrix){ctx.restore()}return this.flagReset()}},path:{render:function(ctx,forced,parentClipped){var matrix,stroke,linewidth,fill,opacity,visible,cap,join,miter,closed,commands,length,last,next,prev,a,b,c,d,ux,uy,vx,vy,ar,bl,br,cl,x,y,mask,clip,defaultMatrix,isOffset,dashes;this._update();matrix=this._matrix.elements;stroke=this._stroke;linewidth=this._linewidth;fill=this._fill;opacity=this._opacity*this.parent._renderer.opacity;visible=this._visible;cap=this._cap;join=this._join;miter=this._miter;closed=this._closed;commands=this._renderer.vertices;length=commands.length;last=length-1;defaultMatrix=isDefaultMatrix(matrix);dashes=this.dashes;clip=this._clip;if(!forced&&(!visible||clip)){return this}if(!defaultMatrix){ctx.save();ctx.transform(matrix[0],matrix[3],matrix[1],matrix[4],matrix[2],matrix[5])}if(fill){if(_.isString(fill)){ctx.fillStyle=fill}else{canvas[fill._renderer.type].render.call(fill,ctx);ctx.fillStyle=fill._renderer.effect}}if(stroke){if(_.isString(stroke)){ctx.strokeStyle=stroke}else{canvas[stroke._renderer.type].render.call(stroke,ctx);ctx.strokeStyle=stroke._renderer.effect}}if(linewidth){ctx.lineWidth=linewidth}if(miter){ctx.miterLimit=miter}if(join){ctx.lineJoin=join}if(cap){ctx.lineCap=cap}if(_.isNumber(opacity)){ctx.globalAlpha=opacity}if(dashes&&dashes.length>0){ctx.setLineDash(dashes)}ctx.beginPath();for(var i=0;i<commands.length;i++){b=commands[i];x=toFixed(b.x);y=toFixed(b.y);switch(b.command){case Two.Commands.close:ctx.closePath();break;case Two.Commands.arc:var rx=b.rx;var ry=b.ry;var xAxisRotation=b.xAxisRotation;var largeArcFlag=b.largeArcFlag;var sweepFlag=b.sweepFlag;prev=closed?mod(i-1,length):max(i-1,0);a=commands[prev];var ax=toFixed(a.x);var ay=toFixed(a.y);canvas.renderSvgArcCommand(ctx,ax,ay,rx,ry,largeArcFlag,sweepFlag,xAxisRotation,x,y);break;case Two.Commands.curve:prev=closed?mod(i-1,length):Math.max(i-1,0);next=closed?mod(i+1,length):Math.min(i+1,last);a=commands[prev];c=commands[next];ar=a.controls&&a.controls.right||Two.Vector.zero;bl=b.controls&&b.controls.left||Two.Vector.zero;if(a._relative){vx=ar.x+toFixed(a.x);vy=ar.y+toFixed(a.y)}else{vx=toFixed(ar.x);vy=toFixed(ar.y)}if(b._relative){ux=bl.x+toFixed(b.x);uy=bl.y+toFixed(b.y)}else{ux=toFixed(bl.x);uy=toFixed(bl.y)}ctx.bezierCurveTo(vx,vy,ux,uy,x,y);if(i>=last&&closed){c=d;br=b.controls&&b.controls.right||Two.Vector.zero;cl=c.controls&&c.controls.left||Two.Vector.zero;if(b._relative){vx=br.x+toFixed(b.x);vy=br.y+toFixed(b.y)}else{vx=toFixed(br.x);vy=toFixed(br.y)}if(c._relative){ux=cl.x+toFixed(c.x);uy=cl.y+toFixed(c.y)}else{ux=toFixed(cl.x);uy=toFixed(cl.y)}x=toFixed(c.x);y=toFixed(c.y);ctx.bezierCurveTo(vx,vy,ux,uy,x,y)}break;case Two.Commands.line:ctx.lineTo(x,y);break;case Two.Commands.move:d=b;ctx.moveTo(x,y);break}}if(closed){ctx.closePath()}if(dashes&&dashes.length>0){ctx.setLineDash(emptyArray)}if(!clip&&!parentClipped){if(!canvas.isHidden.test(fill)){isOffset=fill._renderer&&fill._renderer.offset;if(isOffset){ctx.save();ctx.translate(-fill._renderer.offset.x,-fill._renderer.offset.y);ctx.scale(fill._renderer.scale.x,fill._renderer.scale.y)}ctx.fill();if(isOffset){ctx.restore()}}if(!canvas.isHidden.test(stroke)){isOffset=stroke._renderer&&stroke._renderer.offset;if(isOffset){ctx.save();ctx.translate(-stroke._renderer.offset.x,-stroke._renderer.offset.y);ctx.scale(stroke._renderer.scale.x,stroke._renderer.scale.y);ctx.lineWidth=linewidth/stroke._renderer.scale.x}ctx.stroke();if(isOffset){ctx.restore()}}}if(!defaultMatrix){ctx.restore()}if(clip&&!parentClipped){ctx.clip()}return this.flagReset()}},text:{render:function(ctx,forced,parentClipped){this._update();var matrix=this._matrix.elements;var stroke=this._stroke;var linewidth=this._linewidth;var fill=this._fill;var opacity=this._opacity*this.parent._renderer.opacity;var visible=this._visible;var defaultMatrix=isDefaultMatrix(matrix);var isOffset=fill._renderer&&fill._renderer.offset&&stroke._renderer&&stroke._renderer.offset;var dashes=this.dashes;var a,b,c,d,e,sx,sy;var clip=this._clip;if(!forced&&(!visible||clip)){return this}if(!defaultMatrix){ctx.save();ctx.transform(matrix[0],matrix[3],matrix[1],matrix[4],matrix[2],matrix[5])}if(!isOffset){ctx.font=[this._style,this._weight,this._size+"px/"+this._leading+"px",this._family].join(" ")}ctx.textAlign=canvas.alignments[this._alignment]||this._alignment;ctx.textBaseline=this._baseline;if(fill){if(_.isString(fill)){ctx.fillStyle=fill}else{canvas[fill._renderer.type].render.call(fill,ctx);ctx.fillStyle=fill._renderer.effect}}if(stroke){if(_.isString(stroke)){ctx.strokeStyle=stroke}else{canvas[stroke._renderer.type].render.call(stroke,ctx);ctx.strokeStyle=stroke._renderer.effect}}if(linewidth){ctx.lineWidth=linewidth}if(_.isNumber(opacity)){ctx.globalAlpha=opacity}if(dashes&&dashes.length>0){ctx.setLineDash(dashes)}if(!clip&&!parentClipped){if(!canvas.isHidden.test(fill)){if(fill._renderer&&fill._renderer.offset){sx=toFixed(fill._renderer.scale.x);sy=toFixed(fill._renderer.scale.y);ctx.save();ctx.translate(-toFixed(fill._renderer.offset.x),-toFixed(fill._renderer.offset.y));ctx.scale(sx,sy);a=this._size/fill._renderer.scale.y;b=this._leading/fill._renderer.scale.y;ctx.font=[this._style,this._weight,toFixed(a)+"px/",toFixed(b)+"px",this._family].join(" ");c=fill._renderer.offset.x/fill._renderer.scale.x;d=fill._renderer.offset.y/fill._renderer.scale.y;ctx.fillText(this.value,toFixed(c),toFixed(d));ctx.restore()}else{ctx.fillText(this.value,0,0)}}if(!canvas.isHidden.test(stroke)){if(stroke._renderer&&stroke._renderer.offset){sx=toFixed(stroke._renderer.scale.x);sy=toFixed(stroke._renderer.scale.y);ctx.save();ctx.translate(-toFixed(stroke._renderer.offset.x),-toFixed(stroke._renderer.offset.y));ctx.scale(sx,sy);a=this._size/stroke._renderer.scale.y;b=this._leading/stroke._renderer.scale.y;ctx.font=[this._style,this._weight,toFixed(a)+"px/",toFixed(b)+"px",this._family].join(" ");c=stroke._renderer.offset.x/stroke._renderer.scale.x;d=stroke._renderer.offset.y/stroke._renderer.scale.y;e=linewidth/stroke._renderer.scale.x;ctx.lineWidth=toFixed(e);ctx.strokeText(this.value,toFixed(c),toFixed(d));ctx.restore()}else{ctx.strokeText(this.value,0,0)}}}if(!defaultMatrix){ctx.restore()}if(clip&&!parentClipped){ctx.clip()}return this.flagReset()}},"linear-gradient":{render:function(ctx){this._update();if(!this._renderer.effect||this._flagEndPoints||this._flagStops){this._renderer.effect=ctx.createLinearGradient(this.left._x,this.left._y,this.right._x,this.right._y);for(var i=0;i<this.stops.length;i++){var stop=this.stops[i];this._renderer.effect.addColorStop(stop._offset,stop._color)}}return this.flagReset()}},"radial-gradient":{render:function(ctx){this._update();if(!this._renderer.effect||this._flagCenter||this._flagFocal||this._flagRadius||this._flagStops){this._renderer.effect=ctx.createRadialGradient(this.center._x,this.center._y,0,this.focal._x,this.focal._y,this._radius);for(var i=0;i<this.stops.length;i++){var stop=this.stops[i];this._renderer.effect.addColorStop(stop._offset,stop._color)}}return this.flagReset()}},texture:{render:function(ctx){this._update();var image=this.image;var repeat;if(!this._renderer.effect||(this._flagLoaded||this._flagImage||this._flagVideo||this._flagRepeat)&&this.loaded){this._renderer.effect=ctx.createPattern(this.image,this._repeat)}if(this._flagOffset||this._flagLoaded||this._flagScale){if(!(this._renderer.offset instanceof Two.Vector)){this._renderer.offset=new Two.Vector}this._renderer.offset.x=-this._offset.x;this._renderer.offset.y=-this._offset.y;if(image){this._renderer.offset.x+=image.width/2;this._renderer.offset.y+=image.height/2;if(this._scale instanceof Two.Vector){this._renderer.offset.x*=this._scale.x;this._renderer.offset.y*=this._scale.y}else{this._renderer.offset.x*=this._scale;this._renderer.offset.y*=this._scale}}}if(this._flagScale||this._flagLoaded){if(!(this._renderer.scale instanceof Two.Vector)){this._renderer.scale=new Two.Vector}if(this._scale instanceof Two.Vector){this._renderer.scale.copy(this._scale)}else{this._renderer.scale.set(this._scale,this._scale)}}return this.flagReset()}},renderSvgArcCommand:function(ctx,ax,ay,rx,ry,largeArcFlag,sweepFlag,xAxisRotation,x,y){xAxisRotation=xAxisRotation*Math.PI/180;rx=abs(rx);ry=abs(ry);var dx2=(ax-x)/2;var dy2=(ay-y)/2;var x1p=cos(xAxisRotation)*dx2+sin(xAxisRotation)*dy2;var y1p=-sin(xAxisRotation)*dx2+cos(xAxisRotation)*dy2;var rxs=rx*rx;var rys=ry*ry;var x1ps=x1p*x1p;var y1ps=y1p*y1p;var cr=x1ps/rxs+y1ps/rys;if(cr>1){var s=sqrt(cr);rx=s*rx;ry=s*ry;rxs=rx*rx;rys=ry*ry}var dq=rxs*y1ps+rys*x1ps;var pq=(rxs*rys-dq)/dq;var q=sqrt(max(0,pq));if(largeArcFlag===sweepFlag)q=-q;var cxp=q*rx*y1p/ry;var cyp=-q*ry*x1p/rx;var cx=cos(xAxisRotation)*cxp-sin(xAxisRotation)*cyp+(ax+x)/2;var cy=sin(xAxisRotation)*cxp+cos(xAxisRotation)*cyp+(ay+y)/2;var startAngle=svgAngle(1,0,(x1p-cxp)/rx,(y1p-cyp)/ry);var delta=svgAngle((x1p-cxp)/rx,(y1p-cyp)/ry,(-x1p-cxp)/rx,(-y1p-cyp)/ry)%TWO_PI;var endAngle=startAngle+delta;var clockwise=sweepFlag===0;renderArcEstimate(ctx,cx,cy,rx,ry,startAngle,endAngle,clockwise,xAxisRotation)}};var Renderer=Two[Two.Types.canvas]=function(params){var smoothing=params.smoothing!==false;this.domElement=params.domElement||document.createElement("canvas");this.ctx=this.domElement.getContext("2d");this.overdraw=params.overdraw||false;if(!_.isUndefined(this.ctx.imageSmoothingEnabled)){this.ctx.imageSmoothingEnabled=smoothing}this.scene=new Two.Group;this.scene.parent=this};_.extend(Renderer,{Utils:canvas});_.extend(Renderer.prototype,Two.Utils.Events,{constructor:Renderer,setSize:function(width,height,ratio){this.width=width;this.height=height;this.ratio=_.isUndefined(ratio)?getRatio(this.ctx):ratio;this.domElement.width=width*this.ratio;this.domElement.height=height*this.ratio;if(this.domElement.style){_.extend(this.domElement.style,{width:width+"px",height:height+"px"})}return this.trigger(Two.Events.resize,width,height,ratio)},render:function(){var isOne=this.ratio===1;if(!isOne){this.ctx.save();this.ctx.scale(this.ratio,this.ratio)}if(!this.overdraw){this.ctx.clearRect(0,0,this.width,this.height)}canvas.group.render.call(this.scene,this.ctx);if(!isOne){this.ctx.restore()}return this}});function renderArcEstimate(ctx,ox,oy,rx,ry,startAngle,endAngle,clockwise,xAxisRotation){var epsilon=Two.Utils.Curve.Tolerance.epsilon;var deltaAngle=endAngle-startAngle;var samePoints=Math.abs(deltaAngle)<epsilon;deltaAngle=mod(deltaAngle,TWO_PI);if(deltaAngle<epsilon){if(samePoints){deltaAngle=0}else{deltaAngle=TWO_PI}}if(clockwise===true&&!samePoints){if(deltaAngle===TWO_PI){deltaAngle=-TWO_PI}else{deltaAngle=deltaAngle-TWO_PI}}for(var i=0;i<Two.Resolution;i++){var t=i/(Two.Resolution-1);var angle=startAngle+t*deltaAngle;var x=ox+rx*Math.cos(angle);var y=oy+ry*Math.sin(angle);if(xAxisRotation!==0){var cos=Math.cos(xAxisRotation);var sin=Math.sin(xAxisRotation);var tx=x-ox;var ty=y-oy;x=tx*cos-ty*sin+ox;y=tx*sin+ty*cos+oy}ctx.lineTo(x,y)}}function svgAngle(ux,uy,vx,vy){var dot=ux*vx+uy*vy;var len=sqrt(ux*ux+uy*uy)*sqrt(vx*vx+vy*vy);var ang=acos(max(-1,min(1,dot/len)));if(ux*vy-uy*vx<0){ang=-ang}return ang}function resetTransform(ctx){ctx.setTransform(1,0,0,1,0,0)}})((typeof global!=="undefined"?global:this||window).Two);(function(Two){var root=Two.root,multiplyMatrix=Two.Matrix.Multiply,mod=Two.Utils.mod,identity=[1,0,0,0,1,0,0,0,1],transformation=new Two.Array(9),getRatio=Two.Utils.getRatio,getComputedMatrix=Two.Utils.getComputedMatrix,toFixed=Two.Utils.toFixed,CanvasUtils=Two[Two.Types.canvas].Utils,_=Two.Utils;var webgl={isHidden:/(none|transparent)/i,canvas:root.document?root.document.createElement("canvas"):{getContext:_.identity},alignments:{left:"start",middle:"center",right:"end"},matrix:new Two.Matrix,uv:new Two.Array([0,0,1,0,0,1,0,1,1,0,1,1]),group:{removeChild:function(child,gl){if(child.children){for(var i=0;i<child.children.length;i++){webgl.group.removeChild(child.children[i],gl)}return}gl.deleteTexture(child._renderer.texture);delete child._renderer.texture},renderChild:function(child){webgl[child._renderer.type].render.call(child,this.gl,this.program)},render:function(gl,program){this._update();var parent=this.parent;var flagParentMatrix=parent._matrix&&parent._matrix.manual||parent._flagMatrix;var flagMatrix=this._matrix.manual||this._flagMatrix;if(flagParentMatrix||flagMatrix){if(!this._renderer.matrix){this._renderer.matrix=new Two.Array(9)}this._matrix.toArray(true,transformation);multiplyMatrix(transformation,parent._renderer.matrix,this._renderer.matrix);this._renderer.scale=this._scale*parent._renderer.scale;if(flagParentMatrix){this._flagMatrix=true}}if(this._mask){gl.enable(gl.STENCIL_TEST);gl.stencilFunc(gl.ALWAYS,1,1);gl.colorMask(false,false,false,true);gl.stencilOp(gl.KEEP,gl.KEEP,gl.INCR);webgl[this._mask._renderer.type].render.call(this._mask,gl,program,this);gl.colorMask(true,true,true,true);gl.stencilFunc(gl.NOTEQUAL,0,1);gl.stencilOp(gl.KEEP,gl.KEEP,gl.KEEP)}this._flagOpacity=parent._flagOpacity||this._flagOpacity;this._renderer.opacity=this._opacity*(parent&&parent._renderer?parent._renderer.opacity:1);if(this._flagSubtractions){for(var i=0;i<this.subtractions.length;i++){webgl.group.removeChild(this.subtractions[i],gl)}}for(var i=0;i<this.children.length;i++){var child=this.children[i];webgl[child._renderer.type].render.call(child,gl,program)}this.children.forEach(webgl.group.renderChild,{gl:gl,program:program});if(this._mask){gl.colorMask(false,false,false,false);gl.stencilOp(gl.KEEP,gl.KEEP,gl.DECR);webgl[this._mask._renderer.type].render.call(this._mask,gl,program,this);gl.colorMask(true,true,true,true);gl.stencilFunc(gl.NOTEQUAL,0,1);gl.stencilOp(gl.KEEP,gl.KEEP,gl.KEEP);gl.disable(gl.STENCIL_TEST)}return this.flagReset()}},path:{updateCanvas:function(elem){var next,prev,a,c,ux,uy,vx,vy,ar,bl,br,cl,x,y;var isOffset;var commands=elem._renderer.vertices;var canvas=this.canvas;var ctx=this.ctx;var scale=elem._renderer.scale;var stroke=elem._stroke;var linewidth=elem._linewidth;var fill=elem._fill;var opacity=elem._renderer.opacity||elem._opacity;var cap=elem._cap;var join=elem._join;var miter=elem._miter;var closed=elem._closed;var dashes=elem.dashes;var length=commands.length;var last=length-1;canvas.width=Math.max(Math.ceil(elem._renderer.rect.width*scale),1);canvas.height=Math.max(Math.ceil(elem._renderer.rect.height*scale),1);var centroid=elem._renderer.rect.centroid;var cx=centroid.x;var cy=centroid.y;ctx.clearRect(0,0,canvas.width,canvas.height);if(fill){if(_.isString(fill)){ctx.fillStyle=fill}else{webgl[fill._renderer.type].render.call(fill,ctx,elem);ctx.fillStyle=fill._renderer.effect}}if(stroke){if(_.isString(stroke)){ctx.strokeStyle=stroke}else{webgl[stroke._renderer.type].render.call(stroke,ctx,elem);ctx.strokeStyle=stroke._renderer.effect}}if(linewidth){ctx.lineWidth=linewidth}if(miter){ctx.miterLimit=miter}if(join){ctx.lineJoin=join}if(cap){ctx.lineCap=cap}if(_.isNumber(opacity)){ctx.globalAlpha=opacity}if(dashes&&dashes.length>0){ctx.setLineDash(dashes)}var d;ctx.save();ctx.scale(scale,scale);ctx.translate(cx,cy);ctx.beginPath();for(var i=0;i<commands.length;i++){var b=commands[i];x=toFixed(b.x);y=toFixed(b.y);switch(b.command){case Two.Commands.close:ctx.closePath();break;case Two.Commands.arc:var rx=b.rx;var ry=b.ry;var xAxisRotation=b.xAxisRotation;var largeArcFlag=b.largeArcFlag;var sweepFlag=b.sweepFlag;prev=closed?mod(i-1,length):max(i-1,0);a=commands[prev];var ax=toFixed(a.x);var ay=toFixed(a.y);CanvasUtils.renderSvgArcCommand(ctx,ax,ay,rx,ry,largeArcFlag,sweepFlag,xAxisRotation,x,y);break;case Two.Commands.curve:prev=closed?mod(i-1,length):Math.max(i-1,0);next=closed?mod(i+1,length):Math.min(i+1,last);a=commands[prev];c=commands[next];ar=a.controls&&a.controls.right||Two.Vector.zero;bl=b.controls&&b.controls.left||Two.Vector.zero;if(a._relative){vx=toFixed(ar.x+a.x);vy=toFixed(ar.y+a.y)}else{vx=toFixed(ar.x);vy=toFixed(ar.y)}if(b._relative){ux=toFixed(bl.x+b.x);uy=toFixed(bl.y+b.y)}else{ux=toFixed(bl.x);uy=toFixed(bl.y)}ctx.bezierCurveTo(vx,vy,ux,uy,x,y);if(i>=last&&closed){c=d;br=b.controls&&b.controls.right||Two.Vector.zero;cl=c.controls&&c.controls.left||Two.Vector.zero;if(b._relative){vx=toFixed(br.x+b.x);vy=toFixed(br.y+b.y)}else{vx=toFixed(br.x);vy=toFixed(br.y)}if(c._relative){ux=toFixed(cl.x+c.x);uy=toFixed(cl.y+c.y)}else{ux=toFixed(cl.x);uy=toFixed(cl.y)}x=toFixed(c.x);y=toFixed(c.y);ctx.bezierCurveTo(vx,vy,ux,uy,x,y)}break;case Two.Commands.line:ctx.lineTo(x,y);break;case Two.Commands.move:d=b;ctx.moveTo(x,y);break}}if(closed){ctx.closePath()}if(!webgl.isHidden.test(fill)){isOffset=fill._renderer&&fill._renderer.offset;if(isOffset){ctx.save();ctx.translate(-fill._renderer.offset.x,-fill._renderer.offset.y);ctx.scale(fill._renderer.scale.x,fill._renderer.scale.y)}ctx.fill();if(isOffset){ctx.restore()}}if(!webgl.isHidden.test(stroke)){isOffset=stroke._renderer&&stroke._renderer.offset;if(isOffset){ctx.save();ctx.translate(-stroke._renderer.offset.x,-stroke._renderer.offset.y);ctx.scale(stroke._renderer.scale.x,stroke._renderer.scale.y);ctx.lineWidth=linewidth/stroke._renderer.scale.x}ctx.stroke();if(isOffset){ctx.restore()}}ctx.restore()},getBoundingClientRect:function(vertices,border,rect){var left=Infinity,right=-Infinity,top=Infinity,bottom=-Infinity,width,height;vertices.forEach(function(v){var x=v.x,y=v.y,controls=v.controls;var a,b,c,d,cl,cr;top=Math.min(y,top);left=Math.min(x,left);right=Math.max(x,right);bottom=Math.max(y,bottom);if(!v.controls){return}cl=controls.left;cr=controls.right;if(!cl||!cr){return}a=v._relative?cl.x+x:cl.x;b=v._relative?cl.y+y:cl.y;c=v._relative?cr.x+x:cr.x;d=v._relative?cr.y+y:cr.y;if(!a||!b||!c||!d){return}top=Math.min(b,d,top);left=Math.min(a,c,left);right=Math.max(a,c,right);bottom=Math.max(b,d,bottom)});if(_.isNumber(border)){top-=border;left-=border;right+=border;bottom+=border}width=right-left;height=bottom-top;rect.top=top;rect.left=left;rect.right=right;rect.bottom=bottom;rect.width=width;rect.height=height;if(!rect.centroid){rect.centroid={}}rect.centroid.x=-left;rect.centroid.y=-top},render:function(gl,program,forcedParent){if(!this._visible||!this._opacity){return this}this._update();var parent=this.parent;var flagParentMatrix=parent._matrix.manual||parent._flagMatrix;var flagMatrix=this._matrix.manual||this._flagMatrix;var flagTexture=this._flagVertices||this._flagFill||this._fill instanceof Two.LinearGradient&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof Two.RadialGradient&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof Two.Texture&&(this._fill._flagLoaded&&this._fill.loaded||this._fill._flagImage||this._fill._flagVideo||this._fill._flagRepeat||this._fill._flagOffset||this._fill._flagScale)||this._stroke instanceof Two.LinearGradient&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof Two.RadialGradient&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._stroke instanceof Two.Texture&&(this._stroke._flagLoaded&&this._stroke.loaded||this._stroke._flagImage||this._stroke._flagVideo||this._stroke._flagRepeat||this._stroke._flagOffset||this._fill._flagScale)||this._flagStroke||this._flagLinewidth||this._flagOpacity||parent._flagOpacity||this._flagVisible||this._flagCap||this._flagJoin||this._flagMiter||this._flagScale||this.dashes&&this.dashes.length>0||!this._renderer.texture;if(flagParentMatrix||flagMatrix){if(!this._renderer.matrix){this._renderer.matrix=new Two.Array(9)}this._matrix.toArray(true,transformation);multiplyMatrix(transformation,parent._renderer.matrix,this._renderer.matrix);this._renderer.scale=this._scale*parent._renderer.scale}if(flagTexture){if(!this._renderer.rect){this._renderer.rect={}}if(!this._renderer.triangles){this._renderer.triangles=new Two.Array(12)}this._renderer.opacity=this._opacity*parent._renderer.opacity;webgl.path.getBoundingClientRect(this._renderer.vertices,this._linewidth,this._renderer.rect);webgl.getTriangles(this._renderer.rect,this._renderer.triangles);webgl.updateBuffer.call(webgl,gl,this,program);webgl.updateTexture.call(webgl,gl,this)}else{if(!_.isString(this._fill)){this._fill._update()}if(!_.isString(this._stroke)){this._stroke._update()}}if(this._clip&&!forcedParent){return}gl.bindBuffer(gl.ARRAY_BUFFER,this._renderer.textureCoordsBuffer);gl.vertexAttribPointer(program.textureCoords,2,gl.FLOAT,false,0,0);gl.bindTexture(gl.TEXTURE_2D,this._renderer.texture);gl.uniformMatrix3fv(program.matrix,false,this._renderer.matrix);gl.bindBuffer(gl.ARRAY_BUFFER,this._renderer.buffer);gl.vertexAttribPointer(program.position,2,gl.FLOAT,false,0,0);gl.drawArrays(gl.TRIANGLES,0,6);return this.flagReset()}},text:{updateCanvas:function(elem){var canvas=this.canvas;var ctx=this.ctx;var scale=elem._renderer.scale;var stroke=elem._stroke;var linewidth=elem._linewidth*scale;var fill=elem._fill;var opacity=elem._renderer.opacity||elem._opacity;var dashes=elem.dashes;canvas.width=Math.max(Math.ceil(elem._renderer.rect.width*scale),1);canvas.height=Math.max(Math.ceil(elem._renderer.rect.height*scale),1);var centroid=elem._renderer.rect.centroid;var cx=centroid.x;var cy=centroid.y;var a,b,c,d,e,sx,sy;var isOffset=fill._renderer&&fill._renderer.offset&&stroke._renderer&&stroke._renderer.offset;ctx.clearRect(0,0,canvas.width,canvas.height);if(!isOffset){ctx.font=[elem._style,elem._weight,elem._size+"px/"+elem._leading+"px",elem._family].join(" ")}ctx.textAlign="center";ctx.textBaseline="middle";if(fill){if(_.isString(fill)){ctx.fillStyle=fill}else{webgl[fill._renderer.type].render.call(fill,ctx,elem);ctx.fillStyle=fill._renderer.effect}}if(stroke){if(_.isString(stroke)){ctx.strokeStyle=stroke}else{webgl[stroke._renderer.type].render.call(stroke,ctx,elem);ctx.strokeStyle=stroke._renderer.effect}}if(linewidth){ctx.lineWidth=linewidth}if(_.isNumber(opacity)){ctx.globalAlpha=opacity}if(dashes&&dashes.length>0){ctx.setLineDash(dashes)}ctx.save();ctx.scale(scale,scale);ctx.translate(cx,cy);if(!webgl.isHidden.test(fill)){if(fill._renderer&&fill._renderer.offset){sx=toFixed(fill._renderer.scale.x);sy=toFixed(fill._renderer.scale.y);ctx.save();ctx.translate(-toFixed(fill._renderer.offset.x),-toFixed(fill._renderer.offset.y));ctx.scale(sx,sy);a=elem._size/fill._renderer.scale.y;b=elem._leading/fill._renderer.scale.y;ctx.font=[elem._style,elem._weight,toFixed(a)+"px/",toFixed(b)+"px",elem._family].join(" ");c=fill._renderer.offset.x/fill._renderer.scale.x;d=fill._renderer.offset.y/fill._renderer.scale.y;ctx.fillText(elem.value,toFixed(c),toFixed(d));ctx.restore()}else{ctx.fillText(elem.value,0,0)}}if(!webgl.isHidden.test(stroke)){if(stroke._renderer&&stroke._renderer.offset){sx=toFixed(stroke._renderer.scale.x);sy=toFixed(stroke._renderer.scale.y);ctx.save();ctx.translate(-toFixed(stroke._renderer.offset.x),-toFixed(stroke._renderer.offset.y));ctx.scale(sx,sy);a=elem._size/stroke._renderer.scale.y;b=elem._leading/stroke._renderer.scale.y;ctx.font=[elem._style,elem._weight,toFixed(a)+"px/",toFixed(b)+"px",elem._family].join(" ");c=stroke._renderer.offset.x/stroke._renderer.scale.x;d=stroke._renderer.offset.y/stroke._renderer.scale.y;e=linewidth/stroke._renderer.scale.x;ctx.lineWidth=toFixed(e);ctx.strokeText(elem.value,toFixed(c),toFixed(d));ctx.restore()}else{ctx.strokeText(elem.value,0,0)}}ctx.restore()},getBoundingClientRect:function(elem,rect){var ctx=webgl.ctx;ctx.font=[elem._style,elem._weight,elem._size+"px/"+elem._leading+"px",elem._family].join(" ");ctx.textAlign="center";ctx.textBaseline=elem._baseline;var width=ctx.measureText(elem._value).width;var height=Math.max(elem._size||elem._leading);if(this._linewidth&&!webgl.isHidden.test(this._stroke)){height+=this._linewidth}var w=width/2;var h=height/2;switch(webgl.alignments[elem._alignment]||elem._alignment){case webgl.alignments.left:rect.left=0;rect.right=width;break;case webgl.alignments.right:rect.left=-width;rect.right=0;break;default:rect.left=-w;rect.right=w}switch(elem._baseline){case"bottom":rect.top=-height;rect.bottom=0;break;case"top":rect.top=0;rect.bottom=height;break;default:rect.top=-h;rect.bottom=h}rect.width=width;rect.height=height;if(!rect.centroid){rect.centroid={}}rect.centroid.x=w;rect.centroid.y=h},render:function(gl,program,forcedParent){if(!this._visible||!this._opacity){return this}this._update();var parent=this.parent;var flagParentMatrix=parent._matrix.manual||parent._flagMatrix;var flagMatrix=this._matrix.manual||this._flagMatrix;var flagTexture=this._flagVertices||this._flagFill||this._fill instanceof Two.LinearGradient&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof Two.RadialGradient&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof Two.Texture&&(this._fill._flagLoaded&&this._fill.loaded||this._fill._flagImage||this._fill._flagVideo||this._fill._flagRepeat||this._fill._flagOffset||this._fill._flagScale)||this._stroke instanceof Two.LinearGradient&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof Two.RadialGradient&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._stroke instanceof Two.Texture&&(this._stroke._flagLoaded&&this._stroke.loaded||this._stroke._flagImage||this._stroke._flagVideo||this._stroke._flagRepeat||this._stroke._flagOffset||this._fill._flagScale)||this._flagStroke||this._flagLinewidth||this._flagOpacity||parent._flagOpacity||this._flagVisible||this._flagScale||this._flagValue||this._flagFamily||this._flagSize||this._flagLeading||this._flagAlignment||this._flagBaseline||this._flagStyle||this._flagWeight||this._flagDecoration||this.dashes&&this.dashes.length>0||!this._renderer.texture;if(flagParentMatrix||flagMatrix){if(!this._renderer.matrix){this._renderer.matrix=new Two.Array(9)}this._matrix.toArray(true,transformation);multiplyMatrix(transformation,parent._renderer.matrix,this._renderer.matrix);this._renderer.scale=this._scale*parent._renderer.scale}if(flagTexture){if(!this._renderer.rect){this._renderer.rect={}}if(!this._renderer.triangles){this._renderer.triangles=new Two.Array(12)}this._renderer.opacity=this._opacity*parent._renderer.opacity;webgl.text.getBoundingClientRect(this,this._renderer.rect);webgl.getTriangles(this._renderer.rect,this._renderer.triangles);webgl.updateBuffer.call(webgl,gl,this,program);webgl.updateTexture.call(webgl,gl,this)}else{if(!_.isString(this._fill)){this._fill._update()}if(!_.isString(this._stroke)){this._stroke._update()}}if(this._clip&&!forcedParent){return}gl.bindBuffer(gl.ARRAY_BUFFER,this._renderer.textureCoordsBuffer);gl.vertexAttribPointer(program.textureCoords,2,gl.FLOAT,false,0,0);gl.bindTexture(gl.TEXTURE_2D,this._renderer.texture);gl.uniformMatrix3fv(program.matrix,false,this._renderer.matrix);gl.bindBuffer(gl.ARRAY_BUFFER,this._renderer.buffer);gl.vertexAttribPointer(program.position,2,gl.FLOAT,false,0,0);gl.drawArrays(gl.TRIANGLES,0,6);return this.flagReset()}},"linear-gradient":{render:function(ctx,elem){if(!ctx.canvas.getContext("2d")){return}this._update();if(!this._renderer.effect||this._flagEndPoints||this._flagStops){this._renderer.effect=ctx.createLinearGradient(this.left._x,this.left._y,this.right._x,this.right._y);for(var i=0;i<this.stops.length;i++){var stop=this.stops[i];this._renderer.effect.addColorStop(stop._offset,stop._color)}}return this.flagReset()}},"radial-gradient":{render:function(ctx,elem){if(!ctx.canvas.getContext("2d")){return}this._update();if(!this._renderer.effect||this._flagCenter||this._flagFocal||this._flagRadius||this._flagStops){this._renderer.effect=ctx.createRadialGradient(this.center._x,this.center._y,0,this.focal._x,this.focal._y,this._radius);for(var i=0;i<this.stops.length;i++){var stop=this.stops[i];this._renderer.effect.addColorStop(stop._offset,stop._color)}}return this.flagReset()}},texture:{render:function(ctx,elem){if(!ctx.canvas.getContext("2d")){return}this._update();var image=this.image;var repeat;if((this._flagLoaded||this._flagImage||this._flagVideo||this._flagRepeat)&&this.loaded){this._renderer.effect=ctx.createPattern(image,this._repeat)}else if(!this._renderer.effect){return this.flagReset()}if(this._flagOffset||this._flagLoaded||this._flagScale){if(!(this._renderer.offset instanceof Two.Vector)){this._renderer.offset=new Two.Vector}this._renderer.offset.x=-this._offset.x;this._renderer.offset.y=-this._offset.y;if(image){this._renderer.offset.x+=image.width/2;this._renderer.offset.y+=image.height/2;if(this._scale instanceof Two.Vector){this._renderer.offset.x*=this._scale.x;this._renderer.offset.y*=this._scale.y}else{this._renderer.offset.x*=this._scale;this._renderer.offset.y*=this._scale}}}if(this._flagScale||this._flagLoaded){if(!(this._renderer.scale instanceof Two.Vector)){this._renderer.scale=new Two.Vector}if(this._scale instanceof Two.Vector){this._renderer.scale.copy(this._scale)}else{this._renderer.scale.set(this._scale,this._scale)}}return this.flagReset()}},getTriangles:function(rect,triangles){var top=rect.top,left=rect.left,right=rect.right,bottom=rect.bottom;triangles[0]=left;triangles[1]=top;triangles[2]=right;triangles[3]=top;triangles[4]=left;triangles[5]=bottom;triangles[6]=left;triangles[7]=bottom;triangles[8]=right;triangles[9]=top;triangles[10]=right;triangles[11]=bottom},updateTexture:function(gl,elem){this[elem._renderer.type].updateCanvas.call(webgl,elem);if(elem._renderer.texture){gl.deleteTexture(elem._renderer.texture)}gl.bindBuffer(gl.ARRAY_BUFFER,elem._renderer.textureCoordsBuffer);elem._renderer.texture=gl.createTexture();gl.bindTexture(gl.TEXTURE_2D,elem._renderer.texture);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,gl.CLAMP_TO_EDGE);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,gl.CLAMP_TO_EDGE);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,gl.LINEAR);if(this.canvas.width<=0||this.canvas.height<=0){return}gl.texImage2D(gl.TEXTURE_2D,0,gl.RGBA,gl.RGBA,gl.UNSIGNED_BYTE,this.canvas)},updateBuffer:function(gl,elem,program){if(_.isObject(elem._renderer.buffer)){gl.deleteBuffer(elem._renderer.buffer)}elem._renderer.buffer=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,elem._renderer.buffer);gl.enableVertexAttribArray(program.position);gl.bufferData(gl.ARRAY_BUFFER,elem._renderer.triangles,gl.STATIC_DRAW);if(_.isObject(elem._renderer.textureCoordsBuffer)){gl.deleteBuffer(elem._renderer.textureCoordsBuffer)}elem._renderer.textureCoordsBuffer=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,elem._renderer.textureCoordsBuffer);gl.enableVertexAttribArray(program.textureCoords);gl.bufferData(gl.ARRAY_BUFFER,this.uv,gl.STATIC_DRAW)},program:{create:function(gl,shaders){var program,linked,error;program=gl.createProgram();_.each(shaders,function(s){gl.attachShader(program,s)});gl.linkProgram(program);linked=gl.getProgramParameter(program,gl.LINK_STATUS);if(!linked){error=gl.getProgramInfoLog(program);gl.deleteProgram(program);throw new Two.Utils.Error("unable to link program: "+error)}return program}},shaders:{create:function(gl,source,type){var shader,compiled,error;shader=gl.createShader(gl[type]);gl.shaderSource(shader,source);gl.compileShader(shader);compiled=gl.getShaderParameter(shader,gl.COMPILE_STATUS);if(!compiled){error=gl.getShaderInfoLog(shader);gl.deleteShader(shader);throw new Two.Utils.Error("unable to compile shader "+shader+": "+error)}return shader},types:{vertex:"VERTEX_SHADER",fragment:"FRAGMENT_SHADER"},vertex:["attribute vec2 a_position;","attribute vec2 a_textureCoords;","","uniform mat3 u_matrix;","uniform vec2 u_resolution;","","varying vec2 v_textureCoords;","","void main() {","   vec2 projected = (u_matrix * vec3(a_position, 1.0)).xy;","   vec2 normal = projected / u_resolution;","   vec2 clipspace = (normal * 2.0) - 1.0;","","   gl_Position = vec4(clipspace * vec2(1.0, -1.0), 0.0, 1.0);","   v_textureCoords = a_textureCoords;","}"].join("\n"),fragment:["precision mediump float;","","uniform sampler2D u_image;","varying vec2 v_textureCoords;","","void main() {","  gl_FragColor = texture2D(u_image, v_textureCoords);","}"].join("\n")},TextureRegistry:new Two.Registry};webgl.ctx=webgl.canvas.getContext("2d");var Renderer=Two[Two.Types.webgl]=function(options){var params,gl,vs,fs;this.domElement=options.domElement||document.createElement("canvas");this.scene=new Two.Group;this.scene.parent=this;this._renderer={matrix:new Two.Array(identity),scale:1,opacity:1};this._flagMatrix=true;params=_.defaults(options||{},{antialias:false,alpha:true,premultipliedAlpha:true,stencil:true,preserveDrawingBuffer:true,overdraw:false});this.overdraw=params.overdraw;gl=this.ctx=this.domElement.getContext("webgl",params)||this.domElement.getContext("experimental-webgl",params);if(!this.ctx){throw new Two.Utils.Error("unable to create a webgl context. Try using another renderer.")}vs=webgl.shaders.create(gl,webgl.shaders.vertex,webgl.shaders.types.vertex);fs=webgl.shaders.create(gl,webgl.shaders.fragment,webgl.shaders.types.fragment);this.program=webgl.program.create(gl,[vs,fs]);gl.useProgram(this.program);this.program.position=gl.getAttribLocation(this.program,"a_position");this.program.matrix=gl.getUniformLocation(this.program,"u_matrix");this.program.textureCoords=gl.getAttribLocation(this.program,"a_textureCoords");gl.disable(gl.DEPTH_TEST);gl.enable(gl.BLEND);gl.blendEquationSeparate(gl.FUNC_ADD,gl.FUNC_ADD);gl.blendFuncSeparate(gl.SRC_ALPHA,gl.ONE_MINUS_SRC_ALPHA,gl.ONE,gl.ONE_MINUS_SRC_ALPHA)};_.extend(Renderer,{Utils:webgl});_.extend(Renderer.prototype,Two.Utils.Events,{constructor:Renderer,setSize:function(width,height,ratio){this.width=width;this.height=height;this.ratio=_.isUndefined(ratio)?getRatio(this.ctx):ratio;this.domElement.width=width*this.ratio;this.domElement.height=height*this.ratio;_.extend(this.domElement.style,{width:width+"px",height:height+"px"});width*=this.ratio;height*=this.ratio;this._renderer.matrix[0]=this._renderer.matrix[4]=this._renderer.scale=this.ratio;this._flagMatrix=true;this.ctx.viewport(0,0,width,height);var resolutionLocation=this.ctx.getUniformLocation(this.program,"u_resolution");this.ctx.uniform2f(resolutionLocation,width,height);return this.trigger(Two.Events.resize,width,height,ratio)},render:function(){var gl=this.ctx;if(!this.overdraw){gl.clear(gl.COLOR_BUFFER_BIT|gl.DEPTH_BUFFER_BIT)}webgl.group.render.call(this.scene,gl,this.program);this._flagMatrix=false;return this}})})((typeof global!=="undefined"?global:this||window).Two);(function(Two){var _=Two.Utils;var Shape=Two.Shape=function(){this._renderer={};this._renderer.flagMatrix=_.bind(Shape.FlagMatrix,this);this.isShape=true;this.id=Two.Identifier+Two.uniqueId();this.classList=[];this._matrix=new Two.Matrix;this.translation=new Two.Vector;this.rotation=0;this.scale=1};_.extend(Shape,{FlagMatrix:function(){this._flagMatrix=true},MakeObservable:function(object){Object.defineProperty(object,"translation",{enumerable:true,get:function(){return this._translation},set:function(v){if(this._translation){this._translation.unbind(Two.Events.change,this._renderer.flagMatrix)}this._translation=v;this._translation.bind(Two.Events.change,this._renderer.flagMatrix);Shape.FlagMatrix.call(this)}});Object.defineProperty(object,"rotation",{enumerable:true,get:function(){return this._rotation},set:function(v){this._rotation=v;this._flagMatrix=true}});Object.defineProperty(object,"scale",{enumerable:true,get:function(){return this._scale},set:function(v){if(this._scale instanceof Two.Vector){this._scale.unbind(Two.Events.change,this._renderer.flagMatrix)}this._scale=v;if(this._scale instanceof Two.Vector){this._scale.bind(Two.Events.change,this._renderer.flagMatrix)}this._flagMatrix=true;this._flagScale=true}})}});_.extend(Shape.prototype,Two.Utils.Events,{_flagMatrix:true,_flagScale:false,_translation:null,_rotation:0,_scale:1,constructor:Shape,addTo:function(group){group.add(this);return this},clone:function(parent){var clone=new Shape;clone.translation.copy(this.translation);clone.rotation=this.rotation;clone.scale=this.scale;if(parent){parent.add(clone)}return clone._update()},_update:function(bubbles){if(!this._matrix.manual&&this._flagMatrix){this._matrix.identity().translate(this.translation.x,this.translation.y);if(this._scale instanceof Two.Vector){this._matrix.scale(this._scale.x,this._scale.y)}else{this._matrix.scale(this._scale)}this._matrix.rotate(this.rotation)}if(bubbles){if(this.parent&&this.parent._update){this.parent._update()}}return this},flagReset:function(){this._flagMatrix=this._flagScale=false;return this}});Shape.MakeObservable(Shape.prototype)})((typeof global!=="undefined"?global:this||window).Two);(function(Two){var min=Math.min,max=Math.max,round=Math.round,ceil=Math.ceil,floor=Math.floor,getComputedMatrix=Two.Utils.getComputedMatrix;var commands={};var _=Two.Utils;_.each(Two.Commands,function(v,k){commands[k]=new RegExp(v)});var Path=Two.Path=function(vertices,closed,curved,manual){Two.Shape.call(this);this._renderer.type="path";this._renderer.flagVertices=_.bind(Path.FlagVertices,this);this._renderer.bindVertices=_.bind(Path.BindVertices,this);this._renderer.unbindVertices=_.bind(Path.UnbindVertices,this);this._renderer.flagFill=_.bind(Path.FlagFill,this);this._renderer.flagStroke=_.bind(Path.FlagStroke,this);this._renderer.vertices=[];this._renderer.collection=[];this._closed=!!closed;this._curved=!!curved;this.beginning=0;this.ending=1;this.fill="#fff";this.stroke="#000";this.linewidth=1;this.opacity=1;this.className="";this.visible=true;this.cap="butt";this.join="miter";this.miter=4;this.vertices=vertices;this.automatic=!manual;this.dashes=[]};_.extend(Path,{Properties:["fill","stroke","linewidth","opacity","className","visible","cap","join","miter","closed","curved","automatic","beginning","ending"],Utils:{getCurveLength:getCurveLength},FlagVertices:function(){this._flagVertices=true;this._flagLength=true;if(this.parent){this.parent._flagLength=true}},BindVertices:function(items){var i=items.length;while(i--){items[i].bind(Two.Events.change,this._renderer.flagVertices)}this._renderer.flagVertices()},UnbindVertices:function(items){var i=items.length;while(i--){items[i].unbind(Two.Events.change,this._renderer.flagVertices)}this._renderer.flagVertices()},FlagFill:function(){this._flagFill=true},FlagStroke:function(){this._flagStroke=true},MakeObservable:function(object){Two.Shape.MakeObservable(object);_.each(Path.Properties.slice(2,9),Two.Utils.defineProperty,object);Object.defineProperty(object,"fill",{enumerable:true,get:function(){return this._fill},set:function(f){if(this._fill instanceof Two.Gradient||this._fill instanceof Two.LinearGradient||this._fill instanceof Two.RadialGradient||this._fill instanceof Two.Texture){this._fill.unbind(Two.Events.change,this._renderer.flagFill)}this._fill=f;this._flagFill=true;if(this._fill instanceof Two.Gradient||this._fill instanceof Two.LinearGradient||this._fill instanceof Two.RadialGradient||this._fill instanceof Two.Texture){this._fill.bind(Two.Events.change,this._renderer.flagFill)}}});Object.defineProperty(object,"stroke",{enumerable:true,get:function(){return this._stroke},set:function(f){if(this._stroke instanceof Two.Gradient||this._stroke instanceof Two.LinearGradient||this._stroke instanceof Two.RadialGradient||this._stroke instanceof Two.Texture){this._stroke.unbind(Two.Events.change,this._renderer.flagStroke)}this._stroke=f;this._flagStroke=true;if(this._stroke instanceof Two.Gradient||this._stroke instanceof Two.LinearGradient||this._stroke instanceof Two.RadialGradient||this._stroke instanceof Two.Texture){this._stroke.bind(Two.Events.change,this._renderer.flagStroke)}}});Object.defineProperty(object,"length",{get:function(){if(this._flagLength){this._updateLength()}return this._length}});Object.defineProperty(object,"closed",{enumerable:true,get:function(){return this._closed},set:function(v){this._closed=!!v;this._flagVertices=true}});Object.defineProperty(object,"curved",{enumerable:true,get:function(){return this._curved},set:function(v){this._curved=!!v;this._flagVertices=true}});Object.defineProperty(object,"automatic",{enumerable:true,get:function(){return this._automatic},set:function(v){if(v===this._automatic){return}this._automatic=!!v;var method=this._automatic?"ignore":"listen";_.each(this.vertices,function(v){v[method]()})}});Object.defineProperty(object,"beginning",{enumerable:true,get:function(){return this._beginning},set:function(v){this._beginning=v;this._flagVertices=true}});Object.defineProperty(object,"ending",{enumerable:true,get:function(){return this._ending},set:function(v){this._ending=v;this._flagVertices=true}});Object.defineProperty(object,"vertices",{enumerable:true,get:function(){return this._collection},set:function(vertices){var updateVertices=this._renderer.flagVertices;var bindVertices=this._renderer.bindVertices;var unbindVertices=this._renderer.unbindVertices;if(this._collection){this._collection.unbind(Two.Events.insert,bindVertices).unbind(Two.Events.remove,unbindVertices)}if(vertices instanceof Two.Utils.Collection){this._collection=vertices}else{this._collection=new Two.Utils.Collection(vertices||[])}this._collection.bind(Two.Events.insert,bindVertices).bind(Two.Events.remove,unbindVertices);bindVertices(this._collection)}});Object.defineProperty(object,"clip",{enumerable:true,get:function(){return this._clip},set:function(v){this._clip=v;this._flagClip=true}})}});_.extend(Path.prototype,Two.Shape.prototype,{_flagVertices:true,_flagLength:true,_flagFill:true,_flagStroke:true,_flagLinewidth:true,_flagOpacity:true,_flagVisible:true,_flagClassName:true,_flagCap:true,_flagJoin:true,_flagMiter:true,_flagClip:false,_length:0,_fill:"#fff",_stroke:"#000",_linewidth:1,_opacity:1,_className:"",_visible:true,_cap:"round",_join:"round",_miter:4,_closed:true,_curved:false,_automatic:true,_beginning:0,_ending:1,_clip:false,constructor:Path,clone:function(parent){var clone=new Path;clone.vertices=this.vertices;for(var i=0;i<Path.Properties.length;i++){var k=Path.Properties[i];clone[k]=this[k]}clone.translation.copy(this.translation);clone.rotation=this.rotation;clone.scale=this.scale;if(parent){parent.add(clone)}return clone._update()},toObject:function(){var result={vertices:_.map(this.vertices,function(v){return v.toObject()})};_.each(Two.Shape.Properties,function(k){result[k]=this[k]},this);result.translation=this.translation.toObject();result.rotation=this.rotation;result.scale=this.scale instanceof Two.Vector?this.scale.toObject():this.scale;return result},noFill:function(){this.fill="transparent";return this},noStroke:function(){this.stroke="transparent";return this},corner:function(){var rect=this.getBoundingClientRect(true);rect.centroid={x:rect.left+rect.width/2,y:rect.top+rect.height/2};_.each(this.vertices,function(v){v.addSelf(rect.centroid)});return this},center:function(){var rect=this.getBoundingClientRect(true);rect.centroid={x:rect.left+rect.width/2,y:rect.top+rect.height/2};_.each(this.vertices,function(v){v.subSelf(rect.centroid)});return this},remove:function(){if(!this.parent){return this}this.parent.remove(this);return this},getBoundingClientRect:function(shallow){var matrix,border,l,x,y,i,v0,c0,c1,v1;var left=Infinity,right=-Infinity,top=Infinity,bottom=-Infinity;this._update(true);matrix=!!shallow?this._matrix:getComputedMatrix(this);border=this.linewidth/2;l=this._renderer.vertices.length;if(l<=0){v=matrix.multiply(0,0,1);return{top:v.y,left:v.x,right:v.x,bottom:v.y,width:0,height:0}}for(i=1;i<l;i++){v1=this._renderer.vertices[i];v0=this._renderer.vertices[i-1];if(v0.controls&&v1.controls){if(v0.relative){c0=matrix.multiply(v0.controls.right.x+v0.x,v0.controls.right.y+v0.y,1)}else{c0=matrix.multiply(v0.controls.right.x,v0.controls.right.y,1)}v0=matrix.multiply(v0.x,v0.y,1);if(v1.relative){c1=matrix.multiply(v1.controls.left.x+v1.x,v1.controls.left.y+v1.y,1)}else{c1=matrix.multiply(v1.controls.left.x,v1.controls.left.y,1)}v1=matrix.multiply(v1.x,v1.y,1);var bb=Two.Utils.getCurveBoundingBox(v0.x,v0.y,c0.x,c0.y,c1.x,c1.y,v1.x,v1.y);top=min(bb.min.y-border,top);left=min(bb.min.x-border,left);right=max(bb.max.x+border,right);bottom=max(bb.max.y+border,bottom)}else{if(i<=1){v0=matrix.multiply(v0.x,v0.y,1);top=min(v0.y-border,top);left=min(v0.x-border,left);right=max(v0.x+border,right);bottom=max(v0.y+border,bottom)}v1=matrix.multiply(v1.x,v1.y,1);top=min(v1.y-border,top);left=min(v1.x-border,left);right=max(v1.x+border,right);bottom=max(v1.y+border,bottom)}}return{top:top,left:left,right:right,bottom:bottom,width:right-left,height:bottom-top}},getPointAt:function(t,obj){var ia,ib,result;var x,x1,x2,x3,x4,y,y1,y2,y3,y4,left,right;var target=this.length*Math.min(Math.max(t,0),1);var length=this.vertices.length;var last=length-1;var a=null;var b=null;for(var i=0,l=this._lengths.length,sum=0;i<l;i++){if(sum+this._lengths[i]>=target){if(this._closed){ia=Two.Utils.mod(i,length);ib=Two.Utils.mod(i-1,length);if(i===0){ia=ib;ib=i}}else{ia=i;ib=Math.min(Math.max(i-1,0),last)}a=this.vertices[ia];b=this.vertices[ib];target-=sum;if(this._lengths[i]!==0){t=target/this._lengths[i]}else{t=0}break}sum+=this._lengths[i]}if(_.isNull(a)||_.isNull(b)){return null}if(!a){return b}else if(!b){return a}right=b.controls&&b.controls.right;left=a.controls&&a.controls.left;x1=b.x;y1=b.y;x2=(right||b).x;y2=(right||b).y;x3=(left||a).x;y3=(left||a).y;x4=a.x;y4=a.y;if(right&&b.relative){x2+=b.x;y2+=b.y}if(left&&a.relative){x3+=a.x;y3+=a.y}x=Two.Utils.getComponentOnCubicBezier(t,x1,x2,x3,x4);y=Two.Utils.getComponentOnCubicBezier(t,y1,y2,y3,y4);var t1x=Two.Utils.lerp(x1,x2,t);var t1y=Two.Utils.lerp(y1,y2,t);var t2x=Two.Utils.lerp(x2,x3,t);var t2y=Two.Utils.lerp(y2,y3,t);var t3x=Two.Utils.lerp(x3,x4,t);var t3y=Two.Utils.lerp(y3,y4,t);var brx=Two.Utils.lerp(t1x,t2x,t);var bry=Two.Utils.lerp(t1y,t2y,t);var alx=Two.Utils.lerp(t2x,t3x,t);var aly=Two.Utils.lerp(t2y,t3y,t);if(_.isObject(obj)){obj.x=x;obj.y=y;if(!_.isObject(obj.controls)){Two.Anchor.AppendCurveProperties(obj)}obj.controls.left.x=brx;obj.controls.left.y=bry;obj.controls.right.x=alx;obj.controls.right.y=aly;if(!_.isBoolean(obj.relative)||obj.relative){obj.controls.left.x-=x;obj.controls.left.y-=y;obj.controls.right.x-=x;obj.controls.right.y-=y}obj.t=t;return obj}result=new Two.Anchor(x,y,brx-x,bry-y,alx-x,aly-y,this._curved?Two.Commands.curve:Two.Commands.line);result.t=t;return result},plot:function(){if(this.curved){Two.Utils.getCurveFromPoints(this._collection,this.closed);return this}for(var i=0;i<this._collection.length;i++){this._collection[i].command=i===0?Two.Commands.move:Two.Commands.line}return this},subdivide:function(limit){this._update();var last=this.vertices.length-1;var b=this.vertices[last];var closed=this._closed||this.vertices[last]._command===Two.Commands.close;var points=[];_.each(this.vertices,function(a,i){if(i<=0&&!closed){b=a;return}if(a.command===Two.Commands.move){points.push(new Two.Anchor(b.x,b.y));if(i>0){points[points.length-1].command=Two.Commands.line}b=a;return}var verts=getSubdivisions(a,b,limit);points=points.concat(verts);_.each(verts,function(v,i){if(i<=0&&b.command===Two.Commands.move){v.command=Two.Commands.move}else{v.command=Two.Commands.line}});if(i>=last){if(this._closed&&this._automatic){b=a;verts=getSubdivisions(a,b,limit);points=points.concat(verts);_.each(verts,function(v,i){if(i<=0&&b.command===Two.Commands.move){v.command=Two.Commands.move}else{v.command=Two.Commands.line}})}else if(closed){points.push(new Two.Anchor(a.x,a.y))}points[points.length-1].command=closed?Two.Commands.close:Two.Commands.line}b=a},this);this._automatic=false;this._curved=false;this.vertices=points;return this},_updateLength:function(limit,silent){if(!silent){this._update()}var length=this.vertices.length;var last=length-1;var b=this.vertices[last];var closed=false;var sum=0;if(_.isUndefined(this._lengths)){this._lengths=[]}_.each(this.vertices,function(a,i){if(i<=0&&!closed||a.command===Two.Commands.move){b=a;this._lengths[i]=0;return}this._lengths[i]=getCurveLength(a,b,limit);this._lengths[i]=Two.Utils.toFixed(this._lengths[i]);sum+=this._lengths[i];if(i>=last&&closed){b=this.vertices[(i+1)%length];this._lengths[i+1]=getCurveLength(a,b,limit);this._lengths[i+1]=Two.Utils.toFixed(this._lengths[i+1]);sum+=this._lengths[i+1]}b=a},this);this._length=sum;this._flagLength=false;return this},_update:function(){if(this._flagVertices){if(this._automatic){this.plot()}if(this._flagLength){this._updateLength(undefined,true)}var l=this._collection.length;var last=l-1;var closed=this._closed;var beginning=Math.min(this._beginning,this._ending);var ending=Math.max(this._beginning,this._ending);var bid=getIdByLength(this,beginning*this._length);var eid=getIdByLength(this,ending*this._length);var low=ceil(bid);var high=floor(eid);var left,right,prev,next,v;this._renderer.vertices.length=0;for(var i=0;i<l;i++){if(this._renderer.collection.length<=i){this._renderer.collection.push(new Two.Anchor)}if(i>high&&!right){v=this._renderer.collection[i];v.copy(this._collection[i]);this.getPointAt(ending,v);v.command=this._renderer.collection[i].command;this._renderer.vertices.push(v);right=v;prev=this._collection[i-1];if(prev&&prev.controls){v.controls.right.clear();this._renderer.collection[i-1].controls.right.clear().lerp(prev.controls.right,v.t)}}else if(i>=low&&i<=high){v=this._renderer.collection[i].copy(this._collection[i]);this._renderer.vertices.push(v);if(i===high&&contains(this,ending)){right=v;if(!closed&&right.controls){right.controls.right.clear()}}else if(i===low&&contains(this,beginning)){left=v;left.command=Two.Commands.move;if(!closed&&left.controls){left.controls.left.clear()}}}}if(low>0&&!left){i=low-1;v=this._renderer.collection[i];v.copy(this._collection[i]);this.getPointAt(beginning,v);v.command=Two.Commands.move;this._renderer.vertices.unshift(v);left=v;next=this._collection[i+1];if(next&&next.controls){v.controls.left.clear();this._renderer.collection[i+1].controls.left.copy(next.controls.left).lerp(Two.Vector.zero,v.t)}}}Two.Shape.prototype._update.apply(this,arguments);return this},flagReset:function(){this._flagVertices=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagCap=this._flagJoin=this._flagMiter=this._flagClassName=this._flagClip=false;Two.Shape.prototype.flagReset.call(this);return this}});Path.MakeObservable(Path.prototype);function contains(path,t){if(t===0||t===1){return true}var length=path._length;var target=length*t;var elapsed=0;for(var i=0;i<path._lengths.length;i++){var dist=path._lengths[i];if(elapsed>=target){return target-elapsed>=0}elapsed+=dist}return false}function getIdByLength(path,target){var total=path._length;if(target<=0){return 0}else if(target>=total){return path._lengths.length-1}for(var i=0,sum=0;i<path._lengths.length;i++){if(sum+path._lengths[i]>=target){target-=sum;return Math.max(i-1,0)+target/path._lengths[i]}sum+=path._lengths[i]}return-1}function getCurveLength(a,b,limit){var x1,x2,x3,x4,y1,y2,y3,y4;var right=b.controls&&b.controls.right;var left=a.controls&&a.controls.left;x1=b.x;y1=b.y;x2=(right||b).x;y2=(right||b).y;x3=(left||a).x;y3=(left||a).y;x4=a.x;y4=a.y;if(right&&b._relative){x2+=b.x;y2+=b.y}if(left&&a._relative){x3+=a.x;y3+=a.y}return Two.Utils.getCurveLength(x1,y1,x2,y2,x3,y3,x4,y4,limit)}function getSubdivisions(a,b,limit){var x1,x2,x3,x4,y1,y2,y3,y4;var right=b.controls&&b.controls.right;var left=a.controls&&a.controls.left;x1=b.x;y1=b.y;x2=(right||b).x;y2=(right||b).y;x3=(left||a).x;y3=(left||a).y;x4=a.x;y4=a.y;if(right&&b._relative){x2+=b.x;y2+=b.y}if(left&&a._relative){x3+=a.x;y3+=a.y}return Two.Utils.subdivide(x1,y1,x2,y2,x3,y3,x4,y4,limit)}})((typeof global!=="undefined"?global:this||window).Two);(function(Two){var Path=Two.Path;var _=Two.Utils;var Line=Two.Line=function(x1,y1,x2,y2){var width=x2-x1;var height=y2-y1;var w2=width/2;var h2=height/2;Path.call(this,[new Two.Anchor(x1,y1),new Two.Anchor(x2,y2)]);this.vertices[0].command=Two.Commands.move;this.vertices[1].command=Two.Commands.line;this.automatic=false};_.extend(Line.prototype,Path.prototype);Line.prototype.constructor=Line;Path.MakeObservable(Line.prototype)})((typeof global!=="undefined"?global:this||window).Two);(function(Two){var Path=Two.Path;var _=Two.Utils;var Rectangle=Two.Rectangle=function(x,y,width,height){Path.call(this,[new Two.Anchor,new Two.Anchor,new Two.Anchor,new Two.Anchor],true,false,true);this.width=width;this.height=height;this.origin=new Two.Vector;this.translation.set(x,y);this._update()};_.extend(Rectangle,{Properties:["width","height"],MakeObservable:function(object){Path.MakeObservable(object);_.each(Rectangle.Properties,Two.Utils.defineProperty,object);Object.defineProperty(object,"origin",{enumerable:true,get:function(){return this._origin},set:function(v){if(this._origin){this._origin.unbind(Two.Events.change,this._renderer.flagVertices)}this._origin=v;this._origin.bind(Two.Events.change,this._renderer.flagVertices);this._renderer.flagVertices()}})}});_.extend(Rectangle.prototype,Path.prototype,{_width:0,_height:0,_flagWidth:0,_flagHeight:0,_origin:null,constructor:Rectangle,_update:function(){if(this._flagWidth||this._flagHeight){var xr=this._width/2;var yr=this._height/2;this.vertices[0].set(-xr,-yr).add(this._origin).command=Two.Commands.move;this.vertices[1].set(xr,-yr).add(this._origin).command=Two.Commands.line;this.vertices[2].set(xr,yr).add(this._origin).command=Two.Commands.line;this.vertices[3].set(-xr,yr).add(this._origin).command=Two.Commands.line;if(this.vertices[4]){this.vertices[4].set(-xr,-yr).add(this._origin).command=Two.Commands.line}}Path.prototype._update.call(this);return this},flagReset:function(){this._flagWidth=this._flagHeight=false;Path.prototype.flagReset.call(this);return this},clone:function(parent){var clone=new Rectangle(0,0,this.width,this.height);clone.translation.copy(this.translation);clone.rotation=this.rotation;clone.scale=this.scale;_.each(Two.Path.Properties,function(k){clone[k]=this[k]},this);if(parent){parent.add(clone)}return clone}});Rectangle.MakeObservable(Rectangle.prototype)})((typeof global!=="undefined"?global:this||window).Two);(function(Two){var Path=Two.Path,TWO_PI=Math.PI*2,HALF_PI=Math.PI/2;var cos=Math.cos,sin=Math.sin;var _=Two.Utils;var c=4/3*Math.tan(Math.PI/8);var Ellipse=Two.Ellipse=function(ox,oy,rx,ry,resolution){if(!_.isNumber(ry)){ry=rx}var amount=resolution||5;var points=_.map(_.range(amount),function(i){return new Two.Anchor},this);Path.call(this,points,true,true,true);this.width=rx*2;this.height=ry*2;this._update();this.translation.set(ox,oy)};_.extend(Ellipse,{Properties:["width","height"],MakeObservable:function(obj){Path.MakeObservable(obj);_.each(Ellipse.Properties,Two.Utils.defineProperty,obj)}});_.extend(Ellipse.prototype,Path.prototype,{_width:0,_height:0,_flagWidth:false,_flagHeight:false,constructor:Ellipse,_update:function(){if(this._flagWidth||this._flagHeight){for(var i=0,l=this.vertices.length,last=l-1;i<l;i++){var pct=i/last;var theta=pct*TWO_PI;var rx=this._width/2;var ry=this._height/2;var ct=cos(theta);var st=sin(theta);var x=rx*cos(theta);var y=ry*sin(theta);var lx=i===0?0:rx*c*cos(theta-HALF_PI);var ly=i===0?0:ry*c*sin(theta-HALF_PI);var rx=i===last?0:rx*c*cos(theta+HALF_PI);var ry=i===last?0:ry*c*sin(theta+HALF_PI);var v=this.vertices[i];v.command=i===0?Two.Commands.move:Two.Commands.curve;v.set(x,y);v.controls.left.set(lx,ly);v.controls.right.set(rx,ry)}}Path.prototype._update.call(this);return this},flagReset:function(){this._flagWidth=this._flagHeight=false;Path.prototype.flagReset.call(this);return this},clone:function(parent){var rx=this.width/2;var ry=this.height/2;var resolution=this.vertices.length;var clone=new Ellipse(0,0,rx,ry,resolution);clone.translation.copy(this.translation);clone.rotation=this.rotation;clone.scale=this.scale;_.each(Two.Path.Properties,function(k){clone[k]=this[k]},this);if(parent){parent.add(clone)}return clone}});Ellipse.MakeObservable(Ellipse.prototype)})((typeof global!=="undefined"?global:this||window).Two);(function(Two){var Path=Two.Path,TWO_PI=Math.PI*2,HALF_PI=Math.PI/2;var cos=Math.cos,sin=Math.sin;var _=Two.Utils;var c=4/3*Math.tan(Math.PI/8);var Circle=Two.Circle=function(ox,oy,r,res){var amount=res||5;var points=_.map(_.range(amount),function(i){return new Two.Anchor},this);Path.call(this,points,true,true,true);this.radius=r;this._update();this.translation.set(ox,oy)};_.extend(Circle,{Properties:["radius"],MakeObservable:function(obj){Path.MakeObservable(obj);_.each(Circle.Properties,Two.Utils.defineProperty,obj)}});_.extend(Circle.prototype,Path.prototype,{_radius:0,_flagRadius:false,constructor:Circle,_update:function(){if(this._flagRadius){for(var i=0,l=this.vertices.length,last=l-1;i<l;i++){var pct=i/last;var theta=pct*TWO_PI;var radius=this._radius;var ct=cos(theta);var st=sin(theta);var rc=radius*c;var x=radius*cos(theta);var y=radius*sin(theta);var lx=i===0?0:rc*cos(theta-HALF_PI);var ly=i===0?0:rc*sin(theta-HALF_PI);var rx=i===last?0:rc*cos(theta+HALF_PI);var ry=i===last?0:rc*sin(theta+HALF_PI);var v=this.vertices[i];v.command=i===0?Two.Commands.move:Two.Commands.curve;v.set(x,y);v.controls.left.set(lx,ly);v.controls.right.set(rx,ry)}}Path.prototype._update.call(this);return this},flagReset:function(){this._flagRadius=false;Path.prototype.flagReset.call(this);return this},clone:function(parent){var clone=new Circle(0,0,this.radius,this.vertices.length);clone.translation.copy(this.translation);clone.rotation=this.rotation;clone.scale=this.scale;_.each(Two.Path.Properties,function(k){clone[k]=this[k]},this);if(parent){parent.add(clone)}return clone}});Circle.MakeObservable(Circle.prototype)})((typeof global!=="undefined"?global:this||window).Two);(function(Two){var Path=Two.Path,TWO_PI=Math.PI*2,cos=Math.cos,sin=Math.sin;var _=Two.Utils;var Polygon=Two.Polygon=function(ox,oy,r,sides){sides=Math.max(sides||0,3);Path.call(this);this.closed=true;this.automatic=false;this.width=r*2;this.height=r*2;this.sides=sides;this._update();this.translation.set(ox,oy)};_.extend(Polygon,{Properties:["width","height","sides"],MakeObservable:function(obj){Path.MakeObservable(obj);_.each(Polygon.Properties,Two.Utils.defineProperty,obj)}});_.extend(Polygon.prototype,Path.prototype,{_width:0,_height:0,_sides:0,_flagWidth:false,_flagHeight:false,_flagSides:false,constructor:Polygon,_update:function(){if(this._flagWidth||this._flagHeight||this._flagSides){var sides=this._sides;var amount=sides+1;var length=this.vertices.length;if(length>sides){this.vertices.splice(sides-1,length-sides);length=sides}for(var i=0;i<amount;i++){var pct=(i+.5)/sides;var theta=TWO_PI*pct+Math.PI/2;var x=this._width*cos(theta)/2;var y=this._height*sin(theta)/2;if(i>=length){this.vertices.push(new Two.Anchor(x,y))}else{this.vertices[i].set(x,y)}this.vertices[i].command=i===0?Two.Commands.move:Two.Commands.line}}Path.prototype._update.call(this);return this},flagReset:function(){this._flagWidth=this._flagHeight=this._flagSides=false;Path.prototype.flagReset.call(this);return this},clone:function(parent){var clone=new Polygon(0,0,this.radius,this.sides);clone.translation.copy(this.translation);clone.rotation=this.rotation;clone.scale=this.scale;_.each(Two.Path.Properties,function(k){clone[k]=this[k]},this);if(parent){parent.add(clone)}return clone}});Polygon.MakeObservable(Polygon.prototype)})((typeof global!=="undefined"?global:this||window).Two);(function(Two){var Path=Two.Path,PI=Math.PI,TWO_PI=Math.PI*2,HALF_PI=Math.PI/2,cos=Math.cos,sin=Math.sin,abs=Math.abs,_=Two.Utils;var ArcSegment=Two.ArcSegment=function(ox,oy,ir,or,sa,ea,res){var amount=res||Two.Resolution*3;var points=_.map(_.range(amount),function(){return new Two.Anchor});Path.call(this,points,true,false,true);this.innerRadius=ir;this.outerRadius=or;this.startAngle=sa;this.endAngle=ea;this._update();this.translation.set(ox,oy)};_.extend(ArcSegment,{Properties:["startAngle","endAngle","innerRadius","outerRadius"],MakeObservable:function(obj){Path.MakeObservable(obj);_.each(ArcSegment.Properties,Two.Utils.defineProperty,obj)}});_.extend(ArcSegment.prototype,Path.prototype,{_flagStartAngle:false,_flagEndAngle:false,_flagInnerRadius:false,_flagOuterRadius:false,_startAngle:0,_endAngle:TWO_PI,_innerRadius:0,_outerRadius:0,constructor:ArcSegment,_update:function(){if(this._flagStartAngle||this._flagEndAngle||this._flagInnerRadius||this._flagOuterRadius){var sa=this._startAngle;var ea=this._endAngle;var ir=this._innerRadius;var or=this._outerRadius;var connected=mod(sa,TWO_PI)===mod(ea,TWO_PI);var punctured=ir>0;var vertices=this.vertices;var length=punctured?vertices.length/2:vertices.length;var command,id=0;if(connected){length--}else if(!punctured){length-=2}for(var i=0,last=length-1;i<length;i++){var pct=i/last;var v=vertices[id];var theta=pct*(ea-sa)+sa;var step=(ea-sa)/length;var x=or*Math.cos(theta);var y=or*Math.sin(theta);switch(i){case 0:command=Two.Commands.move;break;default:command=Two.Commands.curve}v.command=command;v.x=x;v.y=y;v.controls.left.clear();v.controls.right.clear();if(v.command===Two.Commands.curve){var amp=or*step/Math.PI;v.controls.left.x=amp*Math.cos(theta-HALF_PI);v.controls.left.y=amp*Math.sin(theta-HALF_PI);v.controls.right.x=amp*Math.cos(theta+HALF_PI);v.controls.right.y=amp*Math.sin(theta+HALF_PI);if(i===1){v.controls.left.multiplyScalar(2)}if(i===last){v.controls.right.multiplyScalar(2)}}id++}if(punctured){if(connected){vertices[id].command=Two.Commands.close;id++}else{length--;last=length-1}for(i=0;i<length;i++){pct=i/last;v=vertices[id];theta=(1-pct)*(ea-sa)+sa;step=(ea-sa)/length;x=ir*Math.cos(theta);y=ir*Math.sin(theta);command=Two.Commands.curve;if(i<=0){command=connected?Two.Commands.move:Two.Commands.line}v.command=command;v.x=x;v.y=y;v.controls.left.clear();v.controls.right.clear();if(v.command===Two.Commands.curve){amp=ir*step/Math.PI;v.controls.left.x=amp*Math.cos(theta+HALF_PI);v.controls.left.y=amp*Math.sin(theta+HALF_PI);v.controls.right.x=amp*Math.cos(theta-HALF_PI);v.controls.right.y=amp*Math.sin(theta-HALF_PI);if(i===1){v.controls.left.multiplyScalar(2)}if(i===last){v.controls.right.multiplyScalar(2)}}id++}vertices[id].copy(vertices[0]);vertices[id].command=Two.Commands.line}else if(!connected){vertices[id].command=Two.Commands.line;vertices[id].x=0;vertices[id].y=0;id++;vertices[id].copy(vertices[0]);vertices[id].command=Two.Commands.line}}Path.prototype._update.call(this);return this},flagReset:function(){Path.prototype.flagReset.call(this);this._flagStartAngle=this._flagEndAngle=this._flagInnerRadius=this._flagOuterRadius=false;return this},clone:function(parent){var ir=this.innerRadius;var or=this.outerradius;var sa=this.startAngle;var ea=this.endAngle;var resolution=this.vertices.length;var clone=new ArcSegment(0,0,ir,or,sa,ea,resolution);clone.translation.copy(this.translation);clone.rotation=this.rotation;clone.scale=this.scale;_.each(Two.Path.Properties,function(k){clone[k]=this[k]},this);if(parent){parent.add(clone)}return clone}});ArcSegment.MakeObservable(ArcSegment.prototype);function mod(v,l){while(v<0){v+=l}return v%l}})((typeof global!=="undefined"?global:this||window).Two);(function(Two){var Path=Two.Path,TWO_PI=Math.PI*2,cos=Math.cos,sin=Math.sin;var _=Two.Utils;var Star=Two.Star=function(ox,oy,ir,or,sides){if(arguments.length<=3){or=ir;ir=or/2}if(!_.isNumber(sides)||sides<=0){sides=5}var length=sides*2;Path.call(this);this.closed=true;this.automatic=false;this.innerRadius=ir;this.outerRadius=or;this.sides=sides;this._update();this.translation.set(ox,oy)};_.extend(Star,{Properties:["innerRadius","outerRadius","sides"],MakeObservable:function(obj){Path.MakeObservable(obj);_.each(Star.Properties,Two.Utils.defineProperty,obj)}});_.extend(Star.prototype,Path.prototype,{_innerRadius:0,_outerRadius:0,_sides:0,_flagInnerRadius:false,_flagOuterRadius:false,_flagSides:false,constructor:Star,_update:function(){if(this._flagInnerRadius||this._flagOuterRadius||this._flagSides){var sides=this._sides*2;var amount=sides+1;var length=this.vertices.length;if(length>sides){this.vertices.splice(sides-1,length-sides);length=sides}for(var i=0;i<amount;i++){var pct=(i+.5)/sides;var theta=TWO_PI*pct;var r=(!(i%2)?this._innerRadius:this._outerRadius)/2;var x=r*cos(theta);var y=r*sin(theta);if(i>=length){this.vertices.push(new Two.Anchor(x,y))}else{this.vertices[i].set(x,y)}this.vertices[i].command=i===0?Two.Commands.move:Two.Commands.line}}Path.prototype._update.call(this);return this},flagReset:function(){this._flagInnerRadius=this._flagOuterRadius=this._flagSides=false;Path.prototype.flagReset.call(this);return this},clone:function(parent){var ir=this.innerRadius;var or=this.outerRadius;var sides=this.sides;var clone=new Star(0,0,ir,or,sides);clone.translation.copy(this.translation);clone.rotation=this.rotation;clone.scale=this.scale;_.each(Two.Path.Properties,function(k){clone[k]=this[k]},this);if(parent){parent.add(clone)}return clone}});Star.MakeObservable(Star.prototype)})((typeof global!=="undefined"?global:this||window).Two);(function(Two){var Path=Two.Path;var _=Two.Utils;var RoundedRectangle=Two.RoundedRectangle=function(ox,oy,width,height,radius){if(_.isUndefined(radius)){radius=Math.floor(Math.min(width,height)/12)}var amount=10;var points=_.map(_.range(amount),function(i){return new Two.Anchor(0,0,0,0,0,0,i===0?Two.Commands.move:Two.Commands.curve)});Path.call(this,points);this.closed=true;this.automatic=false;this._renderer.flagRadius=_.bind(RoundedRectangle.FlagRadius,this);this.width=width;this.height=height;this.radius=radius;this._update();this.translation.set(ox,oy)};_.extend(RoundedRectangle,{Properties:["width","height"],FlagRadius:function(){this._flagRadius=true},MakeObservable:function(object){Path.MakeObservable(object);_.each(RoundedRectangle.Properties,Two.Utils.defineProperty,object);Object.defineProperty(object,"radius",{enumerable:true,get:function(){return this._radius},set:function(v){if(this._radius instanceof Two.Vector){this._radius.unbind(Two.Events.change,this._renderer.flagRadius)}this._radius=v;if(this._radius instanceof Two.Vector){this._radius.bind(Two.Events.change,this._renderer.flagRadius)}this._flagRadius=true}})}});_.extend(RoundedRectangle.prototype,Path.prototype,{_width:0,_height:0,_radius:0,_flagWidth:false,_flagHeight:false,_flagRadius:false,constructor:RoundedRectangle,_update:function(){if(this._flagWidth||this._flagHeight||this._flagRadius){var width=this._width;var height=this._height;var rx,ry;if(this._radius instanceof Two.Vector){rx=this._radius.x;ry=this._radius.y}else{rx=this._radius;ry=this._radius}var v;var w=width/2;var h=height/2;v=this.vertices[0];v.x=-(w-rx);v.y=-h;v=this.vertices[1];v.x=w-rx;v.y=-h;v.controls.left.clear();v.controls.right.x=rx;v.controls.right.y=0;v=this.vertices[2];v.x=w;v.y=-(h-ry);v.controls.right.clear();v.controls.left.clear();v=this.vertices[3];v.x=w;v.y=h-ry;v.controls.left.clear();v.controls.right.x=0;v.controls.right.y=ry;v=this.vertices[4];v.x=w-rx;v.y=h;v.controls.right.clear();v.controls.left.clear();v=this.vertices[5];v.x=-(w-rx);v.y=h;v.controls.left.clear();v.controls.right.x=-rx;v.controls.right.y=0;v=this.vertices[6];v.x=-w;v.y=h-ry;v.controls.left.clear();v.controls.right.clear();v=this.vertices[7];v.x=-w;v.y=-(h-ry);v.controls.left.clear();v.controls.right.x=0;v.controls.right.y=-ry;v=this.vertices[8];v.x=-(w-rx);v.y=-h;v.controls.left.clear();v.controls.right.clear();v=this.vertices[9];v.copy(this.vertices[8])}Path.prototype._update.call(this);return this},flagReset:function(){this._flagWidth=this._flagHeight=this._flagRadius=false;Path.prototype.flagReset.call(this);return this},clone:function(parent){var width=this.width;var height=this.height;var radius=this.radius;var clone=new RoundedRectangle(0,0,width,height,radius);clone.translation.copy(this.translation);clone.rotation=this.rotation;clone.scale=this.scale;_.each(Two.Path.Properties,function(k){clone[k]=this[k]},this);if(parent){parent.add(clone)}return clone}});RoundedRectangle.MakeObservable(RoundedRectangle.prototype)})((typeof global!=="undefined"?global:this||window).Two);(function(Two){var root=Two.root;var getComputedMatrix=Two.Utils.getComputedMatrix;var _=Two.Utils;var canvas=getCanvas();var ctx=canvas.getContext("2d");var Text=Two.Text=function(message,x,y,styles){Two.Shape.call(this);this._renderer.type="text";this._renderer.flagFill=_.bind(Two.Text.FlagFill,this);this._renderer.flagStroke=_.bind(Two.Text.FlagStroke,this);this.value=message;if(_.isNumber(x)){this.translation.x=x}if(_.isNumber(y)){this.translation.y=y}this.dashes=[];if(!_.isObject(styles)){return this}_.each(Two.Text.Properties,function(property){if(property in styles){this[property]=styles[property]}},this)};_.extend(Two.Text,{Ratio:.6,Properties:["value","family","size","leading","alignment","linewidth","style","className","weight","decoration","baseline","opacity","visible","fill","stroke"],FlagFill:function(){this._flagFill=true},FlagStroke:function(){this._flagStroke=true},MakeObservable:function(object){Two.Shape.MakeObservable(object);_.each(Two.Text.Properties.slice(0,13),Two.Utils.defineProperty,object);Object.defineProperty(object,"fill",{enumerable:true,get:function(){return this._fill},set:function(f){if(this._fill instanceof Two.Gradient||this._fill instanceof Two.LinearGradient||this._fill instanceof Two.RadialGradient||this._fill instanceof Two.Texture){this._fill.unbind(Two.Events.change,this._renderer.flagFill)}this._fill=f;this._flagFill=true;if(this._fill instanceof Two.Gradient||this._fill instanceof Two.LinearGradient||this._fill instanceof Two.RadialGradient||this._fill instanceof Two.Texture){this._fill.bind(Two.Events.change,this._renderer.flagFill)}}});Object.defineProperty(object,"stroke",{enumerable:true,get:function(){return this._stroke},set:function(f){if(this._stroke instanceof Two.Gradient||this._stroke instanceof Two.LinearGradient||this._stroke instanceof Two.RadialGradient||this._stroke instanceof Two.Texture){this._stroke.unbind(Two.Events.change,this._renderer.flagStroke)}this._stroke=f;this._flagStroke=true;if(this._stroke instanceof Two.Gradient||this._stroke instanceof Two.LinearGradient||this._stroke instanceof Two.RadialGradient||this._stroke instanceof Two.Texture){this._stroke.bind(Two.Events.change,this._renderer.flagStroke)}}});Object.defineProperty(object,"clip",{enumerable:true,get:function(){return this._clip},set:function(v){this._clip=v;this._flagClip=true}})}});_.extend(Two.Text.prototype,Two.Shape.prototype,{_flagValue:true,_flagFamily:true,_flagSize:true,_flagLeading:true,_flagAlignment:true,_flagBaseline:true,_flagStyle:true,_flagWeight:true,_flagDecoration:true,_flagFill:true,_flagStroke:true,_flagLinewidth:true,_flagOpacity:true,_flagClassName:true,_flagVisible:true,_flagClip:false,_value:"",_family:"sans-serif",_size:13,_leading:17,_alignment:"center",_baseline:"middle",_style:"normal",_weight:500,_decoration:"none",_fill:"#000",_stroke:"transparent",_linewidth:1,_opacity:1,_className:"",_visible:true,_clip:false,constructor:Two.Text,remove:function(){if(!this.parent){return this}this.parent.remove(this);return this},clone:function(parent){var clone=new Two.Text(this.value);clone.translation.copy(this.translation);clone.rotation=this.rotation;clone.scale=this.scale;_.each(Two.Text.Properties,function(property){clone[property]=this[property]},this);if(parent){parent.add(clone)}return clone._update()},toObject:function(){var result={translation:this.translation.toObject(),rotation:this.rotation,scale:this.scale};_.each(Two.Text.Properties,function(property){result[property]=this[property]},this);return result},noStroke:function(){this.stroke="transparent";return this},noFill:function(){this.fill="transparent";return this},getBoundingClientRect:function(shallow){var matrix,border,l,x,y,i,v;var left,right,top,bottom;this._update(true);matrix=!!shallow?this._matrix:getComputedMatrix(this);var height=this.leading;var width=this.value.length*this.size*Text.Ratio;switch(this.alignment){case"left":left=0;right=width;break;case"right":left=-width;right=0;break;default:left=-width/2;right=width/2}switch(this.baseline){case"top":top=0;bottom=height;break;case"bottom":top=-height;bottom=0;break;default:top=-height/2;bottom=height/2}v=matrix.multiply(left,top,1);top=v.y;left=v.x;v=matrix.multiply(right,bottom,1);right=v.x;bottom=v.y;return{top:top,left:left,right:right,bottom:bottom,width:right-left,height:bottom-top}},flagReset:function(){this._flagValue=this._flagFamily=this._flagSize=this._flagLeading=this._flagAlignment=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagClip=this._flagDecoration=this._flagClassName=this._flagBaseline=false;Two.Shape.prototype.flagReset.call(this);return this}});Two.Text.MakeObservable(Two.Text.prototype);function getCanvas(){if(root.document){return root.document.createElement("canvas")}else{console.warn("Two.js: Unable to create canvas for Two.Text measurements.");return{getContext:_.identity}}}})((typeof global!=="undefined"?global:this||window).Two);(function(Two){var _=Two.Utils;var Stop=Two.Stop=function(offset,color,opacity){this._renderer={};this._renderer.type="stop";this.offset=_.isNumber(offset)?offset:Stop.Index<=0?0:1;this.opacity=_.isNumber(opacity)?opacity:1;this.color=_.isString(color)?color:Stop.Index<=0?"#fff":"#000";Stop.Index=(Stop.Index+1)%2};_.extend(Stop,{Index:0,Properties:["offset","opacity","color"],MakeObservable:function(object){_.each(Stop.Properties,function(property){var object=this;var secret="_"+property;var flag="_flag"+property.charAt(0).toUpperCase()+property.slice(1);Object.defineProperty(object,property,{enumerable:true,get:function(){return this[secret]},set:function(v){this[secret]=v;this[flag]=true;if(this.parent){this.parent._flagStops=true}}})},object)}});_.extend(Stop.prototype,Two.Utils.Events,{constructor:Stop,clone:function(){var clone=new Stop;_.each(Stop.Properties,function(property){clone[property]=this[property]},this);return clone},toObject:function(){var result={};_.each(Stop.Properties,function(k){result[k]=this[k]},this);return result},flagReset:function(){this._flagOffset=this._flagColor=this._flagOpacity=false;return this}});Stop.MakeObservable(Stop.prototype);Stop.prototype.constructor=Stop;var Gradient=Two.Gradient=function(stops){this._renderer={};this._renderer.type="gradient";this.id=Two.Identifier+Two.uniqueId();this.classList=[];this._renderer.flagStops=_.bind(Gradient.FlagStops,this);this._renderer.bindStops=_.bind(Gradient.BindStops,this);this._renderer.unbindStops=_.bind(Gradient.UnbindStops,this);this.spread="pad";this.stops=stops};_.extend(Gradient,{Stop:Stop,Properties:["spread"],MakeObservable:function(object){_.each(Gradient.Properties,Two.Utils.defineProperty,object);Object.defineProperty(object,"stops",{enumerable:true,get:function(){return this._stops},set:function(stops){var updateStops=this._renderer.flagStops;var bindStops=this._renderer.bindStops;var unbindStops=this._renderer.unbindStops;if(this._stops){this._stops.unbind(Two.Events.insert,bindStops).unbind(Two.Events.remove,unbindStops)}this._stops=new Two.Utils.Collection((stops||[]).slice(0));this._stops.bind(Two.Events.insert,bindStops).bind(Two.Events.remove,unbindStops);bindStops(this._stops)}})},FlagStops:function(){this._flagStops=true},BindStops:function(items){var i=items.length;while(i--){items[i].bind(Two.Events.change,this._renderer.flagStops);items[i].parent=this}this._renderer.flagStops()},UnbindStops:function(items){var i=items.length;while(i--){items[i].unbind(Two.Events.change,this._renderer.flagStops);delete items[i].parent}this._renderer.flagStops()}});_.extend(Gradient.prototype,Two.Utils.Events,{_flagStops:false,_flagSpread:false,clone:function(parent){var stops=_.map(this.stops,function(s){return s.clone()});var clone=new Gradient(stops);_.each(Two.Gradient.Properties,function(k){clone[k]=this[k]},this);if(parent){parent.add(clone)}return clone},toObject:function(){var result={stops:_.map(this.stops,function(s){return s.toObject()})};_.each(Gradient.Properties,function(k){result[k]=this[k]},this);return result},_update:function(){if(this._flagSpread||this._flagStops){this.trigger(Two.Events.change)}return this},flagReset:function(){this._flagSpread=this._flagStops=false;return this}});Gradient.MakeObservable(Gradient.prototype)})((typeof global!=="undefined"?global:this||window).Two);(function(Two){var _=Two.Utils;var LinearGradient=Two.LinearGradient=function(x1,y1,x2,y2,stops){Two.Gradient.call(this,stops);this._renderer.type="linear-gradient";var flagEndPoints=_.bind(LinearGradient.FlagEndPoints,this);this.left=(new Two.Vector).bind(Two.Events.change,flagEndPoints);this.right=(new Two.Vector).bind(Two.Events.change,flagEndPoints);if(_.isNumber(x1)){this.left.x=x1}if(_.isNumber(y1)){this.left.y=y1}if(_.isNumber(x2)){this.right.x=x2}if(_.isNumber(y2)){this.right.y=y2}};_.extend(LinearGradient,{Stop:Two.Gradient.Stop,MakeObservable:function(object){Two.Gradient.MakeObservable(object)},FlagEndPoints:function(){this._flagEndPoints=true}});_.extend(LinearGradient.prototype,Two.Gradient.prototype,{_flagEndPoints:false,constructor:LinearGradient,clone:function(parent){var stops=_.map(this.stops,function(stop){return stop.clone()});var clone=new LinearGradient(this.left._x,this.left._y,this.right._x,this.right._y,stops);_.each(Two.Gradient.Properties,function(k){clone[k]=this[k]},this);if(parent){parent.add(clone)}return clone},toObject:function(){var result=Two.Gradient.prototype.toObject.call(this);result.left=this.left.toObject();result.right=this.right.toObject();return result},_update:function(){if(this._flagEndPoints||this._flagSpread||this._flagStops){this.trigger(Two.Events.change)}return this},flagReset:function(){this._flagEndPoints=false;Two.Gradient.prototype.flagReset.call(this);return this}});LinearGradient.MakeObservable(LinearGradient.prototype)})((typeof global!=="undefined"?global:this||window).Two);(function(Two){var _=Two.Utils;var RadialGradient=Two.RadialGradient=function(cx,cy,r,stops,fx,fy){Two.Gradient.call(this,stops);this._renderer.type="radial-gradient";this.center=(new Two.Vector).bind(Two.Events.change,_.bind(function(){this._flagCenter=true},this));this.radius=_.isNumber(r)?r:20;this.focal=(new Two.Vector).bind(Two.Events.change,_.bind(function(){this._flagFocal=true},this));if(_.isNumber(cx)){this.center.x=cx}if(_.isNumber(cy)){this.center.y=cy}this.focal.copy(this.center);if(_.isNumber(fx)){this.focal.x=fx}if(_.isNumber(fy)){this.focal.y=fy}};_.extend(RadialGradient,{Stop:Two.Gradient.Stop,Properties:["radius"],MakeObservable:function(object){Two.Gradient.MakeObservable(object);_.each(RadialGradient.Properties,Two.Utils.defineProperty,object)}});_.extend(RadialGradient.prototype,Two.Gradient.prototype,{_flagRadius:false,_flagCenter:false,_flagFocal:false,constructor:RadialGradient,clone:function(parent){var stops=_.map(this.stops,function(stop){return stop.clone()});var clone=new RadialGradient(this.center._x,this.center._y,this._radius,stops,this.focal._x,this.focal._y);_.each(Two.Gradient.Properties.concat(RadialGradient.Properties),function(k){clone[k]=this[k]},this);if(parent){parent.add(clone)}return clone},toObject:function(){var result=Two.Gradient.prototype.toObject.call(this);_.each(RadialGradient.Properties,function(k){result[k]=this[k]},this);result.center=this.center.toObject();result.focal=this.focal.toObject();return result},_update:function(){if(this._flagRadius||this._flatCenter||this._flagFocal||this._flagSpread||this._flagStops){this.trigger(Two.Events.change)}return this},flagReset:function(){this._flagRadius=this._flagCenter=this._flagFocal=false;Two.Gradient.prototype.flagReset.call(this);return this}});RadialGradient.MakeObservable(RadialGradient.prototype)})((typeof global!=="undefined"?global:this||window).Two);(function(Two){var root=Two.root;var _=Two.Utils;var anchor;var regex={video:/\.(mp4|webm|ogg)$/i,image:/\.(jpe?g|png|gif|tiff)$/i,effect:/texture|gradient/i};if(root.document){anchor=document.createElement("a")}var Texture=Two.Texture=function(src,callback){this._renderer={};this._renderer.type="texture";this._renderer.flagOffset=_.bind(Texture.FlagOffset,this);this._renderer.flagScale=_.bind(Texture.FlagScale,this);this.id=Two.Identifier+Two.uniqueId();this.classList=[];this.offset=new Two.Vector;if(_.isFunction(callback)){var loaded=_.bind(function(){this.unbind(Two.Events.load,loaded);if(_.isFunction(callback)){callback()}},this);this.bind(Two.Events.load,loaded)}if(_.isString(src)){this.src=src}else if(_.isElement(src)){this.image=src}this._update()};_.extend(Texture,{Properties:["src","loaded","repeat"],RegularExpressions:regex,ImageRegistry:new Two.Registry,getAbsoluteURL:function(path){if(!anchor){return path}anchor.href=path;return anchor.href},loadHeadlessBuffer:new Function("texture","loaded",['var fs = require("fs");',"var buffer = fs.readFileSync(texture.src);","texture.image.src = buffer;","loaded();"].join("\n")),getImage:function(src){var absoluteSrc=Texture.getAbsoluteURL(src);if(Texture.ImageRegistry.contains(absoluteSrc)){return Texture.ImageRegistry.get(absoluteSrc)}var image;if(Two.Utils.Image){image=new Two.Utils.Image;Two.CanvasRenderer.Utils.shim(image,"img")}else if(root.document){if(regex.video.test(absoluteSrc)){image=document.createElement("video")}else{image=document.createElement("img")}}else{console.warn("Two.js: no prototypical image defined for Two.Texture")}image.crossOrigin="anonymous";return image},Register:{canvas:function(texture,callback){texture._src="#"+texture.id;Texture.ImageRegistry.add(texture.src,texture.image);if(_.isFunction(callback)){callback()}},img:function(texture,callback){var loaded=function(e){if(_.isFunction(texture.image.removeEventListener)){texture.image.removeEventListener("load",loaded,false);texture.image.removeEventListener("error",error,false)}if(_.isFunction(callback)){callback()}};var error=function(e){if(_.isFunction(texture.image.removeEventListener)){texture.image.removeEventListener("load",loaded,false);texture.image.removeEventListener("error",error,false)}throw new Two.Utils.Error("unable to load "+texture.src)};if(_.isNumber(texture.image.width)&&texture.image.width>0&&_.isNumber(texture.image.height)&&texture.image.height>0){loaded()}else if(_.isFunction(texture.image.addEventListener)){texture.image.addEventListener("load",loaded,false);texture.image.addEventListener("error",error,false)}texture._src=Texture.getAbsoluteURL(texture._src);if(texture.image&&texture.image.getAttribute("two-src")){return}texture.image.setAttribute("two-src",texture.src);Texture.ImageRegistry.add(texture.src,texture.image);if(Two.Utils.isHeadless){Texture.loadHeadlessBuffer(texture,loaded)}else{texture.image.src=texture.src}},video:function(texture,callback){var loaded=function(e){texture.image.removeEventListener("canplaythrough",loaded,false);texture.image.removeEventListener("error",error,false);texture.image.width=texture.image.videoWidth;texture.image.height=texture.image.videoHeight;texture.image.play();if(_.isFunction(callback)){callback()}};var error=function(e){texture.image.removeEventListener("canplaythrough",loaded,false);texture.image.removeEventListener("error",error,false);throw new Two.Utils.Error("unable to load "+texture.src)};texture._src=Texture.getAbsoluteURL(texture._src);texture.image.addEventListener("canplaythrough",loaded,false);texture.image.addEventListener("error",error,false);if(texture.image&&texture.image.getAttribute("two-src")){return}if(Two.Utils.isHeadless){throw new Two.Utils.Error("video textures are not implemented in headless environments.");return}texture.image.setAttribute("two-src",texture.src);Texture.ImageRegistry.add(texture.src,texture.image);texture.image.src=texture.src;texture.image.loop=true;texture.image.load()}},load:function(texture,callback){var src=texture.src;var image=texture.image;var tag=image&&image.nodeName.toLowerCase();if(texture._flagImage){if(/canvas/i.test(tag)){Texture.Register.canvas(texture,callback)}else{texture._src=image.getAttribute("two-src")||image.src;Texture.Register[tag](texture,callback)}}if(texture._flagSrc){if(!image){texture.image=Texture.getImage(texture.src)}tag=texture.image.nodeName.toLowerCase();Texture.Register[tag](texture,callback)}},FlagOffset:function(){this._flagOffset=true},FlagScale:function(){this._flagScale=true},MakeObservable:function(object){_.each(Texture.Properties,Two.Utils.defineProperty,object);Object.defineProperty(object,"image",{enumerable:true,get:function(){return this._image},set:function(image){var tag=image&&image.nodeName.toLowerCase();var index;switch(tag){case"canvas":index="#"+image.id;break;default:index=image.src}if(Texture.ImageRegistry.contains(index)){this._image=Texture.ImageRegistry.get(image.src)}else{this._image=image}this._flagImage=true}});Object.defineProperty(object,"offset",{enumerable:true,get:function(){return this._offset},set:function(v){if(this._offset){this._offset.unbind(Two.Events.change,this._renderer.flagOffset)}this._offset=v;this._offset.bind(Two.Events.change,this._renderer.flagOffset);this._flagOffset=true}});Object.defineProperty(object,"scale",{enumerable:true,get:function(){return this._scale},set:function(v){if(this._scale instanceof Two.Vector){this._scale.unbind(Two.Events.change,this._renderer.flagScale)}this._scale=v;if(this._scale instanceof Two.Vector){this._scale.bind(Two.Events.change,this._renderer.flagScale)}this._flagScale=true}})}});_.extend(Texture.prototype,Two.Utils.Events,Two.Shape.prototype,{_flagSrc:false,_flagImage:false,_flagVideo:false,_flagLoaded:false,_flagRepeat:false,_flagOffset:false,_flagScale:false,_src:"",_image:null,_loaded:false,_repeat:"no-repeat",_scale:1,_offset:null,constructor:Texture,clone:function(){return new Texture(this.src)},toObject:function(){return{src:this.src,image:this.image}},_update:function(){if(this._flagSrc||this._flagImage){this.trigger(Two.Events.change);if(this._flagSrc||this._flagImage){this.loaded=false;Texture.load(this,_.bind(function(){this.loaded=true;this.trigger(Two.Events.change).trigger(Two.Events.load)},this))}}if(this._image&&this._image.readyState>=4){this._flagVideo=true}return this},flagReset:function(){this._flagSrc=this._flagImage=this._flagLoaded=this._flagVideo=this._flagScale=this._flagOffset=false;return this}});Texture.MakeObservable(Texture.prototype)})((typeof global!=="undefined"?global:this||window).Two);(function(Two){var _=Two.Utils;var Path=Two.Path;var Rectangle=Two.Rectangle;var Sprite=Two.Sprite=function(path,ox,oy,cols,rows,frameRate){Path.call(this,[new Two.Anchor,new Two.Anchor,new Two.Anchor,new Two.Anchor],true);this.noStroke();this.noFill();if(path instanceof Two.Texture){this.texture=path}else if(_.isString(path)){this.texture=new Two.Texture(path)}this.origin=new Two.Vector;this._update();this.translation.set(ox||0,oy||0);if(_.isNumber(cols)){this.columns=cols}if(_.isNumber(rows)){this.rows=rows}if(_.isNumber(frameRate)){this.frameRate=frameRate}};_.extend(Sprite,{Properties:["texture","columns","rows","frameRate","index"],MakeObservable:function(obj){Rectangle.MakeObservable(obj);_.each(Sprite.Properties,Two.Utils.defineProperty,obj)}});_.extend(Sprite.prototype,Rectangle.prototype,{_flagTexture:false,_flagColumns:false,_flagRows:false,_flagFrameRate:false,flagIndex:false,_amount:1,_duration:0,_startTime:0,_playing:false,_firstFrame:0,_lastFrame:0,_loop:true,_texture:null,_columns:1,_rows:1,_frameRate:0,_index:0,_origin:null,constructor:Sprite,play:function(firstFrame,lastFrame,onLastFrame){this._playing=true;this._firstFrame=0;this._lastFrame=this.amount-1;this._startTime=_.performance.now();if(_.isNumber(firstFrame)){this._firstFrame=firstFrame}if(_.isNumber(lastFrame)){this._lastFrame=lastFrame}if(_.isFunction(onLastFrame)){this._onLastFrame=onLastFrame}else{delete this._onLastFrame}if(this._index!==this._firstFrame){this._startTime-=1e3*Math.abs(this._index-this._firstFrame)/this._frameRate}return this},pause:function(){this._playing=false;return this},stop:function(){this._playing=false;this._index=0;return this},clone:function(parent){var clone=new Sprite(this.texture,this.translation.x,this.translation.y,this.columns,this.rows,this.frameRate);if(this.playing){clone.play(this._firstFrame,this._lastFrame);clone._loop=this._loop}if(parent){parent.add(clone)}return clone},_update:function(){var effect=this._texture;var cols=this._columns;var rows=this._rows;var width,height,elapsed,amount,duration;var index,iw,ih,isRange,frames;if(this._flagColumns||this._flagRows){this._amount=this._columns*this._rows}if(this._flagFrameRate){this._duration=1e3*this._amount/this._frameRate}if(this._flagTexture){this.fill=this._texture}if(this._texture.loaded){iw=effect.image.width;ih=effect.image.height;width=iw/cols;height=ih/rows;amount=this._amount;if(this.width!==width){this.width=width}if(this.height!==height){this.height=height}if(this._playing&&this._frameRate>0){if(_.isNaN(this._lastFrame)){this._lastFrame=amount-1}elapsed=_.performance.now()-this._startTime;frames=this._lastFrame+1;duration=1e3*(frames-this._firstFrame)/this._frameRate;if(this._loop){elapsed=elapsed%duration}else{elapsed=Math.min(elapsed,duration)}index=_.lerp(this._firstFrame,frames,elapsed/duration);index=Math.floor(index);if(index!==this._index){this._index=index;if(index>=this._lastFrame-1&&this._onLastFrame){this._onLastFrame()}}}var col=this._index%cols;var row=Math.floor(this._index/cols);var ox=-width*col+(iw-width)/2;var oy=-height*row+(ih-height)/2;if(ox!==effect.offset.x){effect.offset.x=ox}if(oy!==effect.offset.y){effect.offset.y=oy}}Rectangle.prototype._update.call(this);return this},flagReset:function(){this._flagTexture=this._flagColumns=this._flagRows=this._flagFrameRate=false;Rectangle.prototype.flagReset.call(this);return this}});Sprite.MakeObservable(Sprite.prototype)})((typeof global!=="undefined"?global:this||window).Two);(function(Two){var _=Two.Utils;var Path=Two.Path;var Rectangle=Two.Rectangle;var ImageSequence=Two.ImageSequence=function(paths,ox,oy,frameRate){Path.call(this,[new Two.Anchor,new Two.Anchor,new Two.Anchor,new Two.Anchor],true);this._renderer.flagTextures=_.bind(ImageSequence.FlagTextures,this);this._renderer.bindTextures=_.bind(ImageSequence.BindTextures,this);this._renderer.unbindTextures=_.bind(ImageSequence.UnbindTextures,this);this.noStroke();this.noFill();this.textures=_.map(paths,ImageSequence.GenerateTexture,this);this.origin=new Two.Vector;this._update();this.translation.set(ox||0,oy||0);if(_.isNumber(frameRate)){this.frameRate=frameRate}else{this.frameRate=ImageSequence.DefaultFrameRate}};_.extend(ImageSequence,{Properties:["frameRate","index"],DefaultFrameRate:30,FlagTextures:function(){this._flagTextures=true},BindTextures:function(items){var i=items.length;while(i--){items[i].bind(Two.Events.change,this._renderer.flagTextures)}this._renderer.flagTextures()},UnbindTextures:function(items){var i=items.length;while(i--){items[i].unbind(Two.Events.change,this._renderer.flagTextures)}this._renderer.flagTextures()},MakeObservable:function(obj){Rectangle.MakeObservable(obj);_.each(ImageSequence.Properties,Two.Utils.defineProperty,obj);Object.defineProperty(obj,"textures",{enumerable:true,get:function(){return this._textures},set:function(textures){var updateTextures=this._renderer.flagTextures;var bindTextures=this._renderer.bindTextures;var unbindTextures=this._renderer.unbindTextures;if(this._textures){this._textures.unbind(Two.Events.insert,bindTextures).unbind(Two.Events.remove,unbindTextures)}this._textures=new Two.Utils.Collection((textures||[]).slice(0));this._textures.bind(Two.Events.insert,bindTextures).bind(Two.Events.remove,unbindTextures);bindTextures(this._textures)}})},GenerateTexture:function(obj){if(obj instanceof Two.Texture){return obj}else if(_.isString(obj)){return new Two.Texture(obj)}}});_.extend(ImageSequence.prototype,Rectangle.prototype,{_flagTextures:false,_flagFrameRate:false,_flagIndex:false,_amount:1,_duration:0,_index:0,_startTime:0,_playing:false,_firstFrame:0,_lastFrame:0,_loop:true,_textures:null,_frameRate:0,_origin:null,constructor:ImageSequence,play:function(firstFrame,lastFrame,onLastFrame){this._playing=true;this._firstFrame=0;this._lastFrame=this.amount-1;this._startTime=_.performance.now();if(_.isNumber(firstFrame)){this._firstFrame=firstFrame}if(_.isNumber(lastFrame)){this._lastFrame=lastFrame}if(_.isFunction(onLastFrame)){this._onLastFrame=onLastFrame}else{delete this._onLastFrame}if(this._index!==this._firstFrame){this._startTime-=1e3*Math.abs(this._index-this._firstFrame)/this._frameRate}return this},pause:function(){this._playing=false;return this},stop:function(){this._playing=false;this._index=0;return this},clone:function(parent){var clone=new ImageSequence(this.textures,this.translation.x,this.translation.y,this.frameRate);clone._loop=this._loop;if(this._playing){clone.play()}if(parent){parent.add(clone)}return clone},_update:function(){var effects=this._textures;var width,height,elapsed,amount,duration,texture;var index,frames;if(this._flagTextures){this._amount=effects.length}if(this._flagFrameRate){this._duration=1e3*this._amount/this._frameRate}if(this._playing&&this._frameRate>0){amount=this._amount;if(_.isNaN(this._lastFrame)){this._lastFrame=amount-1}elapsed=_.performance.now()-this._startTime;frames=this._lastFrame+1;duration=1e3*(frames-this._firstFrame)/this._frameRate;if(this._loop){elapsed=elapsed%duration}else{elapsed=Math.min(elapsed,duration)}index=_.lerp(this._firstFrame,frames,elapsed/duration);index=Math.floor(index);if(index!==this._index){this._index=index;texture=effects[this._index];if(texture.loaded){width=texture.image.width;height=texture.image.height;if(this.width!==width){this.width=width}if(this.height!==height){this.height=height}this.fill=texture;if(index>=this._lastFrame-1&&this._onLastFrame){this._onLastFrame()}}}}else if(this._flagIndex||!(this.fill instanceof Two.Texture)){texture=effects[this._index];if(texture.loaded){width=texture.image.width;height=texture.image.height;if(this.width!==width){this.width=width}if(this.height!==height){this.height=height}}this.fill=texture}Rectangle.prototype._update.call(this);return this},flagReset:function(){this._flagTextures=this._flagFrameRate=false;Rectangle.prototype.flagReset.call(this);return this}});ImageSequence.MakeObservable(ImageSequence.prototype)})((typeof global!=="undefined"?global:this||window).Two);(function(Two){var min=Math.min,max=Math.max;var _=Two.Utils;var Children=function(){Two.Utils.Collection.apply(this,arguments);Object.defineProperty(this,"_events",{value:{},enumerable:false});this.ids={};this.on(Two.Events.insert,this.attach);this.on(Two.Events.remove,this.detach);Children.prototype.attach.apply(this,arguments)};Children.prototype=new Two.Utils.Collection;_.extend(Children.prototype,{constructor:Children,attach:function(children){for(var i=0;i<children.length;i++){this.ids[children[i].id]=children[i]}return this},detach:function(children){for(var i=0;i<children.length;i++){delete this.ids[children[i].id]}return this}});var Group=Two.Group=function(children){Two.Shape.call(this,true);this._renderer.type="group";this.additions=[];this.subtractions=[];this.children=_.isArray(children)?children:arguments};_.extend(Group,{Children:Children,InsertChildren:function(children){for(var i=0;i<children.length;i++){replaceParent.call(this,children[i],this)}},RemoveChildren:function(children){for(var i=0;i<children.length;i++){replaceParent.call(this,children[i])}},OrderChildren:function(children){this._flagOrder=true},Properties:["fill","stroke","linewidth","visible","cap","join","miter"],MakeObservable:function(object){var properties=Two.Group.Properties;Object.defineProperty(object,"opacity",{enumerable:true,get:function(){return this._opacity},set:function(v){this._flagOpacity=this._opacity!==v;this._opacity=v}});Object.defineProperty(object,"className",{enumerable:true,get:function(){return this._className},set:function(v){this._flagClassName=this._className!==v;this._className=v}});Object.defineProperty(object,"beginning",{enumerable:true,get:function(){return this._beginning},set:function(v){this._flagBeginning=this._beginning!==v;this._beginning=v}});Object.defineProperty(object,"ending",{enumerable:true,get:function(){return this._ending},set:function(v){this._flagEnding=this._ending!==v;this._ending=v}});Object.defineProperty(object,"length",{enumerable:true,get:function(){if(this._flagLength||this._length<=0){this._length=0;for(var i=0;i<this.children.length;i++){var child=this.children[i];this._length+=child.length}}return this._length}});Two.Shape.MakeObservable(object);Group.MakeGetterSetters(object,properties);Object.defineProperty(object,"children",{enumerable:true,get:function(){return this._children},set:function(children){var insertChildren=_.bind(Group.InsertChildren,this);var removeChildren=_.bind(Group.RemoveChildren,this);var orderChildren=_.bind(Group.OrderChildren,this);if(this._children){this._children.unbind()}this._children=new Children(children);this._children.bind(Two.Events.insert,insertChildren);this._children.bind(Two.Events.remove,removeChildren);this._children.bind(Two.Events.order,orderChildren)}});Object.defineProperty(object,"mask",{enumerable:true,get:function(){return this._mask},set:function(v){this._mask=v;this._flagMask=true;if(!v.clip){v.clip=true}}})},MakeGetterSetters:function(group,properties){if(!_.isArray(properties)){properties=[properties]}_.each(properties,function(k){Group.MakeGetterSetter(group,k)})},MakeGetterSetter:function(group,k){var secret="_"+k;Object.defineProperty(group,k,{enumerable:true,get:function(){return this[secret]},set:function(v){this[secret]=v;_.each(this.children,function(child){child[k]=v})}})}});_.extend(Group.prototype,Two.Shape.prototype,{_flagAdditions:false,_flagSubtractions:false,_flagOrder:false,_flagOpacity:true,_flagClassName:false,_flagBeginning:false,_flagEnding:false,_flagLength:false,_flagMask:false,_fill:"#fff",_stroke:"#000",_linewidth:1,_opacity:1,_className:"",_visible:true,_cap:"round",_join:"round",_miter:4,_closed:true,_curved:false,_automatic:true,_beginning:0,_ending:1,_length:0,_mask:null,constructor:Group,clone:function(parent){var group=new Group;var children=_.map(this.children,function(child){return child.clone()});group.add(children);group.opacity=this.opacity;if(this.mask){group.mask=this.mask}group.translation.copy(this.translation);group.rotation=this.rotation;group.scale=this.scale;group.className=this.className;if(parent){parent.add(group)}return group._update()},toObject:function(){var result={children:[],translation:this.translation.toObject(),rotation:this.rotation,scale:this.scale instanceof Two.Vector?this.scale.toObject():this.scale,opacity:this.opacity,className:this.className,mask:this.mask?this.mask.toObject():null};_.each(this.children,function(child,i){result.children[i]=child.toObject()},this);return result},corner:function(){var rect=this.getBoundingClientRect(true),corner={x:rect.left,y:rect.top};this.children.forEach(function(child){child.translation.sub(corner)});return this},center:function(){var rect=this.getBoundingClientRect(true);rect.centroid={x:rect.left+rect.width/2,y:rect.top+rect.height/2};this.children.forEach(function(child){if(child.isShape){child.translation.sub(rect.centroid)}});return this},getById:function(id){var search=function(node,id){if(node.id===id){return node}else if(node.children){var i=node.children.length;while(i--){var found=search(node.children[i],id);if(found)return found}}};return search(this,id)||null},getByClassName:function(cl){var found=[];var search=function(node,cl){if(node.classList.indexOf(cl)!=-1){found.push(node)}else if(node.children){node.children.forEach(function(child){search(child,cl)})}return found};return search(this,cl)},getByType:function(type){var found=[];var search=function(node,type){for(var id in node.children){if(node.children[id]instanceof type){found.push(node.children[id])}else if(node.children[id]instanceof Two.Group){search(node.children[id],type)}}return found};return search(this,type)},add:function(objects){if(!(objects instanceof Array)){objects=_.toArray(arguments)}else{objects=objects.slice()}for(var i=0;i<objects.length;i++){if(!(objects[i]&&objects[i].id))continue;this.children.push(objects[i])}return this},remove:function(objects){var l=arguments.length,grandparent=this.parent;if(l<=0&&grandparent){grandparent.remove(this);return this}if(!(objects instanceof Array)){objects=_.toArray(arguments)}else{objects=objects.slice()}for(var i=0;i<objects.length;i++){if(!objects[i]||!this.children.ids[objects[i].id])continue;this.children.splice(_.indexOf(this.children,objects[i]),1)}return this},getBoundingClientRect:function(shallow){var rect;this._update(true);var left=Infinity,right=-Infinity,top=Infinity,bottom=-Infinity;var regex=Two.Texture.RegularExpressions.effect;for(var i=0;i<this.children.length;i++){var child=this.children[i];if(!child.visible||regex.test(child._renderer.type)){continue}rect=child.getBoundingClientRect(shallow);if(!_.isNumber(rect.top)||!_.isNumber(rect.left)||!_.isNumber(rect.right)||!_.isNumber(rect.bottom)){continue}top=min(rect.top,top);left=min(rect.left,left);right=max(rect.right,right);bottom=max(rect.bottom,bottom)}return{top:top,left:left,right:right,bottom:bottom,width:right-left,height:bottom-top}},noFill:function(){this.children.forEach(function(child){child.noFill()});return this},noStroke:function(){this.children.forEach(function(child){child.noStroke()});return this},subdivide:function(){var args=arguments;this.children.forEach(function(child){child.subdivide.apply(child,args)});return this},_update:function(){if(this._flagBeginning||this._flagEnding){var beginning=Math.min(this._beginning,this._ending);var ending=Math.max(this._beginning,this._ending);var length=this.length;var sum=0;var bd=beginning*length;var ed=ending*length;var distance=ed-bd;for(var i=0;i<this.children.length;i++){var child=this.children[i];var l=child.length;if(bd>sum+l){child.beginning=1;child.ending=1}else if(ed<sum){child.beginning=0;child.ending=0}else if(bd>sum&&bd<sum+l){child.beginning=(bd-sum)/l;child.ending=1}else if(ed>sum&&ed<sum+l){child.beginning=0;child.ending=(ed-sum)/l}else{child.beginning=0;child.ending=1}sum+=l}}return Two.Shape.prototype._update.apply(this,arguments)},flagReset:function(){if(this._flagAdditions){this.additions.length=0;this._flagAdditions=false}if(this._flagSubtractions){this.subtractions.length=0;this._flagSubtractions=false}this._flagOrder=this._flagMask=this._flagOpacity=this._flagClassName;this._flagBeginning=this._flagEnding=false;Two.Shape.prototype.flagReset.call(this);return this}});Group.MakeObservable(Group.prototype);function replaceParent(child,newParent){var parent=child.parent;var index;if(parent===newParent){this.additions.push(child);this._flagAdditions=true;return}if(parent&&parent.children.ids[child.id]){index=_.indexOf(parent.children,child);parent.children.splice(index,1);index=_.indexOf(parent.additions,child);if(index>=0){parent.additions.splice(index,1)}else{parent.subtractions.push(child);parent._flagSubtractions=true}}if(newParent){child.parent=newParent;this.additions.push(child);this._flagAdditions=true;return}index=_.indexOf(this.additions,child);if(index>=0){this.additions.splice(index,1)}else{this.subtractions.push(child);this._flagSubtractions=true}delete child.parent}})((typeof global!=="undefined"?global:this||window).Two)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],463:[function(require,module,exports){(function(Buffer){var isTypedArray=require("is-typedarray").strict;module.exports=function typedarrayToBuffer(arr){if(isTypedArray(arr)){var buf=Buffer.from(arr.buffer);if(arr.byteLength!==arr.buffer.byteLength){buf=buf.slice(arr.byteOffset,arr.byteOffset+arr.byteLength)}return buf}else{return Buffer.from(arr)}}}).call(this,require("buffer").Buffer)},{buffer:30,"is-typedarray":393}],464:[function(require,module,exports){(function(global){module.exports=deprecate;function deprecate(fn,msg){if(config("noDeprecation")){return fn}var warned=false;function deprecated(){if(!warned){if(config("throwDeprecation")){throw new Error(msg)}else if(config("traceDeprecation")){console.trace(msg)}else{console.warn(msg)}warned=true}return fn.apply(this,arguments)}return deprecated}function config(name){try{if(!global.localStorage)return false}catch(_){return false}var val=global.localStorage[name];if(null==val)return false;return String(val).toLowerCase()==="true"}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],465:[function(require,module,exports){var assert=require("assert");module.exports=getAllRoutes;var transform=function(trie,previous){var prev=previous||"/";var routes={};var nodes=trie.nodes;Object.keys(nodes).forEach(function(key){var path=(prev==="/"?prev:prev+"/")+(key==="$$"?":"+trie.name:key);var cb=nodes[key].cb;if(cb!==undefined){routes[path]=cb}if(Object.keys(nodes[key].nodes).length!==0){var obj=transform(nodes[key],path);Object.keys(obj).forEach(function(r){routes[r]=obj[r]})}});return routes};function getAllRoutes(router){assert.equal(typeof router,"function","wayfarer.getAllRoutes: router should be an function");var trie=router._trie;assert.equal(typeof trie,"object","wayfarer.getAllRoutes: trie should be an object");var tree=trie.trie;return transform(tree)}},{assert:23}],466:[function(require,module,exports){var assert=require("assert");var trie=require("./trie");module.exports=Wayfarer;function Wayfarer(dft){if(!(this instanceof Wayfarer))return new Wayfarer(dft);var _default=(dft||"").replace(/^\//,"");var _trie=trie();emit._trie=_trie;emit.on=on;emit.emit=emit;emit.match=match;emit._wayfarer=true;return emit;function on(route,fn){assert.equal(typeof route,"string");assert.equal(typeof fn,"function");var cb=fn._wayfarer&&fn._trie?fn:proxy;route=route||"/";cb.route=route;if(cb._wayfarer&&cb._trie){_trie.mount(route,cb._trie.trie)}else{var node=_trie.create(route);node.cb=cb}return emit;function proxy(){return fn.apply(this,Array.prototype.slice.call(arguments))}}function emit(route){var matched=match(route);var args=new Array(arguments.length);args[0]=matched.params;for(var i=1;i<args.length;i++){args[i]=arguments[i]}return matched.cb.apply(matched.cb,args)}function match(route){assert.notEqual(route,undefined,"'route' must be defined");var matched=_trie.match(route);if(matched&&matched.cb)return new Route(matched);var dft=_trie.match(_default);if(dft&&dft.cb)return new Route(dft);throw new Error("route '"+route+"' did not match")}function Route(matched){this.cb=matched.cb;this.route=matched.cb.route;this.params=matched.params}}},{"./trie":467,assert:23}],467:[function(require,module,exports){var mutate=require("xtend/mutable");var assert=require("assert");var xtend=require("xtend");module.exports=Trie;function Trie(){if(!(this instanceof Trie))return new Trie;this.trie={nodes:{}}}Trie.prototype.create=function(route){assert.equal(typeof route,"string","route should be a string");var routes=route.replace(/^\//,"").split("/");function createNode(index,trie){var thisRoute=routes.hasOwnProperty(index)&&routes[index];if(thisRoute===false)return trie;var node=null;if(/^:|^\*/.test(thisRoute)){if(!trie.nodes.hasOwnProperty("$$")){node={nodes:{}};trie.nodes["$$"]=node}else{node=trie.nodes["$$"]}if(thisRoute[0]==="*"){trie.wildcard=true}trie.name=thisRoute.replace(/^:|^\*/,"")}else if(!trie.nodes.hasOwnProperty(thisRoute)){node={nodes:{}};trie.nodes[thisRoute]=node}else{node=trie.nodes[thisRoute]}return createNode(index+1,node)}return createNode(0,this.trie)};Trie.prototype.match=function(route){assert.equal(typeof route,"string","route should be a string");var routes=route.replace(/^\//,"").split("/");var params={};function search(index,trie){if(trie===undefined)return undefined;var thisRoute=routes[index];if(thisRoute===undefined)return trie;if(trie.nodes.hasOwnProperty(thisRoute)){return search(index+1,trie.nodes[thisRoute])}else if(trie.name){try{params[trie.name]=decodeURIComponent(thisRoute)}catch(e){return search(index,undefined)}return search(index+1,trie.nodes["$$"])}else if(trie.wildcard){try{params["wildcard"]=decodeURIComponent(routes.slice(index).join("/"))}catch(e){return search(index,undefined)}return trie.nodes["$$"]}else{return search(index+1)}}var node=search(0,this.trie);if(!node)return undefined;node=xtend(node);node.params=params;return node};Trie.prototype.mount=function(route,trie){assert.equal(typeof route,"string","route should be a string");assert.equal(typeof trie,"object","trie should be a object");var split=route.replace(/^\//,"").split("/");var node=null;var key=null;if(split.length===1){key=split[0];node=this.create(key)}else{var head=split.join("/");key=split[0];node=this.create(head)}mutate(node.nodes,trie.nodes);if(trie.name)node.name=trie.name;if(node.nodes[""]){Object.keys(node.nodes[""]).forEach(function(key){if(key==="nodes")return;node[key]=node.nodes[""][key]});mutate(node.nodes,node.nodes[""].nodes);delete node.nodes[""].nodes}}},{assert:23,xtend:470,"xtend/mutable":471}],468:[function(require,module,exports){(function(global,factory){typeof exports==="object"&&typeof module!=="undefined"?factory(exports):typeof define==="function"&&define.amd?define(["exports"],factory):factory(global.WHATWGFetch={})})(this,function(exports){"use strict";var support={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{new Blob;return true}catch(e){return false}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};function isDataView(obj){return obj&&DataView.prototype.isPrototypeOf(obj)}if(support.arrayBuffer){var viewClasses=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];var isArrayBufferView=ArrayBuffer.isView||function(obj){return obj&&viewClasses.indexOf(Object.prototype.toString.call(obj))>-1}}function normalizeName(name){if(typeof name!=="string"){name=String(name)}if(/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(name)){throw new TypeError("Invalid character in header field name")}return name.toLowerCase()}function normalizeValue(value){if(typeof value!=="string"){value=String(value)}return value}function iteratorFor(items){var iterator={next:function(){var value=items.shift();return{done:value===undefined,value:value}}};if(support.iterable){iterator[Symbol.iterator]=function(){return iterator}}return iterator}function Headers(headers){this.map={};if(headers instanceof Headers){headers.forEach(function(value,name){this.append(name,value)},this)}else if(Array.isArray(headers)){headers.forEach(function(header){this.append(header[0],header[1])},this)}else if(headers){Object.getOwnPropertyNames(headers).forEach(function(name){this.append(name,headers[name])},this)}}Headers.prototype.append=function(name,value){name=normalizeName(name);value=normalizeValue(value);var oldValue=this.map[name];this.map[name]=oldValue?oldValue+", "+value:value};Headers.prototype["delete"]=function(name){delete this.map[normalizeName(name)]};Headers.prototype.get=function(name){name=normalizeName(name);return this.has(name)?this.map[name]:null};Headers.prototype.has=function(name){return this.map.hasOwnProperty(normalizeName(name))};Headers.prototype.set=function(name,value){this.map[normalizeName(name)]=normalizeValue(value)};Headers.prototype.forEach=function(callback,thisArg){for(var name in this.map){if(this.map.hasOwnProperty(name)){callback.call(thisArg,this.map[name],name,this)}}};Headers.prototype.keys=function(){var items=[];this.forEach(function(value,name){items.push(name)});return iteratorFor(items)};Headers.prototype.values=function(){var items=[];this.forEach(function(value){items.push(value)});return iteratorFor(items)};Headers.prototype.entries=function(){var items=[];this.forEach(function(value,name){items.push([name,value])});return iteratorFor(items)};if(support.iterable){Headers.prototype[Symbol.iterator]=Headers.prototype.entries}function consumed(body){if(body.bodyUsed){return Promise.reject(new TypeError("Already read"))}body.bodyUsed=true}function fileReaderReady(reader){return new Promise(function(resolve,reject){reader.onload=function(){resolve(reader.result)};reader.onerror=function(){reject(reader.error)}})}function readBlobAsArrayBuffer(blob){var reader=new FileReader;var promise=fileReaderReady(reader);reader.readAsArrayBuffer(blob);return promise}function readBlobAsText(blob){var reader=new FileReader;var promise=fileReaderReady(reader);reader.readAsText(blob);return promise}function readArrayBufferAsText(buf){var view=new Uint8Array(buf);var chars=new Array(view.length);for(var i=0;i<view.length;i++){chars[i]=String.fromCharCode(view[i])}return chars.join("")}function bufferClone(buf){if(buf.slice){return buf.slice(0)}else{var view=new Uint8Array(buf.byteLength);view.set(new Uint8Array(buf));return view.buffer}}function Body(){this.bodyUsed=false;this._initBody=function(body){this._bodyInit=body;if(!body){this._bodyText=""}else if(typeof body==="string"){this._bodyText=body}else if(support.blob&&Blob.prototype.isPrototypeOf(body)){this._bodyBlob=body}else if(support.formData&&FormData.prototype.isPrototypeOf(body)){this._bodyFormData=body}else if(support.searchParams&&URLSearchParams.prototype.isPrototypeOf(body)){this._bodyText=body.toString()}else if(support.arrayBuffer&&support.blob&&isDataView(body)){this._bodyArrayBuffer=bufferClone(body.buffer);this._bodyInit=new Blob([this._bodyArrayBuffer])}else if(support.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(body)||isArrayBufferView(body))){this._bodyArrayBuffer=bufferClone(body)}else{this._bodyText=body=Object.prototype.toString.call(body)}if(!this.headers.get("content-type")){if(typeof body==="string"){this.headers.set("content-type","text/plain;charset=UTF-8")}else if(this._bodyBlob&&this._bodyBlob.type){this.headers.set("content-type",this._bodyBlob.type)}else if(support.searchParams&&URLSearchParams.prototype.isPrototypeOf(body)){this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8")}}};if(support.blob){this.blob=function(){var rejected=consumed(this);if(rejected){return rejected}if(this._bodyBlob){return Promise.resolve(this._bodyBlob)}else if(this._bodyArrayBuffer){return Promise.resolve(new Blob([this._bodyArrayBuffer]))}else if(this._bodyFormData){throw new Error("could not read FormData body as blob")}else{return Promise.resolve(new Blob([this._bodyText]))}};this.arrayBuffer=function(){if(this._bodyArrayBuffer){return consumed(this)||Promise.resolve(this._bodyArrayBuffer)}else{return this.blob().then(readBlobAsArrayBuffer)}}}this.text=function(){var rejected=consumed(this);if(rejected){return rejected}if(this._bodyBlob){return readBlobAsText(this._bodyBlob)}else if(this._bodyArrayBuffer){return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))}else if(this._bodyFormData){throw new Error("could not read FormData body as text")}else{return Promise.resolve(this._bodyText)}};if(support.formData){this.formData=function(){return this.text().then(decode)}}this.json=function(){return this.text().then(JSON.parse)};return this}var methods=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function normalizeMethod(method){var upcased=method.toUpperCase();return methods.indexOf(upcased)>-1?upcased:method}function Request(input,options){options=options||{};var body=options.body;if(input instanceof Request){if(input.bodyUsed){throw new TypeError("Already read")}this.url=input.url;this.credentials=input.credentials;if(!options.headers){this.headers=new Headers(input.headers)}this.method=input.method;this.mode=input.mode;this.signal=input.signal;if(!body&&input._bodyInit!=null){body=input._bodyInit;input.bodyUsed=true}}else{this.url=String(input)}this.credentials=options.credentials||this.credentials||"same-origin";if(options.headers||!this.headers){this.headers=new Headers(options.headers)}this.method=normalizeMethod(options.method||this.method||"GET");this.mode=options.mode||this.mode||null;this.signal=options.signal||this.signal;this.referrer=null;if((this.method==="GET"||this.method==="HEAD")&&body){throw new TypeError("Body not allowed for GET or HEAD requests")}this._initBody(body)}Request.prototype.clone=function(){return new Request(this,{body:this._bodyInit})};function decode(body){var form=new FormData;body.trim().split("&").forEach(function(bytes){if(bytes){var split=bytes.split("=");var name=split.shift().replace(/\+/g," ");var value=split.join("=").replace(/\+/g," ");form.append(decodeURIComponent(name),decodeURIComponent(value))}});return form}function parseHeaders(rawHeaders){var headers=new Headers;var preProcessedHeaders=rawHeaders.replace(/\r?\n[\t ]+/g," ");preProcessedHeaders.split(/\r?\n/).forEach(function(line){var parts=line.split(":");var key=parts.shift().trim();if(key){var value=parts.join(":").trim();headers.append(key,value)}});return headers}Body.call(Request.prototype);function Response(bodyInit,options){if(!options){options={}}this.type="default";this.status=options.status===undefined?200:options.status;this.ok=this.status>=200&&this.status<300;this.statusText="statusText"in options?options.statusText:"OK";this.headers=new Headers(options.headers);this.url=options.url||"";this._initBody(bodyInit)}Body.call(Response.prototype);Response.prototype.clone=function(){return new Response(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers(this.headers),url:this.url})};Response.error=function(){var response=new Response(null,{status:0,statusText:""});response.type="error";return response};var redirectStatuses=[301,302,303,307,308];Response.redirect=function(url,status){if(redirectStatuses.indexOf(status)===-1){throw new RangeError("Invalid status code")}return new Response(null,{status:status,headers:{location:url}})};exports.DOMException=self.DOMException;try{new exports.DOMException}catch(err){exports.DOMException=function(message,name){this.message=message;this.name=name;var error=Error(message);this.stack=error.stack};exports.DOMException.prototype=Object.create(Error.prototype);exports.DOMException.prototype.constructor=exports.DOMException}function fetch(input,init){return new Promise(function(resolve,reject){var request=new Request(input,init);if(request.signal&&request.signal.aborted){return reject(new exports.DOMException("Aborted","AbortError"))}var xhr=new XMLHttpRequest;function abortXhr(){xhr.abort()}xhr.onload=function(){var options={status:xhr.status,statusText:xhr.statusText,headers:parseHeaders(xhr.getAllResponseHeaders()||"")};options.url="responseURL"in xhr?xhr.responseURL:options.headers.get("X-Request-URL");var body="response"in xhr?xhr.response:xhr.responseText;resolve(new Response(body,options))};xhr.onerror=function(){reject(new TypeError("Network request failed"))};xhr.ontimeout=function(){reject(new TypeError("Network request failed"))};xhr.onabort=function(){reject(new exports.DOMException("Aborted","AbortError"))};xhr.open(request.method,request.url,true);if(request.credentials==="include"){xhr.withCredentials=true}else if(request.credentials==="omit"){xhr.withCredentials=false}if("responseType"in xhr&&support.blob){xhr.responseType="blob"}request.headers.forEach(function(value,name){xhr.setRequestHeader(name,value)});if(request.signal){request.signal.addEventListener("abort",abortXhr);xhr.onreadystatechange=function(){if(xhr.readyState===4){request.signal.removeEventListener("abort",abortXhr)}}}xhr.send(typeof request._bodyInit==="undefined"?null:request._bodyInit)})}fetch.polyfill=true;if(!self.fetch){self.fetch=fetch;self.Headers=Headers;self.Request=Request;self.Response=Response}exports.Headers=Headers;exports.Request=Request;exports.Response=Response;exports.fetch=fetch;Object.defineProperty(exports,"__esModule",{value:true})})},{}],469:[function(require,module,exports){module.exports=wrappy;function wrappy(fn,cb){if(fn&&cb)return wrappy(fn)(cb);if(typeof fn!=="function")throw new TypeError("need wrapper function");Object.keys(fn).forEach(function(k){wrapper[k]=fn[k]});return wrapper;function wrapper(){var args=new Array(arguments.length);for(var i=0;i<args.length;i++){args[i]=arguments[i]}var ret=fn.apply(this,args);var cb=args[args.length-1];if(typeof ret==="function"&&ret!==cb){Object.keys(cb).forEach(function(k){ret[k]=cb[k]})}return ret}}},{}],470:[function(require,module,exports){module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty;function extend(){var target={};for(var i=0;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target}},{}],471:[function(require,module,exports){module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty;function extend(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target}},{}],472:[function(require,module,exports){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _emitter=_interopRequireDefault(require("./emitter"));var _fastclick=_interopRequireDefault(require("fastclick"));var _chooDevtools=_interopRequireDefault(require("choo-devtools"));var _model=_interopRequireDefault(require("./model"));var _models=_interopRequireDefault(require("../ipads/common/models"));var _default=function _default(app){(0,_fastclick.default)(document.body);var isProd="production"==="production";if(!isProd){var logger=function logger(state,emitter){emitter.on("*",function(messageName,data){})};app.use((0,_chooDevtools.default)());app.use(logger)}app.use(_model.default);app.use(_models.default);window.addEventListener("resize",function(e){_emitter.default.emit("resize",{width:window.innerWidth,height:window.innerHeight})})};exports.default=_default},{"../ipads/common/models":485,"./emitter":477,"./model":478,"@babel/runtime/helpers/interopRequireDefault":13,"choo-devtools":31,fastclick:384}],473:[function(require,module,exports){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.RGB_GREY_NEUTRAL_LIGHTEST=exports.RGB_GREY_NEUTRAL_DARK=exports.RGB_GREY_NEUTRAL=exports.ASSET_PATH=exports.GREY_COLOR=exports.GREY_NEUTRAL=exports.CIRCLE_STROKE_WIDTH=exports.CIRCLE_MARGIN=exports.WS_URL=exports.API=exports.WS_PROTOCAL=exports.HTTP_PROTOCAL=exports.API_PORT=exports.EXP_PORT=exports.INT_PORT=exports.WS_PORT=exports.NGROK_WS=exports.NGROK_API=exports.PLATFORM=exports.USE_WSS=exports.isNgrok=exports.isDevTest=exports.isDev=exports.isProd=void 0;var _color=_interopRequireDefault(require("color"));var isProd="production"==="production";exports.isProd=isProd;var isDev="production"!=="production";exports.isDev=isDev;var isDevTest="false"!="false";exports.isDevTest=isDevTest;var isNgrok="true"=="true";exports.isNgrok=isNgrok;var USE_WSS="true"=="true";exports.USE_WSS=USE_WSS;var PLATFORM="experiment";exports.PLATFORM=PLATFORM;var NGROK_API="enchroma.ngrok.io";exports.NGROK_API=NGROK_API;var NGROK_WS="enchromawss.ngrok.io";exports.NGROK_WS=NGROK_WS;var WS_PORT="3333";exports.WS_PORT=WS_PORT;var INT_PORT="9966";exports.INT_PORT=INT_PORT;var EXP_PORT="9967";exports.EXP_PORT=EXP_PORT;var API_PORT="3000";exports.API_PORT=API_PORT;var HTTP_PROTOCAL=isProd?"https":"http";exports.HTTP_PROTOCAL=HTTP_PROTOCAL;var WS_PROTOCAL=USE_WSS?"wss":"ws";exports.WS_PROTOCAL=WS_PROTOCAL;var API=isNgrok?"".concat(HTTP_PROTOCAL,"://").concat(NGROK_API):"".concat(isProd?"":"http://localhost:".concat("3000"),"/api");exports.API=API;var WS_URL=isNgrok?"".concat(WS_PROTOCAL,"://").concat(NGROK_WS):"".concat(WS_PROTOCAL,"://localhost:").concat(WS_PORT);exports.WS_URL=WS_URL;var CIRCLE_MARGIN=80;exports.CIRCLE_MARGIN=CIRCLE_MARGIN;var CIRCLE_STROKE_WIDTH=3;exports.CIRCLE_STROKE_WIDTH=CIRCLE_STROKE_WIDTH;var GREY_NEUTRAL=127;exports.GREY_NEUTRAL=GREY_NEUTRAL;var GREY_COLOR=_color.default.rgb(GREY_NEUTRAL,GREY_NEUTRAL,GREY_NEUTRAL);exports.GREY_COLOR=GREY_COLOR;var ASSET_PATH=isProd?"".concat(PLATFORM,"/assets"):"assets";exports.ASSET_PATH=ASSET_PATH;var RGB_GREY_NEUTRAL="rgb(".concat(GREY_NEUTRAL,",").concat(GREY_NEUTRAL,",").concat(GREY_NEUTRAL,")");exports.RGB_GREY_NEUTRAL=RGB_GREY_NEUTRAL;var RGB_GREY_NEUTRAL_DARK=GREY_COLOR.darken(.5).rgb().string();exports.RGB_GREY_NEUTRAL_DARK=RGB_GREY_NEUTRAL_DARK;var RGB_GREY_NEUTRAL_LIGHTEST=GREY_COLOR.lighten(.5).rgb().string();exports.RGB_GREY_NEUTRAL_LIGHTEST=RGB_GREY_NEUTRAL_LIGHTEST},{"@babel/runtime/helpers/interopRequireDefault":13,color:51}],474:[function(require,module,exports){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=_default;var _defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));var _regenerator=_interopRequireDefault(require("@babel/runtime/regenerator"));var _asyncToGenerator2=_interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));var _emitter=_interopRequireDefault(require("./emitter"));var _constants=require("./constants");var _util=require("../ipads/interface/js/lib/util");var _selectors=require("../ipads/interface/js/selectors");var _testConfigs=require("./test-configs");var _handlers=_interopRequireDefault(require("../ipads/interface/js/lib/websocket/handlers"));function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){(0,_defineProperty2.default)(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function loadConfig(_x,_x2){return _loadConfig.apply(this,arguments)}function _loadConfig(){_loadConfig=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function _callee(state,emitter){return _regenerator.default.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return(0,_util.getJSON)("".concat(_constants.ASSET_PATH,"/example-config.json"));case 2:return _context.abrupt("return",_context.sent);case 3:case"end":return _context.stop()}}},_callee)}));return _loadConfig.apply(this,arguments)}function _default(_x3,_x4){return _ref.apply(this,arguments)}function _ref(){_ref=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function _callee2(state,emitter){var config;return _regenerator.default.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log("isDevTest",_constants.isDevTest);if(!(!_constants.isDev||!_constants.isDevTest)){_context2.next=3;break}return _context2.abrupt("return");case 3:_context2.next=5;return loadConfig(state,emitter);case 5:config=_context2.sent;state.testsConfigs=config;state.activeTest={id:"after-image",index:0,data:state.testsConfigs["after-image"].data};state.activeTest.data.phases=(0,_testConfigs.parseTestConfig)((0,_selectors.getActiveTestData)(state).phases);emitter.emit("render");_emitter.default.on("dev:tests:update",function(data){state.activeTest=Object.assign({},state.activeTest,data);_handlers.default.testUpdate(_objectSpread({},state.activeTest,{test:(0,_selectors.getActiveTestBlock)(state)}));emitter.emit("render")});case 11:case"end":return _context2.stop()}}},_callee2)}));return _ref.apply(this,arguments)}},{"../ipads/interface/js/lib/util":503,"../ipads/interface/js/lib/websocket/handlers":504,"../ipads/interface/js/selectors":505,"./constants":473,"./emitter":477,"./test-configs":482,"@babel/runtime/helpers/asyncToGenerator":6,"@babel/runtime/helpers/defineProperty":9,"@babel/runtime/helpers/interopRequireDefault":13,"@babel/runtime/regenerator":22}],475:[function(require,module,exports){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));var _html=_interopRequireDefault(require("choo/html"));function _templateObject(){var data=(0,_taggedTemplateLiteral2.default)(['\n  <button\n   class="btn ','"\n   data-id="','"\n   onclick=',"\n   disabled=","\n  >\n   ","\n  </button>\n "]);_templateObject=function _templateObject(){return data};return data}var _default=function _default(data,onclick){return(0,_html.default)(_templateObject(),data.class,data.id,onclick,!!data.disabled,data.text)};exports.default=_default},{"@babel/runtime/helpers/interopRequireDefault":13,"@babel/runtime/helpers/taggedTemplateLiteral":20,"choo/html":41}],476:[function(require,module,exports){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));var _possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));var _getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));var _inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits"));var _applyDecoratedDescriptor2=_interopRequireDefault(require("@babel/runtime/helpers/applyDecoratedDescriptor"));var _nanocomponent=_interopRequireDefault(require("nanocomponent"));var _coreDecorators=require("core-decorators");var _html=_interopRequireDefault(require("choo/html"));var _emitter=_interopRequireDefault(require("../emitter"));var _class;var BaseComponent=(_class=function(_Nanocomponent){(0,_inherits2.default)(BaseComponent,_Nanocomponent);function BaseComponent(args){var _this;(0,_classCallCheck2.default)(this,BaseComponent);_this=(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(BaseComponent).call(this,args));_emitter.default.on("resize",_this.resize);return _this}(0,_createClass2.default)(BaseComponent,[{key:"resize",value:function resize(res){}},{key:"unload",value:function unload(){_emitter.default.off("resize",this.resize)}},{key:"onPeramsUpdate",value:function onPeramsUpdate(){}}]);return BaseComponent}(_nanocomponent.default),(0,_applyDecoratedDescriptor2.default)(_class.prototype,"resize",[_coreDecorators.autobind],Object.getOwnPropertyDescriptor(_class.prototype,"resize"),_class.prototype),_class);exports.default=BaseComponent},{"../emitter":477,"@babel/runtime/helpers/applyDecoratedDescriptor":3,"@babel/runtime/helpers/classCallCheck":7,"@babel/runtime/helpers/createClass":8,"@babel/runtime/helpers/getPrototypeOf":11,"@babel/runtime/helpers/inherits":12,"@babel/runtime/helpers/interopRequireDefault":13,"@babel/runtime/helpers/possibleConstructorReturn":16,"choo/html":41,"core-decorators":55,nanocomponent:405}],477:[function(require,module,exports){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));var _lodash=require("lodash");var EventEmitter=function(){function EventEmitter(){(0,_classCallCheck2.default)(this,EventEmitter);this.listeners=new Map}(0,_createClass2.default)(EventEmitter,[{key:"on",value:function on(label,callback){this.listeners.has(label)||this.listeners.set(label,[]);this.listeners.get(label).push(callback)}},{key:"off",value:function off(label,callback){var listeners=this.listeners.get(label),index;if(listeners&&listeners.length){index=listeners.reduce(function(i,listener,index){return(0,_lodash.isFunction)(listener)&&listener===callback?i=index:i},-1);if(index>-1){listeners.splice(index,1);this.listeners.set(label,listeners);return true}}return false}},{key:"emit",value:function emit(label){for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key]}var listeners=this.listeners.get(label);if(listeners&&listeners.length){listeners.forEach(function(listener){listener.apply(void 0,args)});return true}return false}}]);return EventEmitter}();var _default=new EventEmitter;exports.default=_default},{"@babel/runtime/helpers/classCallCheck":7,"@babel/runtime/helpers/createClass":8,"@babel/runtime/helpers/interopRequireDefault":13,lodash:402}],478:[function(require,module,exports){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _store=_interopRequireDefault(require("./store"));var _emitter=_interopRequireDefault(require("./emitter"));var _default=function _default(state,emitter){_emitter.default.on("websocket:connected",function(val){_store.default.setValue("websocket:connected",val)})};exports.default=_default},{"./emitter":477,"./store":481,"@babel/runtime/helpers/interopRequireDefault":13}],479:[function(require,module,exports){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.getActiveTestBlock=exports.getBlockFromIndex=exports.getActiveTestData=exports.getActiveConfigTest=exports.getActiveTest=exports.getActiveTestIndex=exports.getActiveTestId=exports.hasActiveTest=exports.getInterfaceTouches=exports.hasInterfaceTouches=exports.getXYFromInterfacePayload=exports.getRGBFromInterfacePayload=exports.getRes=exports.getHeight=exports.getWidth=void 0;var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _lodash=require("lodash");var _store=_interopRequireDefault(require("./store"));var getWidth=function getWidth(){return _store.default.getValue("res").width};exports.getWidth=getWidth;var getHeight=function getHeight(){return _store.default.getValue("res").height};exports.getHeight=getHeight;var getRes=function getRes(){return _store.default.getValue("res")};exports.getRes=getRes;var getRGBFromInterfacePayload=function getRGBFromInterfacePayload(payload){if(!_store.default.getValue("interface:touches")&&!payload)return;var _ref=payload||_store.default.getValue("interface:touches"),_ref2=(0,_slicedToArray2.default)(_ref,5),deg=_ref2[0],r=_ref2[1],red=_ref2[2],green=_ref2[3],blue=_ref2[4];return[red,green,blue]};exports.getRGBFromInterfacePayload=getRGBFromInterfacePayload;var getXYFromInterfacePayload=function getXYFromInterfacePayload(payload){if(!_store.default.getValue("interface:touches")&&!payload)return[0,0];var val=payload||_store.default.getValue("interface:touches");return[val[5]||0,val[6]||0]};exports.getXYFromInterfacePayload=getXYFromInterfacePayload;var hasInterfaceTouches=function hasInterfaceTouches(){return!!_store.default.getValue("interface:touches")};exports.hasInterfaceTouches=hasInterfaceTouches;var getInterfaceTouches=function getInterfaceTouches(){return _store.default.getValue("interface:touches")};exports.getInterfaceTouches=getInterfaceTouches;var hasActiveTest=function hasActiveTest(state){return!(0,_lodash.isEmpty)(state.activeTest)};exports.hasActiveTest=hasActiveTest;var getActiveTestId=function getActiveTestId(state){return state.activeTest&&state.activeTest.id};exports.getActiveTestId=getActiveTestId;var getActiveTestIndex=function getActiveTestIndex(state){return state.activeTest&&state.activeTest.index};exports.getActiveTestIndex=getActiveTestIndex;var getActiveTest=function getActiveTest(state){return state.activeTest};exports.getActiveTest=getActiveTest;var getActiveConfigTest=function getActiveConfigTest(state){return state.activeTest&&state.testsConfigs[getActiveTestId(state)]};exports.getActiveConfigTest=getActiveConfigTest;var getActiveTestData=function getActiveTestData(state){return state.activeTest&&state.activeTest.data||getActiveConfigTest(state).data};exports.getActiveTestData=getActiveTestData;var getBlockFromIndex=function getBlockFromIndex(testData,index){return testData.phases[index]};exports.getBlockFromIndex=getBlockFromIndex;var getActiveTestBlock=function getActiveTestBlock(state){return getActiveTestData(state).phases[getActiveTestIndex(state)]};exports.getActiveTestBlock=getActiveTestBlock},{"./store":481,"@babel/runtime/helpers/interopRequireDefault":13,"@babel/runtime/helpers/slicedToArray":18,lodash:402}],480:[function(require,module,exports){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.isRest=exports.isMatch=exports.isInduction=exports.default=void 0;var _defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){(0,_defineProperty2.default)(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}var STATES={INDUCTION:"INDUCTION",MATCH:"MATCH",REST:"REST"};var _default=_objectSpread({},STATES);exports.default=_default;var isInduction=function isInduction(testBlock){return testBlock&&testBlock.stateMachine===STATES.INDUCTION};exports.isInduction=isInduction;var isMatch=function isMatch(testBlock){return testBlock&&testBlock.stateMachine===STATES.MATCH};exports.isMatch=isMatch;var isRest=function isRest(testBlock){return testBlock&&testBlock.stateMachine===STATES.REST};exports.isRest=isRest},{"@babel/runtime/helpers/defineProperty":9,"@babel/runtime/helpers/interopRequireDefault":13}],481:[function(require,module,exports){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));var _emitter=_interopRequireDefault(require("./emitter"));var Store=function(){function Store(){var _this=this;(0,_classCallCheck2.default)(this,Store);this.store=new Map([["testName",null],["brightness",0],["res",{width:window.innerWidth,height:window.innerHeight}]]);_emitter.default.on("interface:brightness",function(v){_this.setValue("brightness",v);_this.render()});_emitter.default.on("setActiveTest",function(v){_this.setValue("testName",v);_this.render()})}(0,_createClass2.default)(Store,[{key:"on",value:function on(event,cb){_emitter.default.on(event,cb)}},{key:"setValue",value:function setValue(key,value){this.store.set(key,value)}},{key:"getValue",value:function getValue(key){return this.store.get(key)}},{key:"render",value:function render(){_emitter.default.emit("render")}},{key:"update",value:function update(){_emitter.default.emit("update")}},{key:"testUpdate",value:function testUpdate(){console.log("testUpdate");_emitter.default.emit("store:test:update")}}]);return Store}();var _default=new Store;exports.default=_default},{"./emitter":477,"@babel/runtime/helpers/classCallCheck":7,"@babel/runtime/helpers/createClass":8,"@babel/runtime/helpers/interopRequireDefault":13}],482:[function(require,module,exports){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.parseTestConfig=void 0;var _defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));var _stateMachine=_interopRequireDefault(require("./state-machine"));var _store=_interopRequireDefault(require("./store"));var _emitter=_interopRequireDefault(require("./emitter"));function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){(0,_defineProperty2.default)(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}var parseTestConfig=function parseTestConfig(config,sequence){var _time=0;sequence=sequence||[];config.forEach(function(testBlock,i){_time+=testBlock.STARE_DURATION;sequence.push(_objectSpread({},testBlock,{stateMachine:_stateMachine.default.INDUCTION,endTime:_time,leftCircleRGB:testBlock,rightCircleRGB:testBlock.BACKGROUND_GREY,isMatchingMode:false,isInductionMode:true}));_time+=testBlock.MATCH_DURATION;sequence.push(_objectSpread({},testBlock,{stateMachine:_stateMachine.default.MATCH,endTime:_time,leftCircleRGB:testBlock.WHITE,rightCircleRGB:testBlock.WHITE,isMatchingMode:true,isInductionMode:false}));_time+=testBlock.RESET_DURATION;if(testBlock.RESET_DURATION){sequence.push(_objectSpread({},testBlock,{stateMachine:_stateMachine.default.REST,endTime:_time,leftCircleRGB:testBlock.BACKGROUND_GREY,rightCircleRGB:testBlock.BACKGROUND_GREY,isResetingMode:true,isMatchingMode:false,isInductionMode:false}))}});return sequence};exports.parseTestConfig=parseTestConfig},{"./emitter":477,"./state-machine":480,"./store":481,"@babel/runtime/helpers/defineProperty":9,"@babel/runtime/helpers/interopRequireDefault":13}],483:[function(require,module,exports){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.getRGBStringArray=getRGBStringArray;exports.getRGBString=getRGBString;exports.downloadJson=downloadJson;exports.CSVFromJSON=CSVFromJSON;exports.downloadCSVFromJSON=downloadCSVFromJSON;exports.importFile=importFile;exports.postJSON=exports.getJSON=exports.qs=void 0;var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _lodash=require("lodash");var _jsonexport=_interopRequireDefault(require("jsonexport"));var _fastSafeStringify=_interopRequireDefault(require("fast-safe-stringify"));var qs=function qs(string){var el=arguments.length>1&&arguments[1]!==undefined?arguments[1]:document;return el.querySelector(string)};exports.qs=qs;var getJSON=function getJSON(url){return fetch(url,{method:"GET"}).then(function(response){return response.json()})};exports.getJSON=getJSON;var postJSON=function postJSON(url,json){return fetch(url,{method:"POST",headers:{"Content-Type":"application/json"},body:(0,_fastSafeStringify.default)(json)})};exports.postJSON=postJSON;function getRGBStringArray(arr){var _arr=(0,_slicedToArray2.default)(arr,3),r=_arr[0],g=_arr[1],b=_arr[2];return"rgb(".concat(r,",").concat(g,",").concat(b,")")}function getRGBString(r,g,b){g=(0,_lodash.isUndefined)(g)?r:g;b=(0,_lodash.isUndefined)(b)?r:b;return"rgb(".concat(r,",").concat(g,",").concat(b,")")}function downloadJson(data,fileName){if(!(0,_lodash.isString)(data)){data=JSON.stringify(data,null,4)}var dataStr="data:text/json;charset=utf-8,"+encodeURIComponent(data);var a=document.createElement("a");a.setAttribute("href",dataStr);a.setAttribute("download","".concat(fileName,".json"));document.body.appendChild(a);a.style.display="none";a.click();document.body.removeChild(a)}function CSVFromJSON(data,fileName){return new Promise(function(yes){(0,_jsonexport.default)(data,function(err,csv){if(err)return console.log(err);return yes(csv)})})}function downloadCSVFromJSON(data,fileName){(0,_jsonexport.default)(data,function(err,csv){if(err)return console.log(err);var dataStr="data:text/text;charset=utf-8,"+encodeURIComponent(csv);var a=document.createElement("a");a.setAttribute("href",dataStr);a.setAttribute("download","".concat(fileName,".csv"));document.body.appendChild(a);a.style.display="none";a.click();document.body.removeChild(a)})}function importFile(){return new Promise(function(yes){var a=document.createElement("input");a.setAttribute("type","file");a.addEventListener("change",function(e){yes(e.target.files[0]);document.body.removeChild(a)});document.body.appendChild(a);a.style.display="none";a.click()})}},{"@babel/runtime/helpers/interopRequireDefault":13,"@babel/runtime/helpers/slicedToArray":18,"fast-safe-stringify":383,jsonexport:399,lodash:402}],484:[function(require,module,exports){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));var _constants=require("./constants");var _emitter=_interopRequireDefault(require("./emitter"));var _fastSafeStringify=_interopRequireDefault(require("fast-safe-stringify"));function get_appropriate_ws_url(){var pcol;var u=document.URL;if(u.substring(0,5)=="https"){pcol="wss://";u=u.substr(8)}else{pcol="ws://";if(u.substring(0,4)=="http")u=u.substr(7)}u=u.split("/");return pcol+u[0]}var WS=function(){function WS(){(0,_classCallCheck2.default)(this,WS);this.init()}(0,_createClass2.default)(WS,[{key:"init",value:function init(){var _this=this;var ip=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"localhost";var port=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"3333";console.log("connecting to : ",_constants.WS_URL);this.client=new WebSocket(_constants.WS_URL);this.int;this.client.onerror=function(e){console.log(e)};this.client.onopen=function(){console.log("WebSocket connected");_emitter.default.emit("websocket:connected",true);_this.onopen();var _self=_this;clearInterval(_this.int);_this.int=setInterval(function(){_self.send({},"ping")},15e3)};this.client.onclose=function(){console.log("WebSocket disconnected");_emitter.default.emit("websocket:connected",false);setTimeout(function(){_this.client.close();_this.client=null;_this.init()},1500)}}},{key:"send",value:function send(data,type){this.client.send((0,_fastSafeStringify.default)({data:data,type:type}))}},{key:"onMessage",value:function onMessage(){}}]);return WS}();var _default=WS;exports.default=_default},{"./constants":473,"./emitter":477,"@babel/runtime/helpers/classCallCheck":7,"@babel/runtime/helpers/createClass":8,"@babel/runtime/helpers/interopRequireDefault":13,"fast-safe-stringify":383}],485:[function(require,module,exports){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=_default;var _regenerator=_interopRequireDefault(require("@babel/runtime/regenerator"));var _asyncToGenerator2=_interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));var _selectors=require("../../interface/js/selectors");var _testConfigs=require("../../../common/test-configs");var _emitter=_interopRequireDefault(require("../../../common/emitter"));function _default(_x,_x2){return _ref.apply(this,arguments)}function _ref(){_ref=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function _callee(state,emitter){return _regenerator.default.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:state.logs="";state.websocketConnected=false;state.webrtcConnected=false;_emitter.default.on("test:set",function(data){state.paused=false;state.waiting=true;state.activeTest=data;state.activeTest.data.phases=(0,_testConfigs.parseTestConfig)((0,_selectors.getActiveTestData)(state).phases);emitter.emit("render")});_emitter.default.on("test:stop",function(data){state.activeTest=null;emitter.emit("render")});_emitter.default.on("test:pause",function(data){state.paused=data;emitter.emit("render")});_emitter.default.on("test:update",function(data){if(state.activeTest){state.waiting=false;state.activeTest.index=data.index;emitter.emit("render")}});_emitter.default.on("test:greyscale",function(data){state.isGreyscale=data;emitter.emit("render")});_emitter.default.on("websocket:connected",function(){state.websocketConnected=true;emitter.emit("render")});_emitter.default.on("websocket:disconnected",function(){state.websocketConnected=false;emitter.emit("render")});_emitter.default.on("webrtc:connected",function(){state.webrtcConnected=true;emitter.emit("render")});_emitter.default.on("webrtc:disconnected",function(){state.webrtcConnected=false;emitter.emit("render")});_emitter.default.on("logs",function(str){console.log(str);state.logs+="\n ".concat(str);emitter.emit("render")});_emitter.default.on("render",function(){return emitter.emit("render")});emitter.emit("render");case 15:case"end":return _context.stop()}}},_callee)}));return _ref.apply(this,arguments)}},{"../../../common/emitter":477,"../../../common/test-configs":482,"../../interface/js/selectors":505,"@babel/runtime/helpers/asyncToGenerator":6,"@babel/runtime/helpers/interopRequireDefault":13,"@babel/runtime/regenerator":22}],486:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getIsWaiting=exports.getIsPaused=exports.getActiveTestName=exports.getActiveTestIndex=exports.getActiveTestBlock=exports.getActiveTestData=exports.getActiveTestId=exports.getActiveTest=void 0;var _lodash=require("lodash");var getActiveTest=function getActiveTest(state){return state.activeTest};exports.getActiveTest=getActiveTest;var getActiveTestId=function getActiveTestId(state){return state.activeTest&&state.activeTest.id};exports.getActiveTestId=getActiveTestId;var getActiveTestData=function getActiveTestData(state){return state.activeTest&&getActiveTest(state).data};exports.getActiveTestData=getActiveTestData;var getActiveTestBlock=function getActiveTestBlock(state){return state.activeTest&&getActiveTestData(state).phases[getActiveTestIndex(state)]};exports.getActiveTestBlock=getActiveTestBlock;var getActiveTestIndex=function getActiveTestIndex(state){return state.activeTest&&state.activeTest.index};exports.getActiveTestIndex=getActiveTestIndex;var getActiveTestName=function getActiveTestName(state){return state.activeTest&&state.activeTest.name};exports.getActiveTestName=getActiveTestName;var getIsPaused=function getIsPaused(state){return state.paused};exports.getIsPaused=getIsPaused;var getIsWaiting=function getIsWaiting(state){return state.waiting};exports.getIsWaiting=getIsWaiting},{lodash:402}],487:[function(require,module,exports){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.ConnectedBaseComponent=void 0;var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));var _possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));var _getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));var _inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits"));var _html=_interopRequireDefault(require("choo/html"));var _store=_interopRequireDefault(require("../../../common/store"));var _component=_interopRequireDefault(require("../../../common/elements/component"));var ConnectedBaseComponent=function(_BaseComponent){(0,_inherits2.default)(ConnectedBaseComponent,_BaseComponent);function ConnectedBaseComponent(){(0,_classCallCheck2.default)(this,ConnectedBaseComponent);return(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(ConnectedBaseComponent).apply(this,arguments))}(0,_createClass2.default)(ConnectedBaseComponent,[{key:"onStoreTestUpdate",value:function onStoreTestUpdate(testBlock){}},{key:"onStoreInterfaceUpdate",value:function onStoreInterfaceUpdate(data){}},{key:"load",value:function load(el){var _this=this;_store.default.on("store:test:update",function(){var testBlock=_store.default.getValue("test:update");_this.onStoreTestUpdate(testBlock);var isGreyscale=_store.default.getValue("test:greyscale");_this.onPeramsUpdate({isGreyscale:isGreyscale})});_store.default.on("store:interface:update",function(){_this.onStoreInterfaceUpdate(_store.default.getValue("interface:touches"))})}}]);return ConnectedBaseComponent}(_component.default);exports.ConnectedBaseComponent=ConnectedBaseComponent},{"../../../common/elements/component":476,"../../../common/store":481,"@babel/runtime/helpers/classCallCheck":7,"@babel/runtime/helpers/createClass":8,"@babel/runtime/helpers/getPrototypeOf":11,"@babel/runtime/helpers/inherits":12,"@babel/runtime/helpers/interopRequireDefault":13,"@babel/runtime/helpers/possibleConstructorReturn":16,"choo/html":41}],488:[function(require,module,exports){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _taggedTemplateLiteral2=_interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));var _possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));var _getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));var _inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits"));var _html=_interopRequireDefault(require("choo/html"));var _nanocomponent=_interopRequireDefault(require("nanocomponent"));var _util=require("../../../common/util");var _emitter=_interopRequireDefault(require("../../../common/emitter"));var _selector=require("../../../common/selector");var _store=_interopRequireDefault(require("../../../common/store"));var _constants=require("../../../common/constants");var _button=_interopRequireDefault(require("../../../common/elements/button"));var _handlers=_interopRequireDefault(require("../../interface/js/lib/websocket/handlers"));var _selectors=require("../../interface/js/selectors");function _templateObject3(){var data=(0,_taggedTemplateLiteral2.default)(['\n        <p class="p-absolute pos-tl c-white">interface</p>\n      ']);_templateObject3=function _templateObject3(){return data};return data}function _templateObject2(){var data=(0,_taggedTemplateLiteral2.default)(['\n        <p class="p-absolute pos-tl u-flex u-flex--stack">\n          <span class="text-secondary"\n            >test name:<mark>','</mark></span\n          >\n          <span class="text-secondary"\n            >test state:<mark\n              >',"</mark\n            ></span\n          >\n          ","\n          ","\n        </p>\n      "]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=(0,_taggedTemplateLiteral2.default)(['\n      <div class="b-btn live-test-color"></div>\n    ']);_templateObject=function _templateObject(){return data};return data}var Color=function(_Nanocomponent){(0,_inherits2.default)(Color,_Nanocomponent);function Color(){(0,_classCallCheck2.default)(this,Color);return(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(Color).apply(this,arguments))}(0,_createClass2.default)(Color,[{key:"createElement",value:function createElement(){return(0,_html.default)(_templateObject())}},{key:"load",value:function load(el){var _this=this;this.el=el;_store.default.on("interface:touches",function(payload){var _getRGBFromInterfaceP=(0,_selector.getRGBFromInterfacePayload)(payload),_getRGBFromInterfaceP2=(0,_slicedToArray2.default)(_getRGBFromInterfaceP,3),red=_getRGBFromInterfaceP2[0],green=_getRGBFromInterfaceP2[1],blue=_getRGBFromInterfaceP2[2];_this.el.style.backgroundColor=(0,_util.getRGBString)(Math.floor(red),Math.floor(green),Math.floor(blue))})}},{key:"update",value:function update(){return false}}]);return Color}(_nanocomponent.default);var color=new Color;var _default=function _default(state,emit){var activeTestId=(0,_selectors.getActiveTestId)(state);var activeTestBlock=(0,_selectors.getActiveTestBlock)(state);if(!activeTestBlock||_constants.isProd)return;switch(activeTestId){case"after-image":return(0,_html.default)(_templateObject2(),activeTestBlock.TEST_NAME,activeTestBlock.stateMachine,(0,_button.default)({text:"Next",id:"next"},function(evt){evt.preventDefault();_emitter.default.emit("dev:tests:update",{index:(0,_selectors.getActiveTestIndex)(state)+1})}),color.render({key:"interface:touches"}));default:return(0,_html.default)(_templateObject3())}};exports.default=_default},{"../../../common/constants":473,"../../../common/elements/button":475,"../../../common/emitter":477,"../../../common/selector":479,"../../../common/store":481,"../../../common/util":483,"../../interface/js/lib/websocket/handlers":504,"../../interface/js/selectors":505,"@babel/runtime/helpers/classCallCheck":7,"@babel/runtime/helpers/createClass":8,"@babel/runtime/helpers/getPrototypeOf":11,"@babel/runtime/helpers/inherits":12,"@babel/runtime/helpers/interopRequireDefault":13,"@babel/runtime/helpers/possibleConstructorReturn":16,"@babel/runtime/helpers/slicedToArray":18,"@babel/runtime/helpers/taggedTemplateLiteral":20,"choo/html":41,nanocomponent:405}],489:[function(require,module,exports){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));var _possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));var _getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));var _inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits"));var _html=_interopRequireDefault(require("choo/html"));var _constants=require("../../../common/constants");var _classnames=_interopRequireDefault(require("classnames"));var _nanocomponent=_interopRequireDefault(require("nanocomponent"));function _templateObject2(){var data=(0,_taggedTemplateLiteral2.default)(['\n                <textarea id="story" name="story" rows="5" cols="33">\n                    ',"\n                  </textarea\n                >\n              "]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=(0,_taggedTemplateLiteral2.default)(['\n      <div class="p-absolute pos-tl full-wh u-flex--c">\n        <p class="p-absolute pos-bl c-white">','</p>\n        <h1><mark>waiting for a test...</mark></h1>\n        <div class="p-absolute pos-tr">\n          <div\n            class="unicode ','"\n          >\n            ⇝\n          </div>\n          <div\n            class="unicode ','"\n          >\n            ⇉\n          </div>\n          ',"\n        </div>\n      </div>\n    "]);_templateObject=function _templateObject(){return data};return data}var Home=function(_Nanocomponent){(0,_inherits2.default)(Home,_Nanocomponent);function Home(){(0,_classCallCheck2.default)(this,Home);return(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(Home).apply(this,arguments))}(0,_createClass2.default)(Home,[{key:"createElement",value:function createElement(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return(0,_html.default)(_templateObject(),window.appId,state.websocketConnected?"--connected":"--disconnected",state.webrtcConnected?"--connected":"--disconnected",_constants.isDev?(0,_html.default)(_templateObject2(),state.logs):null)}},{key:"update",value:function update(){return true}}]);return Home}(_nanocomponent.default);var _default=Home;exports.default=_default},{"../../../common/constants":473,"@babel/runtime/helpers/classCallCheck":7,"@babel/runtime/helpers/createClass":8,"@babel/runtime/helpers/getPrototypeOf":11,"@babel/runtime/helpers/inherits":12,"@babel/runtime/helpers/interopRequireDefault":13,"@babel/runtime/helpers/possibleConstructorReturn":16,"@babel/runtime/helpers/taggedTemplateLiteral":20,"choo/html":41,classnames:43,nanocomponent:405}],490:[function(require,module,exports){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));var _possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));var _getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));var _inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits"));var _taggedTemplateLiteral2=_interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));var _html=_interopRequireDefault(require("choo/html"));var _classnames=_interopRequireDefault(require("classnames"));var _base=require("./base");var _selectors=require("../selectors");function _templateObject2(){var data=(0,_taggedTemplateLiteral2.default)(['\n      <div\n        class="','"\n      >\n        ',"\n      </div>\n    "]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=(0,_taggedTemplateLiteral2.default)(['\n    <div class="p-absolute full-wh u-flex u-flex--center z-1">\n      <h1><mark>',"</mark></h1>\n    </div>\n  "]);_templateObject=function _templateObject(){return data};return data}var getText=function getText(state){if((0,_selectors.getIsPaused)(state)){return"paused"}if((0,_selectors.getIsWaiting)(state)){return null}return null};var renderOverlay=function renderOverlay(state){if(!state)return null;var text=getText(state);if(!text)return null;return(0,_html.default)(_templateObject(),text)};var Overlay=function(_ConnectedBaseCompone){(0,_inherits2.default)(Overlay,_ConnectedBaseCompone);function Overlay(){(0,_classCallCheck2.default)(this,Overlay);return(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(Overlay).apply(this,arguments))}(0,_createClass2.default)(Overlay,[{key:"createElement",value:function createElement(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return(0,_html.default)(_templateObject2(),(0,_classnames.default)(["p-absolute","full-wh","controls-overlay",{"--inactive":(0,_selectors.getIsPaused)(state)||(0,_selectors.getIsWaiting)(state)}]),renderOverlay(state))}},{key:"onStoreTestUpdate",value:function onStoreTestUpdate(state){this.render(state)}},{key:"update",value:function update(){return true}}]);return Overlay}(_base.ConnectedBaseComponent);var overlay=new Overlay;var _default=Overlay;exports.default=_default},{"../selectors":486,"./base":487,"@babel/runtime/helpers/classCallCheck":7,"@babel/runtime/helpers/createClass":8,"@babel/runtime/helpers/getPrototypeOf":11,"@babel/runtime/helpers/inherits":12,"@babel/runtime/helpers/interopRequireDefault":13,"@babel/runtime/helpers/possibleConstructorReturn":16,"@babel/runtime/helpers/taggedTemplateLiteral":20,"choo/html":41,classnames:43}],491:[function(require,module,exports){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));var _applyDecoratedDescriptor2=_interopRequireDefault(require("@babel/runtime/helpers/applyDecoratedDescriptor"));var _socketpeer=_interopRequireDefault(require("socketpeer"));var _coreDecorators=require("core-decorators");var _emitter=_interopRequireDefault(require("../../../common/emitter"));var _constants=require("../../../common/constants");var _handlers=_interopRequireDefault(require("../../experiment/js/lib/handlers"));var _class;var WS=(_class=function(){function WS(){var _this=this;(0,_classCallCheck2.default)(this,WS);this.peer=new _socketpeer.default({pairCode:"enchroma",url:_constants.WS_URL,debug:false});this.peer.on("connect",this.onConnect);this.peer.on("connect_timeout",this.onConnectTimeout);this.peer.on("data",this.onData);this.peer.on("rtc.signal",this.onRtcSignal);this.peer.on("peer.found",this.onPeerFound);this.peer.on("upgrade",this.onUpgrade);this.peer.on("upgrade_attempt",this.onUpgradeAttempt);this.peer.on("downgrade",this.onDowngrade);this.peer.on("close",this.onClose);this.peer.on("warning",this.onWarning);this.peer.on("error",this.onError);_emitter.default.on("interface:touches",function(coords){_this.send(JSON.stringify({type:"interface:touches",data:coords}))})}(0,_createClass2.default)(WS,[{key:"onConnect",value:function onConnect(){console.log("peer connected")}},{key:"onConnectTimeout",value:function onConnectTimeout(){console.error("connection timed out (after %s ms)",this.peer.timeout);_emitter.default.emit("logs","connection timed out")}},{key:"onData",value:function onData(payload){if(payload.type==="interface:touches"){_handlers.default.testTouches(payload.data)}}},{key:"onRtcSignal",value:function onRtcSignal(){console.log("WebRTC signalling");_emitter.default.emit("logs","WebRTC signalling")}},{key:"onPeerFound",value:function onPeerFound(data){_emitter.default.emit("logs","Peer found")}},{key:"onUpgrade",value:function onUpgrade(){_emitter.default.emit("logs","successfully upgraded WebSocket ⇒ to WebRTC peer connection");_emitter.default.emit("webrtc:connected");console.log("successfully upgraded WebSocket ⇒ to WebRTC peer connection")}},{key:"onUpgradeAttempt",value:function onUpgradeAttempt(){console.log("attempting to upgrade WebSocket ⇒ to WebRTC peer connection (attempt number: %d)",this.peer._connections.rtc.attempt);_emitter.default.emit("logs","attempting to upgrade WebSocket ⇒ to WebRTC peer connection (attempt number: ".concat(this.peer._connections.rtc.attempt,")"))}},{key:"onDowngrade",value:function onDowngrade(){_emitter.default.emit("webrtc:disconnect");_emitter.default.emit("logs","Downgraded")}},{key:"onClose",value:function onClose(){_emitter.default.emit("webrtc:disconnect")}},{key:"onWarning",value:function onWarning(data){console.error("warning:",data.message)}},{key:"onError",value:function onError(err){_emitter.default.emit("logs","Error ".concat(err));console.error("error:",err)}},{key:"send",value:function send(data){this.peer.send(data)}}]);return WS}(),(0,_applyDecoratedDescriptor2.default)(_class.prototype,"onConnect",[_coreDecorators.autobind],Object.getOwnPropertyDescriptor(_class.prototype,"onConnect"),_class.prototype),(0,_applyDecoratedDescriptor2.default)(_class.prototype,"onConnectTimeout",[_coreDecorators.autobind],Object.getOwnPropertyDescriptor(_class.prototype,"onConnectTimeout"),_class.prototype),(0,_applyDecoratedDescriptor2.default)(_class.prototype,"onData",[_coreDecorators.autobind],Object.getOwnPropertyDescriptor(_class.prototype,"onData"),_class.prototype),(0,_applyDecoratedDescriptor2.default)(_class.prototype,"onRtcSignal",[_coreDecorators.autobind],Object.getOwnPropertyDescriptor(_class.prototype,"onRtcSignal"),_class.prototype),(0,_applyDecoratedDescriptor2.default)(_class.prototype,"onPeerFound",[_coreDecorators.autobind],Object.getOwnPropertyDescriptor(_class.prototype,"onPeerFound"),_class.prototype),(0,_applyDecoratedDescriptor2.default)(_class.prototype,"onUpgrade",[_coreDecorators.autobind],Object.getOwnPropertyDescriptor(_class.prototype,"onUpgrade"),_class.prototype),(0,_applyDecoratedDescriptor2.default)(_class.prototype,"onUpgradeAttempt",[_coreDecorators.autobind],Object.getOwnPropertyDescriptor(_class.prototype,"onUpgradeAttempt"),_class.prototype),(0,_applyDecoratedDescriptor2.default)(_class.prototype,"onDowngrade",[_coreDecorators.autobind],Object.getOwnPropertyDescriptor(_class.prototype,"onDowngrade"),_class.prototype),(0,_applyDecoratedDescriptor2.default)(_class.prototype,"onClose",[_coreDecorators.autobind],Object.getOwnPropertyDescriptor(_class.prototype,"onClose"),_class.prototype),(0,_applyDecoratedDescriptor2.default)(_class.prototype,"onWarning",[_coreDecorators.autobind],Object.getOwnPropertyDescriptor(_class.prototype,"onWarning"),_class.prototype),(0,_applyDecoratedDescriptor2.default)(_class.prototype,"onError",[_coreDecorators.autobind],Object.getOwnPropertyDescriptor(_class.prototype,"onError"),_class.prototype),(0,_applyDecoratedDescriptor2.default)(_class.prototype,"send",[_coreDecorators.autobind],Object.getOwnPropertyDescriptor(_class.prototype,"send"),_class.prototype),_class);exports.default=WS},{"../../../common/constants":473,"../../../common/emitter":477,"../../experiment/js/lib/handlers":496,"@babel/runtime/helpers/applyDecoratedDescriptor":3,"@babel/runtime/helpers/classCallCheck":7,"@babel/runtime/helpers/createClass":8,"@babel/runtime/helpers/interopRequireDefault":13,"core-decorators":55,socketpeer:456}],492:[function(require,module,exports){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _emitter=_interopRequireDefault(require("../../../common/emitter"));var _store=_interopRequireDefault(require("../../../common/store"));var _default={testSet:function testSet(data){_store.default.setValue("test:set",data);_emitter.default.emit("test:set",data)},testPause:function testPause(data){_store.default.setValue("test:pause",data);_emitter.default.emit("test:pause",data);_store.default.testUpdate()},testStop:function testStop(data){_store.default.setValue("test:stop",data);_emitter.default.emit("test:stop",data);_store.default.testUpdate()},testUpdate:function testUpdate(data){_store.default.setValue("test:update",data.test);_emitter.default.emit("test:update",data);_store.default.testUpdate()},setGreyscale:function setGreyscale(val){_store.default.setValue("test:greyscale",val);_emitter.default.emit("test:greyscale",val);_store.default.testUpdate()}};exports.default=_default},{"../../../common/emitter":477,"../../../common/store":481,"@babel/runtime/helpers/interopRequireDefault":13}],493:[function(require,module,exports){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));var _possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));var _getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));var _get2=_interopRequireDefault(require("@babel/runtime/helpers/get"));var _inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits"));var _callback=_interopRequireDefault(require("safe-json-parse/callback"));var _constants=require("../../../common/constants");var _emitter=_interopRequireDefault(require("../../../common/emitter"));var _websocket=_interopRequireDefault(require("../../../common/websocket"));var _fastSafeStringify=_interopRequireDefault(require("fast-safe-stringify"));var _handlers=_interopRequireDefault(require("./handlers"));var WS=function(_WSBase){(0,_inherits2.default)(WS,_WSBase);function WS(){(0,_classCallCheck2.default)(this,WS);return(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(WS).apply(this,arguments))}(0,_createClass2.default)(WS,[{key:"init",value:function init(){(0,_get2.default)((0,_getPrototypeOf2.default)(WS.prototype),"init",this).call(this);var _self=this;this.client.onmessage=function(event){var socketData;if(typeof event.data==="string"){try{socketData=JSON.parse(event.data)}catch(e){console.error(e)}}else{socketData=event.data}if(!socketData)return;var _socketData=socketData,type=_socketData.type,data=_socketData.data;switch(type){case"master:handshake":console.log(type,data);break;case"master:reload":window.location.reload();break;case"master:greyscale":_handlers.default.setGreyscale(data);break;case"master:test:set":console.log(type,data);_handlers.default.testSet(data);break;case"master:test:pause":console.log(type,data);_handlers.default.testPause(data);break;case"master:test:stop":console.log(type,data);_handlers.default.testStop(data);break;case"master:test:update":_handlers.default.testUpdate(data);break}_self.onMessage(socketData)}}}]);return WS}(_websocket.default);var _default=WS;exports.default=_default},{"../../../common/constants":473,"../../../common/emitter":477,"../../../common/websocket":484,"./handlers":492,"@babel/runtime/helpers/classCallCheck":7,"@babel/runtime/helpers/createClass":8,"@babel/runtime/helpers/get":10,"@babel/runtime/helpers/getPrototypeOf":11,"@babel/runtime/helpers/inherits":12,"@babel/runtime/helpers/interopRequireDefault":13,"@babel/runtime/helpers/possibleConstructorReturn":16,"fast-safe-stringify":383,"safe-json-parse/callback":450}],494:[function(require,module,exports){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");require("@babel/polyfill");var _app=_interopRequireDefault(require("./js/app"))},{"./js/app":495,"@babel/polyfill":1,"@babel/runtime/helpers/interopRequireDefault":13}],495:[function(require,module,exports){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _taggedTemplateLiteral2=_interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));require("whatwg-fetch");var _choo=_interopRequireDefault(require("choo"));var _html=_interopRequireDefault(require("choo/html"));var _devModel=_interopRequireDefault(require("../../../common/dev-model"));var _app=_interopRequireDefault(require("../../../common/app"));var _store=_interopRequireDefault(require("../../../common/store"));var _websocket=_interopRequireDefault(require("./lib/websocket"));var _webrtc=_interopRequireDefault(require("../../common/webrtc"));var _views=_interopRequireDefault(require("./views"));function _templateObject(){var data=(0,_taggedTemplateLiteral2.default)(['\n    <main\n      class="absolute app w-100 h-100"\n      onload=',"\n    >\n      ","\n    </main>\n  "]);_templateObject=function _templateObject(){return data};return data}var app=(0,_choo.default)();(0,_app.default)(app);app.use(_devModel.default);var webrtc=new _webrtc.default;function mainView(state,prev,send){return(0,_html.default)(_templateObject(),onload,(0,_views.default)(state,prev,send))}app.route("*",mainView);var tree=app.start();document.body.appendChild(tree)},{"../../../common/app":472,"../../../common/dev-model":474,"../../../common/store":481,"../../common/webrtc":491,"./lib/websocket":497,"./views":501,"@babel/runtime/helpers/interopRequireDefault":13,"@babel/runtime/helpers/taggedTemplateLiteral":20,choo:42,"choo/html":41,"whatwg-fetch":468}],496:[function(require,module,exports){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _emitter=_interopRequireDefault(require("../../../../common/emitter"));var _store=_interopRequireDefault(require("../../../../common/store"));var _default={testTouches:function testTouches(data){_store.default.setValue("interface:touches",data);_emitter.default.emit("store:interface:update")}};exports.default=_default},{"../../../../common/emitter":477,"../../../../common/store":481,"@babel/runtime/helpers/interopRequireDefault":13}],497:[function(require,module,exports){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));var _possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));var _getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));var _inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits"));var _emitter=_interopRequireDefault(require("../../../../common/emitter"));var _websocket=_interopRequireDefault(require("../../../common/websocket"));var _handlers=_interopRequireDefault(require("./handlers"));var WS=function(_iPadWSBase){(0,_inherits2.default)(WS,_iPadWSBase);function WS(){(0,_classCallCheck2.default)(this,WS);return(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(WS).apply(this,arguments))}(0,_createClass2.default)(WS,[{key:"onopen",value:function onopen(){console.log("onopen: experiment");this.send("experiment","handshake")}},{key:"onMessage",value:function onMessage(socketData){var type=socketData.type,data=socketData.data;switch(type){case"interface:touches":break}}}]);return WS}(_websocket.default);var _default=new WS;exports.default=_default},{"../../../../common/emitter":477,"../../../common/websocket":493,"./handlers":496,"@babel/runtime/helpers/classCallCheck":7,"@babel/runtime/helpers/createClass":8,"@babel/runtime/helpers/getPrototypeOf":11,"@babel/runtime/helpers/inherits":12,"@babel/runtime/helpers/interopRequireDefault":13,"@babel/runtime/helpers/possibleConstructorReturn":16}],498:[function(require,module,exports){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=drawDot;var _two=_interopRequireDefault(require("two.js"));function drawDot(two,_ref){var radius=_ref.radius,strength=_ref.strength,numDots=_ref.numDots,mass=_ref.mass;var drag=0;var playing=0;var background=two.makeGroup();var physics=new Physics;var points=[];var positions=[];var particles=[];var i=0;for(i=0;i<numDots;i++){var pct=i/numDots;var theta=pct*Math.PI*2;var ax=radius*Math.cos(theta);var ay=radius*Math.sin(theta);var variance=Math.random()*.5+.5;var bx=variance*ax;var by=variance*ay;var origin=physics.makeParticle(mass,ax,ay);var particle=physics.makeParticle(Math.random()*mass*.66+mass*.33,bx,by);physics.makeSpring(particle,origin,strength,drag,0);origin.makeFixed();particle.shape=two.makeCircle(particle.position.x,particle.position.y,1);particle.shape.noStroke().noFill();particle.position=particle.shape.translation;particles.push(particle);points.push(particle.position);positions.push([bx,by])}var outer=new _two.default.Path(points,true,true).noStroke();var color="#222";outer.fill=color.toString(.5);background.add(outer);resize();function tick(){particles.forEach(function(s,i){s.position.set(positions[i][0],positions[i][1]);if(s.resting()){console.log("reset!!")}})}function update(){physics.update()}two.bind("resize",resize).play();function resize(){background.translation.set(two.width/2,two.height/2)}function pause(){two.unbind("update",update);background.opacity=0}function resume(){two.bind("update",update);background.opacity=1}return{tick:tick,update:update,pause:pause,resume:resume}}},{"@babel/runtime/helpers/interopRequireDefault":13,"two.js":462}],499:[function(require,module,exports){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));var _html=_interopRequireDefault(require("choo/html"));var _selector=require("../../../../../common/selector");var _util=require("../../../../../common/util");var HALF_PI=Math.PI/2;var TWO_PI=Math.PI*2;var THREE_Q_PI=Math.PI*1.5;var THREE_Q_CIRC=HALF_PI*3;var THREE_Q_PI_END=THREE_Q_PI+Math.PI;var HALF_PI_END=HALF_PI+Math.PI;var ExpDrawing=function(){function ExpDrawing(){(0,_classCallCheck2.default)(this,ExpDrawing)}(0,_createClass2.default)(ExpDrawing,[{key:"setTwo",value:function setTwo(two){this.two=two;this.inductionHalf;this.matchHalf;this.isLeft}},{key:"setGroup",value:function setGroup(group){this.group=group}},{key:"getArcStart",value:function getArcStart(){var isLeft=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLeft;return isLeft?HALF_PI:THREE_Q_PI}},{key:"getArcStartEnd",value:function getArcStartEnd(){var isLeft=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.isLeft;return isLeft?HALF_PI_END:THREE_Q_PI_END}},{key:"setRadius",value:function setRadius(radius){this.radius=radius}},{key:"setTestBlock",value:function setTestBlock(testBlock){this.testBlock=testBlock}},{key:"drawInductionHalf",value:function drawInductionHalf(color){var isLeft=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(this.inductionHalf){this.group.remove(this.inductionHalf);this.two.remove(this.inductionHalf)}this.isLeft=isLeft;this.inductionHalf=this.two.makeArcSegment((0,_selector.getWidth)()/2,(0,_selector.getHeight)()/2,0,this.radius,-HALF_PI,HALF_PI).noStroke();this.inductionHalf.fill=color;this.group.add(this.inductionHalf)}},{key:"updateInductionHalf",value:function updateInductionHalf(color){var isLeft=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;this.inductionHalf.fill=color}},{key:"drawMatchHalf",value:function drawMatchHalf(color){if(this.matchHalf){this.group.remove(this.matchHalf);this.two.remove(this.matchHalf)}this.matchHalf=this.two.makeArcSegment((0,_selector.getWidth)()/2,(0,_selector.getHeight)()/2,0,this.radius,HALF_PI,THREE_Q_CIRC).noStroke();this.matchHalf.fill=color;this.group.add(this.matchHalf)}}]);return ExpDrawing}();var _default=new ExpDrawing;exports.default=_default},{"../../../../../common/selector":479,"../../../../../common/util":483,"@babel/runtime/helpers/classCallCheck":7,"@babel/runtime/helpers/createClass":8,"@babel/runtime/helpers/interopRequireDefault":13,"choo/html":41}],500:[function(require,module,exports){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.Controls=void 0;var _defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));var _taggedTemplateLiteral2=_interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));var _possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));var _getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));var _get2=_interopRequireDefault(require("@babel/runtime/helpers/get"));var _inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits"));var _applyDecoratedDescriptor2=_interopRequireDefault(require("@babel/runtime/helpers/applyDecoratedDescriptor"));var _html=_interopRequireDefault(require("choo/html"));var _classnames=_interopRequireDefault(require("classnames"));var _emitter=_interopRequireDefault(require("../../../../../common/emitter"));var _util=require("../../../../../common/util");var _coreDecorators=require("core-decorators");var _constants=require("../../../../../common/constants");var _store=_interopRequireDefault(require("../../../../../common/store"));var _selector=require("../../../../../common/selector");var _stateMachine=require("../../../../../common/state-machine");var _selectors=require("../../../../common/selectors");var _base=require("../../../../common/views/base");var _two=_interopRequireDefault(require("two.js"));var _expDrawing=_interopRequireDefault(require("./exp-drawing"));var _dotDrawing=_interopRequireDefault(require("./dot-drawing"));var _class;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable});keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){(0,_defineProperty2.default)(target,key,source[key])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}}return target}function _templateObject(){var data=(0,_taggedTemplateLiteral2.default)(['\n      <div class="full-wh"></div>\n    ']);_templateObject=function _templateObject(){return data};return data}var ControlsComponent=(_class=function(_ConnectedBaseCompone){(0,_inherits2.default)(ControlsComponent,_ConnectedBaseCompone);function ControlsComponent(){(0,_classCallCheck2.default)(this,ControlsComponent);return(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(ControlsComponent).apply(this,arguments))}(0,_createClass2.default)(ControlsComponent,[{key:"createElement",value:function createElement(state){this.state={activeTestBlock:(0,_selectors.getActiveTestBlock)(state),interfaceData:null,isLeft:false};return(0,_html.default)(_templateObject())}},{key:"onStoreTestUpdate",value:function onStoreTestUpdate(testBlock){if(!testBlock||this.state.activeTestBlock===testBlock){return}this.state.activeTestBlock=testBlock;this.drawCircle((0,_util.getRGBStringArray)(this.state.activeTestBlock.BACKGROUND_GREY),(0,_util.getRGBStringArray)(this.state.activeTestBlock.BACKGROUND_GREY.map(function(v){return v-2})));if((0,_stateMachine.isInduction)(testBlock)){if(this.dotDrawing){this.dotDrawing.tick()}this.dotDrawing.resume();this.state.isLeft=!this.state.isLeft;_expDrawing.default.drawInductionHalf((0,_util.getRGBStringArray)(this.state.activeTestBlock.RGB_TEST_VALUES),this.state.isLeft);_expDrawing.default.drawMatchHalf((0,_util.getRGBStringArray)(this.state.activeTestBlock.MATCH_WHITE||this.state.activeTestBlock.BACKGROUND_GREY))}else if((0,_stateMachine.isMatch)(this.state.activeTestBlock)){_expDrawing.default.drawMatchHalf(this.state.interfaceData?(0,_util.getRGBStringArray)((0,_selector.getRGBFromInterfacePayload)(this.state.interfaceData)):(0,_util.getRGBStringArray)(this.state.activeTestBlock.WHITE));_expDrawing.default.drawInductionHalf((0,_util.getRGBStringArray)(this.state.activeTestBlock.WHITE),this.state.isLeft)}else if((0,_stateMachine.isRest)(testBlock)){_expDrawing.default.drawInductionHalf((0,_util.getRGBStringArray)(this.state.activeTestBlock.BACKGROUND_GREY));_expDrawing.default.drawMatchHalf((0,_util.getRGBStringArray)(this.state.activeTestBlock.BACKGROUND_GREY))}}},{key:"onPeramsUpdate",value:function onPeramsUpdate(data){console.log(data)}},{key:"onStoreInterfaceUpdate",value:function onStoreInterfaceUpdate(data){this.state.interfaceData=data;if((0,_stateMachine.isMatch)(this.state.activeTestBlock)){_expDrawing.default.drawMatchHalf((0,_util.getRGBStringArray)((0,_selector.getRGBFromInterfacePayload)(data)))}}},{key:"resize",value:function resize(res){this.logic&&this.logic.resize(res)}},{key:"drawCircle",value:function drawCircle(color,strokeColor){this.circle=this.two.makeCircle((0,_selector.getWidth)()/2,(0,_selector.getHeight)()/2,this.diameter/2);this.circle.fill=color||_constants.RGB_GREY_NEUTRAL_DARK;this.circle.stroke=strokeColor||_constants.RGB_GREY_NEUTRAL_DARK;this.circle.linewidth=_constants.CIRCLE_STROKE_WIDTH;this.drawDot();this.group.add(this.circle);this.two.update()}},{key:"drawDot",value:function drawDot(){var color=arguments.length>0&&arguments[0]!==undefined?arguments[0]:_constants.RGB_GREY_NEUTRAL;this.dot=this.two.makeCircle((0,_selector.getWidth)()/2,(0,_selector.getHeight)()/2,4);this.dot.fill=color;this.dot.stroke=color;this.dot.linewidth=0;this.group.add(this.dot)}},{key:"load",value:function load(el){(0,_get2.default)((0,_getPrototypeOf2.default)(ControlsComponent.prototype),"load",this).call(this,el);this.el=el;_store.default.setValue("canvas:domrect",el.getBoundingClientRect());var params=_objectSpread({type:_two.default.Types.canvas},(0,_selector.getRes)());this.two=new _two.default(params).appendTo(el);this.group=this.two.makeGroup();_expDrawing.default.setTwo(this.two);_expDrawing.default.setGroup(this.two.makeGroup());_expDrawing.default.setTestBlock(this.state.activeTestBlock);_expDrawing.default.setRadius(this.diameter/2-_constants.CIRCLE_STROKE_WIDTH);this.drawCircle();this.onStoreTestUpdate(this.state.activeTestBlock);this.dotDrawing=(0,_dotDrawing.default)(this.two,{radius:6,strength:925e-6,mass:1,numDots:8})}},{key:"update",value:function update(){return false}},{key:"payloadRGBString",get:function get(){return this.state.interfaceData?(0,_util.getRGBStringArray)((0,_selector.getRGBFromInterfacePayload)(this.state.interfaceData)):(0,_util.getRGBStringArray)(this.state.activeTestBlock.WHITE)}},{key:"diameter",get:function get(){return Math.min(this.el.offsetWidth,this.el.offsetHeight)-_constants.CIRCLE_MARGIN}}]);return ControlsComponent}(_base.ConnectedBaseComponent),(0,_applyDecoratedDescriptor2.default)(_class.prototype,"resize",[_coreDecorators.autobind],Object.getOwnPropertyDescriptor(_class.prototype,"resize"),_class.prototype),_class);var Controls=ControlsComponent;exports.Controls=Controls},{"../../../../../common/constants":473,"../../../../../common/emitter":477,"../../../../../common/selector":479,"../../../../../common/state-machine":480,"../../../../../common/store":481,"../../../../../common/util":483,"../../../../common/selectors":486,"../../../../common/views/base":487,"./dot-drawing":498,"./exp-drawing":499,"@babel/runtime/helpers/applyDecoratedDescriptor":3,"@babel/runtime/helpers/classCallCheck":7,"@babel/runtime/helpers/createClass":8,"@babel/runtime/helpers/defineProperty":9,"@babel/runtime/helpers/get":10,"@babel/runtime/helpers/getPrototypeOf":11,"@babel/runtime/helpers/inherits":12,"@babel/runtime/helpers/interopRequireDefault":13,"@babel/runtime/helpers/possibleConstructorReturn":16,"@babel/runtime/helpers/taggedTemplateLiteral":20,"choo/html":41,classnames:43,"core-decorators":55,"two.js":462}],501:[function(require,module,exports){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _taggedTemplateLiteral2=_interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));var _html=_interopRequireDefault(require("choo/html"));var _util=require("../../../../common/util");var _nanocomponent=_interopRequireDefault(require("nanocomponent"));var _constants=require("../../../../common/constants");var _button=_interopRequireDefault(require("../../../../common/elements/button"));var _handlers=_interopRequireDefault(require("../../../interface/js/lib/websocket/handlers"));var _drawingHelpers=require("../../../interface/js/lib/drawing-helpers");var _selectors=require("../../../common/selectors");var _store=_interopRequireDefault(require("../../../../common/store"));var _exp=require("./after-image/exp");var _devInterface=_interopRequireDefault(require("../../../common/views/dev-interface"));var _overlay=_interopRequireDefault(require("../../../common/views/overlay"));var _home=_interopRequireDefault(require("../../../common/views/home"));function _templateObject2(){var data=(0,_taggedTemplateLiteral2.default)(['\n    <article\n      class="w-100 h-100 black-80 columns interface-view flex-c"\n      style="background-color: ','"\n    >\n      ',"\n      ","\n      ","\n    </article>\n  "]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=(0,_taggedTemplateLiteral2.default)(["\n        ","\n      "]);_templateObject=function _templateObject(){return data};return data}var controlsView=new _exp.Controls;var overlayView=new _overlay.default;var homeView=new _home.default;var renderExperiment=function renderExperiment(state,emit){var activeTestId=(0,_selectors.getActiveTestId)(state);switch(activeTestId){case"after-image":return(0,_html.default)(_templateObject(),controlsView.render(state));default:return homeView.render(state)}};module.exports=function(state,emit){console.log((0,_selectors.getActiveTestBlock)(state));var expState=(0,_selectors.getActiveTestBlock)(state)||{BACKGROUND_GREY:_constants.GREY_NEUTRAL};return(0,_html.default)(_templateObject2(),(0,_drawingHelpers.getRGBString)(expState.BACKGROUND_GREY),renderExperiment(state,emit),(0,_devInterface.default)(state,emit),overlayView.render(state,emit))}},{"../../../../common/constants":473,"../../../../common/elements/button":475,"../../../../common/store":481,"../../../../common/util":483,"../../../common/selectors":486,"../../../common/views/dev-interface":488,"../../../common/views/home":489,"../../../common/views/overlay":490,"../../../interface/js/lib/drawing-helpers":502,"../../../interface/js/lib/websocket/handlers":504,"./after-image/exp":500,"@babel/runtime/helpers/interopRequireDefault":13,"@babel/runtime/helpers/taggedTemplateLiteral":20,"choo/html":41,nanocomponent:405}],502:[function(require,module,exports){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.getRGBString=getRGBString;exports.hsv2rgb=hsv2rgb;exports.xy2polar=xy2polar;exports.rad2deg=rad2deg;exports.addTouchEvents=addTouchEvents;exports.touchesToPolar=touchesToPolar;var _lodash=require("lodash");var _touches=_interopRequireDefault(require("touches"));function getRGBString(r,g,b){if((0,_lodash.isArray)(r)){g=r[1];b=r[2];r=r[0]}else{g=(0,_lodash.isUndefined)(g)?r:g;b=(0,_lodash.isUndefined)(b)?r:b}return"rgb(".concat(r,",").concat(g,",").concat(b,");")}function hsv2rgb(hue,saturation,value){var chroma=value*saturation;var hue1=hue/60;var x=chroma*(1-Math.abs(hue1%2-1));var r1,g1,b1;if(hue1>=0&&hue1<=1){r1=chroma;g1=x;b1=0}else if(hue1>=1&&hue1<=2){r1=x;g1=chroma;b1=0}else if(hue1>=2&&hue1<=3){r1=0;g1=chroma;b1=x}else if(hue1>=3&&hue1<=4){r1=0;g1=x;b1=chroma}else if(hue1>=4&&hue1<=5){r1=x;g1=0;b1=chroma}else if(hue1>=5&&hue1<=6){r1=chroma;g1=0;b1=x}var m=value-chroma;var r=r1+m,g=g1+m,b=b1+m;return[255*r,255*g,255*b]}function xy2polar(x,y){var r=Math.sqrt(x*x+y*y);var phi=Math.atan2(y,x);return[r,phi]}function rad2deg(rad){return(rad+Math.PI)/(2*Math.PI)*360}function addTouchEvents(el,callbacks){(0,_touches.default)(el,{target:el,filtered:true}).on("start",callbacks.start).on("move",callbacks.move).on("end",callbacks.end)}function touchesToPolar(e){var _e$touches$=e.touches[0],clientX=_e$touches$.clientX,clientY=_e$touches$.clientY}},{"@babel/runtime/helpers/interopRequireDefault":13,lodash:402,touches:461}],503:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.postJSON=exports.getJSON=exports.qs=void 0;var qs=function qs(string){var el=arguments.length>1&&arguments[1]!==undefined?arguments[1]:document;return el.querySelector(string)};exports.qs=qs;var getJSON=function getJSON(url){return fetch(url,{method:"GET"}).then(function(response){return response.json()})};exports.getJSON=getJSON;var postJSON=function postJSON(url,json){return fetch(url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(json)})};exports.postJSON=postJSON},{}],504:[function(require,module,exports){"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _emitter=_interopRequireDefault(require("../../../../../common/emitter"));var _store=_interopRequireDefault(require("../../../../../common/store"));var _default={testSet:function testSet(data){_store.default.setValue("test:set",data);_emitter.default.emit("test:set",data)},testPause:function testPause(data){_store.default.setValue("test:pause",data);_store.default.testUpdate()},testStop:function testStop(data){_store.default.setValue("test:stop",data);_store.default.testUpdate()},testUpdate:function testUpdate(data){_store.default.setValue("test:update",data.test);_emitter.default.emit("test:update",data);_store.default.testUpdate()}};exports.default=_default},{"../../../../../common/emitter":477,"../../../../../common/store":481,"@babel/runtime/helpers/interopRequireDefault":13}],505:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getActiveTestName=exports.getActiveTestIndex=exports.getActiveTestBlock=exports.getActiveTestData=exports.getActiveTestId=exports.getActiveTest=void 0;var _lodash=require("lodash");var getActiveTest=function getActiveTest(state){return state.activeTest};exports.getActiveTest=getActiveTest;var getActiveTestId=function getActiveTestId(state){return state.activeTest&&state.activeTest.id};exports.getActiveTestId=getActiveTestId;var getActiveTestData=function getActiveTestData(state){return state.activeTest&&getActiveTest(state).data};exports.getActiveTestData=getActiveTestData;var getActiveTestBlock=function getActiveTestBlock(state){return state.activeTest&&getActiveTestData(state).phases[getActiveTestIndex(state)]};exports.getActiveTestBlock=getActiveTestBlock;var getActiveTestIndex=function getActiveTestIndex(state){return state.activeTest&&state.activeTest.index};exports.getActiveTestIndex=getActiveTestIndex;var getActiveTestName=function getActiveTestName(state){return state.activeTest&&state.activeTest.name};exports.getActiveTestName=getActiveTestName},{lodash:402}]},{},[494]);
